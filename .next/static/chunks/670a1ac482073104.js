(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63059,e=>{"use strict";let a=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>a],63059)},63727,e=>{"use strict";let a=(0,e.i(75254).default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>a],63727)},91741,e=>{"use strict";let a=(0,e.i(75254).default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);e.s(["ClipboardList",()=>a],91741)},80324,e=>{"use strict";var a=e.i(71645),t=e.i(53210);function r(){let[e,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[n,d]=(0,a.useState)(null),[o,l]=(0,a.useState)(!1),c=(0,a.useCallback)(async()=>{i(!0),d(null);try{let{data:{session:e}}=await t.supabase.auth.getSession();if(!e?.user){r(null),i(!1);return}let{data:a,error:s}=await t.supabase.from("profiles").select("id, email, role").eq("id",e.user.id).single();if(s){let{data:a,error:s}=await t.supabase.from("profiles").select("id").limit(1);s?.code==="PGRST116"||s?.message?.includes("does not exist")?l(!0):a&&0!==a.length||l(!0),r({id:e.user.id,email:e.user.email||null,role:null})}else r(a),l(!1)}catch(e){d(e instanceof Error?e.message:"Failed to load profile")}finally{i(!1)}},[]),m=(0,a.useCallback)(async()=>{try{let{data:{session:e}}=await t.supabase.auth.getSession();if(!e)return{success:!1,message:"Not authenticated"};let a=await fetch("/api/bootstrap",{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}}),r=await a.json();if(!a.ok)return{success:!1,message:r.error||"Bootstrap failed"};return await c(),{success:!0,message:r.message||"Bootstrap complete"}}catch(e){return{success:!1,message:e instanceof Error?e.message:"Bootstrap failed"}}},[c]);return(0,a.useEffect)(()=>{c()},[c]),{profile:e,loading:s,error:n,refresh:c,runBootstrap:m,canBootstrap:o}}function s(e){switch(e){case"admin":return"/app/admin";case"hr":case"user":default:return"/app/hr/tasks";case"manager":return"/app/manager"}}e.s(["getRoleRedirectPath",()=>s,"useProfile",()=>r])},79112,e=>{"use strict";var a=e.i(43476),t=e.i(22016),r=e.i(80324),s=e.i(95116),i=e.i(63727),n=e.i(61911),d=e.i(98919),o=e.i(39616),l=e.i(63059),c=e.i(63209),m=e.i(7486),g=e.i(91741);let h=[{title:"Organizations",description:"Create and manage organizations. Switch between organizations.",href:"/app/org/select",icon:m.Building2},{title:"User Management",description:"Invite users, manage roles, and control team access.",href:"/app/admin/users",icon:n.Users},{title:"Audit Log",description:"View activity history and track admin actions.",href:"/app/admin/audit",icon:g.ClipboardList},{title:"Competence Admin",description:"Manage competence groups and competences used in matrices and gap analysis.",href:"/admin/competence",icon:s.Wrench},{title:"Positions Admin",description:"Configure positions and their competence requirements.",href:"/admin/positions",icon:i.Briefcase},{title:"Security Settings",description:"Configure authentication and access control policies.",href:"/app/admin/security",icon:d.Shield},{title:"System Settings",description:"Configure platform-wide settings and integrations.",href:"/app/admin/settings",icon:o.Settings}];function u(){let{profile:e,loading:s}=(0,r.useProfile)();if(s)return(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),(0,a.jsx)("div",{className:"h-4 w-96 bg-gray-200 dark:bg-gray-700 rounded"})]})});let i=e?.role==="admin";return(0,a.jsxs)("div",{className:"p-6 max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage platform configuration and settings."})]}),!i&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg flex items-start gap-3",children:[(0,a.jsx)(c.AlertCircle,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Limited Access"}),(0,a.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"You are viewing this page but may not have full admin privileges. Contact an administrator if you need elevated access."})]})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(e=>{let r=e.icon;return(0,a.jsxs)(t.default,{href:e.href,className:"group block p-5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-gray-300 dark:hover:border-gray-600 transition-colors","data-testid":`card-${e.title.toLowerCase().replace(/\s+/g,"-")}`,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:(0,a.jsx)(r,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,a.jsx)(l.ChevronRight,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors"})]}),(0,a.jsx)("h3",{className:"mt-4 text-base font-medium text-gray-900 dark:text-white",children:e.title}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:e.description})]},e.href)})}),e&&(0,a.jsx)("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Signed in as"," ",(0,a.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e.email})," ","with role"," ",(0,a.jsx)("span",{className:"font-mono text-xs bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:e.role||"not set"})]})})]})}e.s(["default",()=>u])}]);