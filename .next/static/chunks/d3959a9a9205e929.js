(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94179,e=>{"use strict";var a=e.i(43476),t=e.i(25913),r=e.i(47163);let s=(0,t.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"border [border-color:var(--badge-outline)] shadow-xs"},size:{default:"",sm:"text-[10px] px-2 py-0"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:l,...d}){return(0,a.jsx)("div",{className:(0,r.cn)(s({variant:t,size:l}),e),...d})}e.s(["Badge",()=>l])},25913,e=>{"use strict";var a=e.i(7670);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,r=a.clsx;e.s(["cva",0,(e,a)=>s=>{var l;if((null==a?void 0:a.variants)==null)return r(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:d,defaultVariants:i}=a,n=Object.keys(d).map(e=>{let a=null==s?void 0:s[e],r=null==i?void 0:i[e];if(null===a)return null;let l=t(a)||t(r);return d[e][l]}),c=s&&Object.entries(s).reduce((e,a)=>{let[t,r]=a;return void 0===r||(e[t]=r),e},{});return r(e,n,null==a||null==(l=a.compoundVariants)?void 0:l.reduce((e,a)=>{let{class:t,className:r,...s}=a;return Object.entries(s).every(e=>{let[a,t]=e;return Array.isArray(t)?t.includes({...i,...c}[a]):({...i,...c})[a]===t})?[...e,t,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}])},70065,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(47163);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));s.displayName="Card";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t}));i.displayName="CardContent",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>i,"CardHeader",()=>l,"CardTitle",()=>d])},43531,e=>{"use strict";let a=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],43531)},13837,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(70065),s=e.i(94179),l=e.i(43531);let d=(0,e.i(75254).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var i=e.i(38036);let n={business:{baseYearlySEK:15e3,perEmployeeMonthlySEK:49,maxIncludedEmployees:25,features:["Competence matrix","Gap analysis","Employee import","Basic reporting","Up to 50 employees"]},enterprise:{baseYearlySEK:3e4,perEmployeeMonthlySEK:89,maxIncludedEmployees:25,features:["Everything in Business","Manager risk dashboard","Equipment tracking","On/offboarding automation","Medical check tracking","Contract expiry alerts","Unlimited employees","Priority support"]}};var c=e.i(53210);function o(){let e,o,[x,m]=(0,t.useState)(null),[y,u]=(0,t.useState)(0),[g,p]=(0,t.useState)(!0),h="enterprise";if((0,t.useEffect)(()=>{!async function(){let[e,a]=await Promise.all([(0,i.getCurrentUser)(),c.supabase.from("employees").select("id",{count:"exact",head:!0}).eq("is_active",!0)]);m(e),u(a.count||0),p(!1)}()},[]),g)return(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})});if(x?.role!=="HR_ADMIN")return(0,a.jsx)("div",{className:"p-8",children:(0,a.jsx)(r.Card,{children:(0,a.jsx)(r.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Only HR administrators can access billing settings."})]})})})});let b=n[h],f=(o=Math.max(0,y-(e=n[h]).maxIncludedEmployees)*e.perEmployeeMonthlySEK,e.baseYearlySEK+12*o),j=Math.round(f/12),v=y>0?Math.round(f/y/12):0;return(0,a.jsxs)("div",{className:"p-8 max-w-4xl","data-testid":"billing-page",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Billing"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage your subscription and billing details"})]}),(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)(r.CardTitle,{children:"Current Plan"})]}),(0,a.jsx)(s.Badge,{variant:"default","data-testid":"badge-current-plan",children:h.charAt(0).toUpperCase()+h.slice(1)})]})}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Active Employees"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-headcount",children:y})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Estimated Yearly Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-yearly-cost",children:[f.toLocaleString()," SEK"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Per Employee / Month"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-per-employee",children:[v," SEK"]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Included Features"}),(0,a.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.features.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,a.jsx)(l.Check,{className:"h-4 w-4 text-green-500"}),e]},t))})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{children:"Billing Details"})}),(0,a.jsxs)(r.CardContent,{children:[(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Billing is currently handled manually. For invoices, payment questions, or plan changes, please contact your account representative or email billing@industrialcompetence.app."})}),(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Billing Cycle"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Annual"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Base Fee"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[b.baseYearlySEK.toLocaleString()," SEK / year"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Per Employee (after ",b.maxIncludedEmployees,")"]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[b.perEmployeeMonthlySEK," SEK / month"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Estimated Monthly Total"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[j.toLocaleString()," SEK"]})]})]})]})]})]})]})}e.s(["default",()=>o],13837)}]);