(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63059,e=>{"use strict";let a=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>a],63059)},55436,e=>{"use strict";let a=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>a],55436)},98157,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(22016),s=e.i(61911),d=e.i(55436),l=e.i(63059),i=e.i(53210);function n(){let[e,n]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[x,m]=(0,t.useState)(""),[y,g]=(0,t.useState)("");(0,t.useEffect)(()=>{!async function(){let{data:e,error:a}=await i.supabase.from("employees").select("*, manager:manager_id(name)").eq("is_active",!0).order("name");!a&&e?n(e.map(e=>({id:e.id,name:e.name||"",firstName:e.first_name||void 0,lastName:e.last_name||void 0,employeeNumber:e.employee_number||"",email:e.email||void 0,phone:e.phone||void 0,dateOfBirth:e.date_of_birth||void 0,role:e.role||"",line:e.line||"",team:e.team||"",employmentType:e.employment_type||"permanent",startDate:e.start_date||void 0,contractEndDate:e.contract_end_date||void 0,managerId:e.manager_id||void 0,managerName:e.manager?.name||void 0,address:e.address||void 0,city:e.city||void 0,postalCode:e.postal_code||void 0,country:e.country||"Sweden",isActive:e.is_active??!0}))):a&&console.error("Error loading employees:",a),c(!1)}()},[]);let p=[...new Set(e.map(e=>e.line).filter(Boolean))].sort(),h=e.filter(e=>{let a=!x||e.name.toLowerCase().includes(x.toLowerCase())||e.employeeNumber.toLowerCase().includes(x.toLowerCase()),t=!y||e.line===y;return a&&t});return o?(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(s.Users,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Employees"})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h.length," employees"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[(0,a.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name or employee number...",value:x,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"input-search-employees"})]}),(0,a.jsxs)("select",{value:y,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"select-line-filter",children:[(0,a.jsx)("option",{value:"",children:"All Lines"}),p.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Employee No"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Line"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Team"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Manager"}),(0,a.jsx)("th",{className:"w-10"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:0===h.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No employees found"})}):h.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors","data-testid":`row-employee-${e.id}`,children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)(r.default,{href:`/app/employees/${e.id}`,className:"font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400","data-testid":`link-employee-${e.id}`,children:e.name})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:e.employeeNumber}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:e.line||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:e.team||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:e.role||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:e.managerName||"-"}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)(r.default,{href:`/app/employees/${e.id}`,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,a.jsx)(l.ChevronRight,{className:"h-4 w-4"})})})]},e.id))})]})})]})}e.s(["default",()=>n])}]);