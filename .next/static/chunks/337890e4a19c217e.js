(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},66685,e=>{"use strict";var t=e.i(71645),r=e.i(18566),a=e.i(65615);function s(){let[e,s]=(0,t.useState)(!0),n=(0,r.useRouter)();return(0,t.useEffect)(()=>{let e=!0;return async function(){try{!await (0,a.getAuthUser)()&&e?n.replace("/login"):e&&s(!1)}catch(t){console.error("Error checking auth",t),e&&n.replace("/login")}}(),()=>{e=!1}},[n]),{loading:e}}e.s(["useAuthGuard",()=>s])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},25913,e=>{"use strict";var t=e.i(7670);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=t.clsx;e.s(["cva",0,(e,t)=>s=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(e=>{let t=null==s?void 0:s[e],a=null==o?void 0:o[e];if(null===t)return null;let n=r(t)||r(a);return i[e][n]}),d=s&&Object.entries(s).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return a(e,l,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...d}[t]):({...o,...d})[t]===r})?[...e,r,a]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}])},70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));l.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>o,"CardHeader",()=>n,"CardTitle",()=>i])},91918,20783,e=>{"use strict";var t=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}function s(...e){return t.useCallback(a(...e),e)}e.s(["composeRefs",()=>a,"useComposedRefs",()=>s],20783);var n=e.i(43476);function i(e){var r;let s,i=(r=e,(s=t.forwardRef((e,r)=>{let{children:s,...n}=e;if(t.isValidElement(s)){var i;let e,o,l=(i=s,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{n(...e),s(...e)}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(n,s.props);return s.type!==t.Fragment&&(d.ref=r?a(r,l):l),t.cloneElement(s,d)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${r}.SlotClone`,s),o=t.forwardRef((e,r)=>{let{children:a,...s}=e,o=t.Children.toArray(a),l=o.find(c);if(l){let e=l.props.children,a=o.map(r=>r!==l?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,n.jsx)(i,{...s,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,n.jsx)(i,{...s,ref:r,children:a})});return o.displayName=`${e}.Slot`,o}var o=i("Slot"),l=Symbol("radix.slottable");function d(e){let t=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=l,t}function c(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}e.s(["Slot",()=>o,"createSlot",()=>i,"createSlottable",()=>d],91918)},67881,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(91918),s=e.i(25913),n=e.i(47163);let i=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:"border [border-color:var(--button-outline)] shadow-xs active:shadow-none",secondary:"border bg-secondary text-secondary-foreground border-secondary-border",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:r,size:s,asChild:o=!1,...l},d)=>{let c=o?a.Slot:"button";return(0,t.jsx)(c,{className:(0,n.cn)(i({variant:r,size:s,className:e})),ref:d,...l})});o.displayName="Button",e.s(["Button",()=>o,"buttonVariants",()=>i])},94179,e=>{"use strict";var t=e.i(43476),r=e.i(25913),a=e.i(47163);let s=(0,r.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"border [border-color:var(--badge-outline)] shadow-xs"},size:{default:"",sm:"text-[10px] px-2 py-0"}},defaultVariants:{variant:"default",size:"default"}});function n({className:e,variant:r,size:n,...i}){return(0,t.jsx)("div",{className:(0,a.cn)(s({variant:r,size:n}),e),...i})}e.s(["Badge",()=>n])},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},30030,e=>{"use strict";var t=e.i(71645),r=e.i(43476);function a(e,a){let s=t.createContext(a),n=e=>{let{children:a,...n}=e,i=t.useMemo(()=>n,Object.values(n));return(0,r.jsx)(s.Provider,{value:i,children:a})};return n.displayName=e+"Provider",[n,function(r){let n=t.useContext(s);if(n)return n;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function s(e,a=[]){let n=[],i=()=>{let r=n.map(e=>t.createContext(e));return function(a){let s=a?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[function(a,s){let i=t.createContext(s),o=n.length;n=[...n,s];let l=a=>{let{scope:s,children:n,...l}=a,d=s?.[e]?.[o]||i,c=t.useMemo(()=>l,Object.values(l));return(0,r.jsx)(d.Provider,{value:c,children:n})};return l.displayName=a+"Provider",[l,function(r,n){let l=n?.[e]?.[o]||i,d=t.useContext(l);if(d)return d;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${a}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=a.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return a.scopeName=r.scopeName,a}(i,...a)]}e.s(["createContext",()=>a,"createContextScope",()=>s])},48425,e=>{"use strict";var t=e.i(71645),r=e.i(74080),a=e.i(91918),s=e.i(43476),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let n=(0,a.createSlot)(`Primitive.${r}`),i=t.forwardRef((e,t)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?n:r,{...i,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function i(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>n,"dispatchDiscreteCustomEvent",()=>i])},81140,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:a=!0}={}){return function(t){if(e?.(t),!1===a||!t.defaultPrevented)return r?.(t)}}e.s(["composeEventHandlers",()=>t])},30207,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}e.s(["useCallbackRef",()=>r])},34620,e=>{"use strict";var t=e.i(71645),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},35804,e=>{"use strict";var t=e.i(71645),r=e.i(34620);function a(e){let[a,s]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;s({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),a}e.s(["useSize",()=>a])},69340,99682,e=>{"use strict";var t=e.i(71645),r=e.i(30207);function a({prop:e,defaultProp:a,onChange:s=()=>{}}){let[n,i]=function({defaultProp:e,onChange:a}){let s=t.useState(e),[n]=s,i=t.useRef(n),o=(0,r.useCallbackRef)(a);return t.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),s}({defaultProp:a,onChange:s}),o=void 0!==e,l=o?e:n,d=(0,r.useCallbackRef)(s);return[l,t.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&d(r)}else i(t)},[o,e,i,d])]}function s(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["useControllableState",()=>a],69340),e.s(["usePrevious",()=>s],99682)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let s=r.forwardRef(({className:e,type:r,...s},n)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));s.displayName="Input",e.s(["Input",()=>s])},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},96626,e=>{"use strict";var t=e.i(71645),r=e.i(20783),a=e.i(34620),s=e=>{var s;let i,o,{present:l,children:d}=e,c=function(e){var r,s;let[i,o]=t.useState(),l=t.useRef({}),d=t.useRef(e),c=t.useRef("none"),[u,p]=(r=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>s[e][t]??e,r));return t.useEffect(()=>{let e=n(l.current);c.current="mounted"===u?e:"none"},[u]),(0,a.useLayoutEffect)(()=>{let t=l.current,r=d.current;if(r!==e){let a=c.current,s=n(t);e?p("MOUNT"):"none"===s||t?.display==="none"?p("UNMOUNT"):r&&a!==s?p("ANIMATION_OUT"):p("UNMOUNT"),d.current=e}},[e,p]),(0,a.useLayoutEffect)(()=>{if(i){let e,t=i.ownerDocument.defaultView??window,r=r=>{let a=n(l.current).includes(r.animationName);if(r.target===i&&a&&(p("ANIMATION_END"),!d.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},a=e=>{e.target===i&&(c.current=n(l.current))};return i.addEventListener("animationstart",a),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",a),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}p("ANIMATION_END")},[i,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{e&&(l.current=getComputedStyle(e)),o(e)},[])}}(l),u="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),p=(0,r.useComposedRefs)(c.ref,(s=u,(o=(i=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?s.ref:(o=(i=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in i&&i.isReactWarning)?s.props.ref:s.props.ref||s.ref));return"function"==typeof d||c.isPresent?t.cloneElement(u,{ref:p}):null};function n(e){return e?.animationName||"none"}s.displayName="Presence",e.s(["Presence",()=>s])},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},4072,e=>{"use strict";var t=e.i(53210);let r=[{id:"sick_leave",name:"Sick Leave Follow-up",description:"Structured follow-up process for employees on sick leave according to Swedish labor law",category:"health",defaultSteps:[{title:"Day 1 Contact",description:"Manager contacts employee to check in",daysFromStart:1,responsibleRole:"manager"},{title:"Week 1 Review",description:"Assess if return-to-work plan needed",daysFromStart:7,responsibleRole:"hr"},{title:"Day 14 Coordination",description:"Evaluate need for rehab coordination with Försäkringskassan",daysFromStart:14,responsibleRole:"hr"},{title:"Day 30 Meeting",description:"Formal meeting to discuss return or continued leave",daysFromStart:30,responsibleRole:"manager"},{title:"Day 60 Rehab Plan",description:"If applicable, create detailed rehabilitation plan",daysFromStart:60,responsibleRole:"hr"}]},{id:"rehab",name:"Rehabilitation Process",description:"Comprehensive rehabilitation plan for returning employees to full capacity",category:"health",defaultSteps:[{title:"Initial Assessment",description:"Assess current capacity and restrictions",daysFromStart:0,responsibleRole:"hr"},{title:"Doctor Consultation",description:"Review medical recommendations",daysFromStart:3,responsibleRole:"hr"},{title:"Workplace Adjustment",description:"Implement necessary workplace adjustments",daysFromStart:7,responsibleRole:"manager"},{title:"Week 2 Check-in",description:"Review progress and adjust if needed",daysFromStart:14,responsibleRole:"manager"},{title:"Week 4 Evaluation",description:"Formal evaluation of rehab progress",daysFromStart:28,responsibleRole:"hr"},{title:"Completion Review",description:"Final assessment and closure",daysFromStart:56,responsibleRole:"hr"}]},{id:"parental_leave",name:"Parental Leave",description:"Manage parental leave transitions smoothly for both departure and return",category:"leave",defaultSteps:[{title:"Notification Received",description:"Record parental leave request and planned dates",daysFromStart:0,responsibleRole:"hr"},{title:"Handover Planning",description:"Plan work handover and coverage",daysFromStart:7,responsibleRole:"manager"},{title:"Backfill Decision",description:"Determine if temporary replacement needed",daysFromStart:14,responsibleRole:"hr"},{title:"Pre-departure Meeting",description:"Final handover meeting before leave",daysFromStart:-7,responsibleRole:"manager"},{title:"Return Contact",description:"Contact employee 30 days before planned return",daysFromStart:-30,responsibleRole:"hr"},{title:"Return Planning",description:"Plan reboarding activities",daysFromStart:-14,responsibleRole:"manager"}]},{id:"reboarding",name:"Reboarding",description:"Re-integrate employees returning from extended leave",category:"lifecycle",defaultSteps:[{title:"Welcome Back Meeting",description:"Discuss changes and expectations",daysFromStart:0,responsibleRole:"manager"},{title:"System Access Check",description:"Verify all system access is active",daysFromStart:0,responsibleRole:"hr"},{title:"Training Update",description:"Review and schedule any required training updates",daysFromStart:3,responsibleRole:"manager"},{title:"Week 1 Check-in",description:"Discuss how re-integration is going",daysFromStart:7,responsibleRole:"manager"},{title:"30-day Review",description:"Formal review of reboarding success",daysFromStart:30,responsibleRole:"hr"}]},{id:"onboarding",name:"New Employee Onboarding",description:"Standard onboarding process for new employees",category:"lifecycle",defaultSteps:[{title:"Pre-start Preparation",description:"Prepare equipment, accounts, and workspace",daysFromStart:-7,responsibleRole:"hr"},{title:"Day 1 Welcome",description:"Welcome meeting and office tour",daysFromStart:0,responsibleRole:"manager"},{title:"HR Introduction",description:"Policies, benefits, and compliance training",daysFromStart:1,responsibleRole:"hr"},{title:"Week 1 Check-in",description:"Review first week experience",daysFromStart:5,responsibleRole:"manager"},{title:"30-day Review",description:"Formal review of onboarding progress",daysFromStart:30,responsibleRole:"manager"},{title:"90-day Review",description:"End of probation review",daysFromStart:90,responsibleRole:"hr"}]},{id:"offboarding",name:"Employee Offboarding",description:"Standard offboarding process for departing employees",category:"lifecycle",defaultSteps:[{title:"Exit Notice Received",description:"Document resignation or termination details",daysFromStart:0,responsibleRole:"hr"},{title:"Handover Planning",description:"Plan knowledge transfer and handover",daysFromStart:1,responsibleRole:"manager"},{title:"Exit Interview Scheduled",description:"Schedule exit interview if applicable",daysFromStart:7,responsibleRole:"hr"},{title:"Equipment Return",description:"Collect company equipment and access cards",daysFromStart:-2,responsibleRole:"hr"},{title:"Final Day Procedures",description:"System access revocation, final paperwork",daysFromStart:0,responsibleRole:"hr"},{title:"Post-departure Cleanup",description:"Archive data, update org charts",daysFromStart:1,responsibleRole:"hr"}]}];function a(){return r}async function s(e){let r=t.supabase.from("hr_workflow_instances").select("*").order("started_at",{ascending:!1});e?.status&&(r=r.eq("status",e.status)),e?.employeeId&&(r=r.eq("employee_id",e.employeeId)),e?.templateId&&(r=r.eq("template_id",e.templateId));let{data:a,error:s}=await r;return s||!a?[]:a.map(l)}async function n(e){let{data:r,error:a}=await t.supabase.from("hr_workflow_instances").select("*").eq("id",e).single();return a||!r?null:l(r)}async function i(e,r,a,s){let i=await n(e);if(!i)return!1;let o=i.steps.map(e=>e.id===r?{...e,isCompleted:!0,completedAt:new Date().toISOString(),completedBy:a,notes:s}:e),l=o.every(e=>e.isCompleted),{error:d}=await t.supabase.from("hr_workflow_instances").update({steps:o,status:l?"completed":"active",completed_at:l?new Date().toISOString():null}).eq("id",e);return!d}async function o(e){let{error:r}=await t.supabase.from("hr_workflow_instances").update({status:"cancelled"}).eq("id",e);return!r}function l(e){return{id:e.id,templateId:e.template_id,templateName:e.template_name,employeeId:e.employee_id,employeeName:e.employee_name,startedAt:e.started_at,dueDate:e.due_date,status:e.status,steps:e.steps||[],createdBy:e.created_by,completedAt:e.completed_at,notes:e.notes}}e.s(["WORKFLOW_TEMPLATES",0,r,"cancelWorkflow",()=>o,"completeWorkflowStep",()=>i,"getWorkflowById",()=>n,"getWorkflowInstances",()=>s,"getWorkflowTemplates",()=>a])},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},30374,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(81140),s=e.i(20783),n=e.i(30030),i=e.i(10772),o=e.i(69340),l=e.i(26330),d=e.i(65491),c=e.i(74606),u=e.i(96626),p=e.i(48425),m=e.i(3536),f=e.i(85369),g=e.i(86312),h=e.i(91918),v="Dialog",[y,x]=(0,n.createContextScope)(v),[b,w]=y(v),j=e=>{let{__scopeDialog:a,children:s,open:n,defaultOpen:l,onOpenChange:d,modal:c=!0}=e,u=r.useRef(null),p=r.useRef(null),[m=!1,f]=(0,o.useControllableState)({prop:n,defaultProp:l,onChange:d});return(0,t.jsx)(b,{scope:a,triggerRef:u,contentRef:p,contentId:(0,i.useId)(),titleId:(0,i.useId)(),descriptionId:(0,i.useId)(),open:m,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),modal:c,children:s})};j.displayName=v;var N="DialogTrigger",C=r.forwardRef((e,r)=>{let{__scopeDialog:n,...i}=e,o=w(N,n),l=(0,s.useComposedRefs)(r,o.triggerRef);return(0,t.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":z(o.open),...i,ref:l,onClick:(0,a.composeEventHandlers)(e.onClick,o.onOpenToggle)})});C.displayName=N;var k="DialogPortal",[S,R]=y(k,{forceMount:void 0}),D=e=>{let{__scopeDialog:a,forceMount:s,children:n,container:i}=e,o=w(k,a);return(0,t.jsx)(S,{scope:a,forceMount:s,children:r.Children.map(n,e=>(0,t.jsx)(u.Presence,{present:s||o.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:i,children:e})}))})};D.displayName=k;var F="DialogOverlay",E=r.forwardRef((e,r)=>{let a=R(F,e.__scopeDialog),{forceMount:s=a.forceMount,...n}=e,i=w(F,e.__scopeDialog);return i.modal?(0,t.jsx)(u.Presence,{present:s||i.open,children:(0,t.jsx)(T,{...n,ref:r})}):null});E.displayName=F;var I=(0,h.createSlot)("DialogOverlay.RemoveScroll"),T=r.forwardRef((e,r)=>{let{__scopeDialog:a,...s}=e,n=w(F,a);return(0,t.jsx)(f.RemoveScroll,{as:I,allowPinchZoom:!0,shards:[n.contentRef],children:(0,t.jsx)(p.Primitive.div,{"data-state":z(n.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),A="DialogContent",P=r.forwardRef((e,r)=>{let a=R(A,e.__scopeDialog),{forceMount:s=a.forceMount,...n}=e,i=w(A,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:s||i.open,children:i.modal?(0,t.jsx)(_,{...n,ref:r}):(0,t.jsx)(O,{...n,ref:r})})});P.displayName=A;var _=r.forwardRef((e,n)=>{let i=w(A,e.__scopeDialog),o=r.useRef(null),l=(0,s.useComposedRefs)(n,i.contentRef,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,g.hideOthers)(e)},[]),(0,t.jsx)(M,{...e,ref:l,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),O=r.forwardRef((e,a)=>{let s=w(A,e.__scopeDialog),n=r.useRef(!1),i=r.useRef(!1);return(0,t.jsx)(M,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||s.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),M=r.forwardRef((e,a)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,p=w(A,n),f=r.useRef(null),g=(0,s.useComposedRefs)(a,f);return(0,m.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:(0,t.jsx)(l.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":z(p.open),...u,ref:g,onDismiss:()=>p.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G,{titleId:p.titleId}),(0,t.jsx)(X,{contentRef:f,descriptionId:p.descriptionId})]})]})}),W="DialogTitle",H=r.forwardRef((e,r)=>{let{__scopeDialog:a,...s}=e,n=w(W,a);return(0,t.jsx)(p.Primitive.h2,{id:n.titleId,...s,ref:r})});H.displayName=W;var B="DialogDescription",L=r.forwardRef((e,r)=>{let{__scopeDialog:a,...s}=e,n=w(B,a);return(0,t.jsx)(p.Primitive.p,{id:n.descriptionId,...s,ref:r})});L.displayName=B;var $="DialogClose",U=r.forwardRef((e,r)=>{let{__scopeDialog:s,...n}=e,i=w($,s);return(0,t.jsx)(p.Primitive.button,{type:"button",...n,ref:r,onClick:(0,a.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function z(e){return e?"open":"closed"}U.displayName=$;var V="DialogTitleWarning",[q,K]=(0,n.createContext)(V,{contentName:A,titleName:W,docsSlug:"dialog"}),G=({titleId:e})=>{let t=K(V),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},X=({contentRef:e,descriptionId:t})=>{let a=K("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Z=e.i(37727),J=e.i(47163);let Q=(0,r.forwardRef)(({className:e,...r},a)=>(0,t.jsx)(E,{ref:a,className:(0,J.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));Q.displayName=E.displayName;let Y=(0,r.forwardRef)(({className:e,children:r,...a},s)=>(0,t.jsxs)(D,{children:[(0,t.jsx)(Q,{}),(0,t.jsxs)(P,{ref:s,className:(0,J.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[r,(0,t.jsxs)(U,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(Z.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));Y.displayName=P.displayName;let ee=({className:e,...r})=>(0,t.jsx)("div",{className:(0,J.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});ee.displayName="DialogHeader";let et=({className:e,...r})=>(0,t.jsx)("div",{className:(0,J.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});et.displayName="DialogFooter";let er=(0,r.forwardRef)(({className:e,...r},a)=>(0,t.jsx)(H,{ref:a,className:(0,J.cn)("text-lg font-semibold leading-none tracking-tight",e),...r}));er.displayName=H.displayName;let ea=(0,r.forwardRef)(({className:e,...r},a)=>(0,t.jsx)(L,{ref:a,className:(0,J.cn)("text-sm text-muted-foreground",e),...r}));ea.displayName=L.displayName,e.s(["Dialog",()=>j,"DialogContent",()=>Y,"DialogDescription",()=>ea,"DialogFooter",()=>et,"DialogHeader",()=>ee,"DialogTitle",()=>er,"DialogTrigger",()=>C],30374)},27341,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(81140),s=e.i(30030),n=e.i(75830),i=e.i(20783),o=e.i(10772),l=e.i(48425),d=e.i(30207),c=e.i(69340),u=e.i(86318),p="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[g,h,v]=(0,n.createCollection)(f),[y,x]=(0,s.createContextScope)(f,[v]),[b,w]=y(f),j=r.forwardRef((e,r)=>(0,t.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(N,{...e,ref:r})})}));j.displayName=f;var N=r.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:n,orientation:o,loop:f=!1,dir:g,currentTabStopId:v,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:x,onEntryFocus:w,preventScrollOnEntryFocus:j=!1,...N}=e,C=r.useRef(null),k=(0,i.useComposedRefs)(s,C),S=(0,u.useDirection)(g),[D=null,F]=(0,c.useControllableState)({prop:v,defaultProp:y,onChange:x}),[E,I]=r.useState(!1),T=(0,d.useCallbackRef)(w),A=h(n),P=r.useRef(!1),[_,O]=r.useState(0);return r.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(p,T),()=>e.removeEventListener(p,T)},[T]),(0,t.jsx)(b,{scope:n,orientation:o,dir:S,loop:f,currentTabStopId:D,onItemFocus:r.useCallback(e=>F(e),[F]),onItemShiftTab:r.useCallback(()=>I(!0),[]),onFocusableItemAdd:r.useCallback(()=>O(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>O(e=>e-1),[]),children:(0,t.jsx)(l.Primitive.div,{tabIndex:E||0===_?-1:0,"data-orientation":o,...N,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{P.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!P.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(p,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);R([e.find(e=>e.active),e.find(e=>e.id===D),...e].filter(Boolean).map(e=>e.ref.current),j)}}P.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>I(!1))})})}),C="RovingFocusGroupItem",k=r.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:n,focusable:i=!0,active:d=!1,tabStopId:c,...u}=e,p=(0,o.useId)(),m=c||p,f=w(C,n),v=f.currentTabStopId===m,y=h(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=f;return r.useEffect(()=>{if(i)return x(),()=>b()},[i,x,b]),(0,t.jsx)(g.ItemSlot,{scope:n,id:m,focusable:i,active:d,children:(0,t.jsx)(l.Primitive.span,{tabIndex:v?0:-1,"data-orientation":f.orientation,...u,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{i?f.onItemFocus(m):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(m)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let s=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return S[s]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&s.reverse();let n=s.indexOf(e.currentTarget);s=f.loop?(r=s,a=n+1,r.map((e,t)=>r[(a+t)%r.length])):s.slice(n+1)}setTimeout(()=>R(s))}})})})});k.displayName=C;var S={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var D=e.i(96626),F="Tabs",[E,I]=(0,s.createContextScope)(F,[x]),T=x(),[A,P]=E(F),_=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:i,orientation:d="horizontal",dir:p,activationMode:m="automatic",...f}=e,g=(0,u.useDirection)(p),[h,v]=(0,c.useControllableState)({prop:s,onChange:n,defaultProp:i});return(0,t.jsx)(A,{scope:a,baseId:(0,o.useId)(),value:h,onValueChange:v,orientation:d,dir:g,activationMode:m,children:(0,t.jsx)(l.Primitive.div,{dir:g,"data-orientation":d,...f,ref:r})})});_.displayName=F;var O="TabsList",M=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,i=P(O,a),o=T(a);return(0,t.jsx)(j,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});M.displayName=O;var W="TabsTrigger",H=r.forwardRef((e,r)=>{let{__scopeTabs:s,value:n,disabled:i=!1,...o}=e,d=P(W,s),c=T(s),u=$(d.baseId,n),p=U(d.baseId,n),m=n===d.value;return(0,t.jsx)(k,{asChild:!0,...c,focusable:!i,active:m,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;m||i||!e||d.onValueChange(n)})})})});H.displayName=W;var B="TabsContent",L=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:n,forceMount:i,children:o,...d}=e,c=P(B,s),u=$(c.baseId,n),p=U(c.baseId,n),m=n===c.value,f=r.useRef(m);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(D.Presence,{present:i||m,children:({present:r})=>(0,t.jsx)(l.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:p,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&o})})});function $(e,t){return`${e}-trigger-${t}`}function U(e,t){return`${e}-content-${t}`}L.displayName=B;var z=e.i(47163);let V=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(M,{ref:a,className:(0,z.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...r}));V.displayName=M.displayName;let q=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(H,{ref:a,className:(0,z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...r}));q.displayName=H.displayName;let K=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(L,{ref:a,className:(0,z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));K.displayName=L.displayName,e.s(["Tabs",()=>_,"TabsContent",()=>K,"TabsList",()=>V,"TabsTrigger",()=>q],27341)},64712,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(70065),s=e.i(67881),n=e.i(94179),i=e.i(23750),o=e.i(62870),l=e.i(30374),d=e.i(27341),c=e.i(7233),u=e.i(55436),p=e.i(3116),m=e.i(69638),f=e.i(73884),g=e.i(63059),h=e.i(84614),v=e.i(87316),y=e.i(78894),x=e.i(4072),b=e.i(53210),w=e.i(38036),j=e.i(66685);function N(){let{loading:e}=(0,j.useAuthGuard)();return e?(0,t.jsx)("main",{className:"hr-page",children:(0,t.jsx)("p",{children:"Checking access..."})}):(0,t.jsx)(C,{})}function C(){let[e]=(0,r.useState)((0,x.getWorkflowTemplates)()),[j,N]=(0,r.useState)([]),[C,k]=(0,r.useState)(!0),[S,R]=(0,r.useState)(!0),[D,F]=(0,r.useState)("all"),[E,I]=(0,r.useState)(""),[T,A]=(0,r.useState)(!1),[P,_]=(0,r.useState)(null),[O,M]=(0,r.useState)(""),[W,H]=(0,r.useState)([]),[B,L]=(0,r.useState)(!1),[$,U]=(0,r.useState)(null),[z,V]=(0,r.useState)(!1),q=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/workflows");if(e.ok){let t=await e.json();"all"!==D&&(t=t.filter(e=>e.status===D)),N(t)}}catch(e){console.error("Failed to load workflow instances:",e),N([])}},[D]);(0,r.useEffect)(()=>{!async function(){let e=await (0,w.getCurrentUser)();if(!e||"HR_ADMIN"!==e.role){R(!1),k(!1);return}await q();let{data:t}=await b.supabase.from("employees").select("id, name").eq("is_active",!0).order("name");H(t||[]),k(!1)}()},[q]);let K=j.filter(e=>{if(!E)return!0;let t=E.toLowerCase();return e.templateName.toLowerCase().includes(t)||e.employeeName?.toLowerCase().includes(t)});async function G(){if(P&&O){L(!0);try{let e=await fetch("/api/workflows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateId:P,employeeId:O})});if(!e.ok){let t=await e.json();console.error("Failed to start workflow:",t)}}catch(e){console.error("Error starting workflow:",e)}await q(),A(!1),_(null),M(""),L(!1)}}async function X(e){if(!$)return;await (0,x.completeWorkflowStep)($.id,e);let t=await (0,x.getWorkflowById)($.id);t&&U(t),await q()}async function Z(){$&&(await (0,x.cancelWorkflow)($.id),V(!1),U(null),await q())}let J=e=>{switch(e){case"active":return(0,t.jsxs)(n.Badge,{variant:"default",children:[(0,t.jsx)(p.Clock,{className:"h-3 w-3 mr-1"})," Active"]});case"completed":return(0,t.jsxs)(n.Badge,{variant:"secondary",children:[(0,t.jsx)(m.CheckCircle,{className:"h-3 w-3 mr-1"})," Completed"]});case"cancelled":return(0,t.jsxs)(n.Badge,{variant:"outline",children:[(0,t.jsx)(f.XCircle,{className:"h-3 w-3 mr-1"})," Cancelled"]})}};return C?(0,t.jsx)("div",{className:"p-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),(0,t.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})}):S?(0,t.jsxs)("div",{className:"p-8","data-testid":"hr-workflows-page",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"HR Workflows"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage standardized HR processes"})]}),(0,t.jsxs)(s.Button,{onClick:()=>A(!0),"data-testid":"button-start-workflow",children:[(0,t.jsx)(c.Plus,{className:"h-4 w-4 mr-2"}),"Start Workflow"]})]}),(0,t.jsxs)(d.Tabs,{defaultValue:"instances",className:"space-y-6",children:[(0,t.jsxs)(d.TabsList,{children:[(0,t.jsx)(d.TabsTrigger,{value:"instances",children:"Active Workflows"}),(0,t.jsx)(d.TabsTrigger,{value:"templates",children:"Templates"})]}),(0,t.jsxs)(d.TabsContent,{value:"instances",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(i.Input,{placeholder:"Search workflows...",value:E,onChange:e=>I(e.target.value),className:"pl-9","data-testid":"input-search-workflows"})]}),(0,t.jsxs)(o.Select,{value:D,onValueChange:e=>F(e),children:[(0,t.jsx)(o.SelectTrigger,{className:"w-40","data-testid":"select-status-filter",children:(0,t.jsx)(o.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All statuses"}),(0,t.jsx)(o.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(o.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(o.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),C?(0,t.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},e))}):0===K.length?(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("p",{className:"mb-4",children:"No workflows found"}),(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>A(!0),children:"Start a Workflow"})]})})}):(0,t.jsx)("div",{className:"space-y-3",children:K.map(e=>{let r=e.steps.filter(e=>e.isCompleted).length,s=e.steps.length,n=s>0?Math.round(r/s*100):0;return(0,t.jsx)(a.Card,{className:"hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors",onClick:()=>{U(e),V(!0)},"data-testid":`card-workflow-${e.id}`,children:(0,t.jsx)(a.CardContent,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.templateName}),J(e.status)]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.User,{className:"h-3 w-3"}),e.employeeName||"Unknown"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(v.Calendar,{className:"h-3 w-3"}),"Started ",new Date(e.startedAt).toLocaleDateString("sv-SE")]}),(0,t.jsxs)("span",{children:[r,"/",s," steps (",n,"%)"]})]})]}),(0,t.jsx)(g.ChevronRight,{className:"h-5 w-5 text-gray-400"})]})})},e.id)})})]}),(0,t.jsx)(d.TabsContent,{value:"templates",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,t.jsxs)(a.Card,{"data-testid":`card-template-${e.id}`,children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsx)(a.CardTitle,{className:"text-base",children:e.name}),(0,t.jsx)(n.Badge,{variant:"secondary",children:e.category})]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mb-4",children:[e.defaultSteps.length," steps"]}),(0,t.jsx)(s.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{_(e.id),A(!0)},children:"Start This Workflow"})]})]},e.id))})})]}),(0,t.jsx)(l.Dialog,{open:T,onOpenChange:A,children:(0,t.jsxs)(l.DialogContent,{children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:"Start New Workflow"}),(0,t.jsx)(l.DialogDescription,{children:"Select a workflow template and employee to begin the process."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Template"}),(0,t.jsxs)(o.Select,{value:P||"",onValueChange:e=>_(e),children:[(0,t.jsx)(o.SelectTrigger,{"data-testid":"select-template",children:(0,t.jsx)(o.SelectValue,{placeholder:"Select a template"})}),(0,t.jsx)(o.SelectContent,{children:e.map(e=>(0,t.jsx)(o.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Employee"}),(0,t.jsxs)(o.Select,{value:O,onValueChange:M,children:[(0,t.jsx)(o.SelectTrigger,{"data-testid":"select-employee",children:(0,t.jsx)(o.SelectValue,{placeholder:"Select an employee"})}),(0,t.jsx)(o.SelectContent,{children:W.map(e=>(0,t.jsx)(o.SelectItem,{value:e.id,children:e.name},e.id))})]})]})]}),(0,t.jsxs)(l.DialogFooter,{children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,t.jsx)(s.Button,{onClick:G,disabled:!P||!O||B,"data-testid":"button-confirm-start",children:B?"Starting...":"Start Workflow"})]})]})}),(0,t.jsx)(l.Dialog,{open:z,onOpenChange:V,children:(0,t.jsx)(l.DialogContent,{className:"max-w-2xl",children:$&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.DialogTitle,{children:$.templateName}),J($.status)]}),(0,t.jsxs)(l.DialogDescription,{children:[$.employeeName," - Started ",new Date($.startedAt).toLocaleDateString("sv-SE")]})]}),(0,t.jsx)("div",{className:"py-4 max-h-96 overflow-y-auto",children:(0,t.jsx)("div",{className:"space-y-3",children:$.steps.map((e,r)=>(0,t.jsx)("div",{className:`p-4 rounded-md border ${e.isCompleted?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:["Step ",r+1]}),(0,t.jsx)(n.Badge,{variant:"outline",className:"text-xs",children:e.responsibleRole.toUpperCase()}),0!==e.daysFromStart&&(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["Day ",e.daysFromStart]})]}),(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description}),e.isCompleted&&e.completedAt&&(0,t.jsxs)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2",children:["Completed ",new Date(e.completedAt).toLocaleDateString("sv-SE")]})]}),!e.isCompleted&&"active"===$.status&&(0,t.jsxs)(s.Button,{size:"sm",onClick:()=>X(e.id),"data-testid":`button-complete-step-${e.id}`,children:[(0,t.jsx)(m.CheckCircle,{className:"h-4 w-4 mr-1"}),"Complete"]}),e.isCompleted&&(0,t.jsx)(m.CheckCircle,{className:"h-5 w-5 text-green-500"})]})},e.id))})}),(0,t.jsxs)(l.DialogFooter,{children:["active"===$.status&&(0,t.jsx)(s.Button,{variant:"destructive",onClick:Z,children:"Cancel Workflow"}),(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>V(!1),children:"Close"})]})]})})})]}):(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(y.AlertTriangle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"This page is only accessible to HR Administrators."})]})})})}e.s(["default",()=>N])}]);