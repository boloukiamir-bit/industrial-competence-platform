(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},96626,e=>{"use strict";var t=e.i(71645),a=e.i(20783),n=e.i(34620),r=e=>{var r;let s,o,{present:l,children:d}=e,c=function(e){var a,r;let[s,o]=t.useState(),l=t.useRef({}),d=t.useRef(e),c=t.useRef("none"),[u,m]=(a=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>r[e][t]??e,a));return t.useEffect(()=>{let e=i(l.current);c.current="mounted"===u?e:"none"},[u]),(0,n.useLayoutEffect)(()=>{let t=l.current,a=d.current;if(a!==e){let n=c.current,r=i(t);e?m("MOUNT"):"none"===r||t?.display==="none"?m("UNMOUNT"):a&&n!==r?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,n.useLayoutEffect)(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,a=a=>{let n=i(l.current).includes(a.animationName);if(a.target===s&&n&&(m("ANIMATION_END"),!d.current)){let a=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=a)})}},n=e=>{e.target===s&&(c.current=i(l.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}}m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{e&&(l.current=getComputedStyle(e)),o(e)},[])}}(l),u="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),m=(0,a.useComposedRefs)(c.ref,(r=u,(o=(s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?r.ref:(o=(s=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?r.props.ref:r.props.ref||r.ref));return"function"==typeof d||c.isPresent?t.cloneElement(u,{ref:m}):null};function i(e){return e?.animationName||"none"}r.displayName="Presence",e.s(["Presence",()=>r])},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},25913,e=>{"use strict";var t=e.i(7670);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=t.clsx;e.s(["cva",0,(e,t)=>r=>{var i;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;let i=a(t)||a(n);return s[e][i]}),d=r&&Object.entries(r).reduce((e,t)=>{let[a,n]=t;return void 0===n||(e[a]=n),e},{});return n(e,l,null==t||null==(i=t.compoundVariants)?void 0:i.reduce((e,t)=>{let{class:a,className:n,...r}=t;return Object.entries(r).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...o,...d}[t]):({...o,...d})[t]===a})?[...e,a,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}])},70065,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(47163);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let s=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));s.displayName="CardTitle";let o=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...a}));l.displayName="CardContent",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>l,"CardDescription",()=>o,"CardHeader",()=>i,"CardTitle",()=>s])},91918,20783,e=>{"use strict";var t=e.i(71645);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let n=!1,r=e.map(e=>{let r=a(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():a(e[t],null)}}}}function r(...e){return t.useCallback(n(...e),e)}e.s(["composeRefs",()=>n,"useComposedRefs",()=>r],20783);var i=e.i(43476);function s(e){var a;let r,s=(a=e,(r=t.forwardRef((e,a)=>{let{children:r,...i}=e;if(t.isValidElement(r)){var s;let e,o,l=(s=r,(o=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(o=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),d=function(e,t){let a={...t};for(let n in t){let r=e[n],i=t[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...e)=>{i(...e),r(...e)}:r&&(a[n]=r):"style"===n?a[n]={...r,...i}:"className"===n&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...e,...a}}(i,r.props);return r.type!==t.Fragment&&(d.ref=a?n(a,l):l),t.cloneElement(r,d)}return t.Children.count(r)>1?t.Children.only(null):null})).displayName=`${a}.SlotClone`,r),o=t.forwardRef((e,a)=>{let{children:n,...r}=e,o=t.Children.toArray(n),l=o.find(c);if(l){let e=l.props.children,n=o.map(a=>a!==l?a:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,i.jsx)(s,{...r,ref:a,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,i.jsx)(s,{...r,ref:a,children:n})});return o.displayName=`${e}.Slot`,o}var o=s("Slot"),l=Symbol("radix.slottable");function d(e){let t=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=l,t}function c(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}e.s(["Slot",()=>o,"createSlot",()=>s,"createSlottable",()=>d],91918)},67881,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(91918),r=e.i(25913),i=e.i(47163);let s=(0,r.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:"border [border-color:var(--button-outline)] shadow-xs active:shadow-none",secondary:"border bg-secondary text-secondary-foreground border-secondary-border",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:a,size:r,asChild:o=!1,...l},d)=>{let c=o?n.Slot:"button";return(0,t.jsx)(c,{className:(0,i.cn)(s({variant:a,size:r,className:e})),ref:d,...l})});o.displayName="Button",e.s(["Button",()=>o,"buttonVariants",()=>s])},94179,e=>{"use strict";var t=e.i(43476),a=e.i(25913),n=e.i(47163);let r=(0,a.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"border [border-color:var(--badge-outline)] shadow-xs"},size:{default:"",sm:"text-[10px] px-2 py-0"}},defaultVariants:{variant:"default",size:"default"}});function i({className:e,variant:a,size:i,...s}){return(0,t.jsx)("div",{className:(0,n.cn)(r({variant:a,size:i}),e),...s})}e.s(["Badge",()=>i])},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},30030,e=>{"use strict";var t=e.i(71645),a=e.i(43476);function n(e,n){let r=t.createContext(n),i=e=>{let{children:n,...i}=e,s=t.useMemo(()=>i,Object.values(i));return(0,a.jsx)(r.Provider,{value:s,children:n})};return i.displayName=e+"Provider",[i,function(a){let i=t.useContext(r);if(i)return i;if(void 0!==n)return n;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function r(e,n=[]){let i=[],s=()=>{let a=i.map(e=>t.createContext(e));return function(n){let r=n?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return s.scopeName=e,[function(n,r){let s=t.createContext(r),o=i.length;i=[...i,r];let l=n=>{let{scope:r,children:i,...l}=n,d=r?.[e]?.[o]||s,c=t.useMemo(()=>l,Object.values(l));return(0,a.jsx)(d.Provider,{value:c,children:i})};return l.displayName=n+"Provider",[l,function(a,i){let l=i?.[e]?.[o]||s,d=t.useContext(l);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${n}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:a,scopeName:n})=>{let r=a(e)[`__scope${n}`];return{...t,...r}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return n.scopeName=a.scopeName,n}(s,...n)]}e.s(["createContext",()=>n,"createContextScope",()=>r])},48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),n=e.i(91918),r=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let i=(0,n.createSlot)(`Primitive.${a}`),s=t.forwardRef((e,t)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(n?i:a,{...s,ref:t})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{});function s(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>s])},81140,e=>{"use strict";function t(e,a,{checkForDefaultPrevented:n=!0}={}){return function(t){if(e?.(t),!1===n||!t.defaultPrevented)return a?.(t)}}e.s(["composeEventHandlers",()=>t])},34620,e=>{"use strict";var t=e.i(71645),a=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>a])},30207,e=>{"use strict";var t=e.i(71645);function a(e){let a=t.useRef(e);return t.useEffect(()=>{a.current=e}),t.useMemo(()=>(...e)=>a.current?.(...e),[])}e.s(["useCallbackRef",()=>a])},69340,99682,e=>{"use strict";var t=e.i(71645),a=e.i(30207);function n({prop:e,defaultProp:n,onChange:r=()=>{}}){let[i,s]=function({defaultProp:e,onChange:n}){let r=t.useState(e),[i]=r,s=t.useRef(i),o=(0,a.useCallbackRef)(n);return t.useEffect(()=>{s.current!==i&&(o(i),s.current=i)},[i,s,o]),r}({defaultProp:n,onChange:r}),o=void 0!==e,l=o?e:i,d=(0,a.useCallbackRef)(r);return[l,t.useCallback(t=>{if(o){let a="function"==typeof t?t(e):t;a!==e&&d(a)}else s(t)},[o,e,s,d])]}function r(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}e.s(["useControllableState",()=>n],69340),e.s(["usePrevious",()=>r],99682)},35804,e=>{"use strict";var t=e.i(71645),a=e.i(34620);function n(e){let[n,r]=t.useState(void 0);return(0,a.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,n;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,n=t.blockSize}else a=e.offsetWidth,n=e.offsetHeight;r({width:a,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),n}e.s(["useSize",()=>n])},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},23750,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(47163);let r=a.forwardRef(({className:e,type:a,...r},i)=>(0,t.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));r.displayName="Input",e.s(["Input",()=>r])},84762,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function n({className:e,...n}){return(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...n})}e.s(["Textarea",()=>n])},46897,27979,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897);var a=e.i(53210),n=e.i(47167);function r(e){return e.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")}function i(e){return e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n")}async function s(e){let t,s,o,l,d,c,u,m,p,f,v,g=new Date(Date.now()-864e5).toISOString(),{data:h}=await a.supabase.from("email_outbox").select("id").filter("meta->>meeting_id","eq",String(e.id)).filter("meta->>type","eq","one_to_one_invite").gte("created_at",g).in("status",["pending","sent"]).limit(1);if(h&&h.length>0)return 0;let x=(t=new Date(e.scheduled_at),s=60*(e.duration_minutes||60)*1e3,o=new Date(t.getTime()+s),l=`meeting-${e.id}@industrialcompetence.app`,d=r(new Date),c=r(t),u=r(o),m=n.default.env.NEXT_PUBLIC_APP_URL||"https://industrial-competence.replit.app",p=i(`1:1 meeting – ${e.employee_name} & ${e.manager_name}`),f=i(`1:1 meeting between ${e.employee_name} and ${e.manager_name}.

View details: ${m}/app/one-to-ones/${e.id}`),["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Industrial Competence Platform//EN","CALSCALE:GREGORIAN","METHOD:REQUEST","BEGIN:VEVENT",`UID:${l}`,`DTSTAMP:${d}`,`DTSTART:${c}`,`DTEND:${u}`,`SUMMARY:${p}`,`DESCRIPTION:${f}`,(v=e.location?i(e.location):"")?`LOCATION:${v}`:"",`ORGANIZER;CN=${i(e.manager_name)}:mailto:${e.manager_email}`,`ATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;CN=${i(e.manager_name)}:mailto:${e.manager_email}`,`ATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;CN=${i(e.employee_name)}:mailto:${e.employee_email}`,"STATUS:CONFIRMED","SEQUENCE:0","END:VEVENT","END:VCALENDAR"].filter(Boolean).join("\r\n")),y=new Date(e.scheduled_at).toLocaleDateString("sv-SE"),b=new Date(e.scheduled_at).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"}),N=0,_=`1:1 meeting scheduled – ${y} ${b}`,w=`Hello ${e.employee_name},

A 1:1 meeting has been scheduled with ${e.manager_name}.

Date: ${y}
Time: ${b}
Duration: ${e.duration_minutes||60} minutes
${e.location?`Location: ${e.location}`:""}

Please add this to your calendar using the attached invite.

Best regards,
Industrial Competence Platform`,{error:j}=await a.supabase.from("email_outbox").insert({to_email:e.employee_email,subject:_,body:w,status:"pending",meta:{type:"one_to_one_invite",meeting_id:String(e.id),recipient_role:"employee",ics:x}});!j&&N++;let C=`1:1 meeting scheduled with ${e.employee_name} – ${y} ${b}`,E=`Hello ${e.manager_name},

A 1:1 meeting has been scheduled with ${e.employee_name}.

Date: ${y}
Time: ${b}
Duration: ${e.duration_minutes||60} minutes
${e.location?`Location: ${e.location}`:""}

Please add this to your calendar using the attached invite.

Best regards,
Industrial Competence Platform`,{error:T}=await a.supabase.from("email_outbox").insert({to_email:e.manager_email,subject:C,body:E,status:"pending",meta:{type:"one_to_one_invite",meeting_id:String(e.id),recipient_role:"manager",ics:x}});return!T&&N++,N}async function o(){let{data:e,error:t}=await a.supabase.from("one_to_one_meetings").select("*, employee:employee_id(name), manager:manager_id(name)").order("scheduled_at",{ascending:!1});return t?(console.error("Error fetching all meetings:",t),[]):(e||[]).map(e=>({id:e.id,employeeId:e.employee_id,employeeName:e.employee?.name||void 0,managerId:e.manager_id||void 0,managerName:e.manager?.name||void 0,scheduledAt:e.scheduled_at,durationMinutes:e.duration_minutes||void 0,location:e.location||void 0,status:e.status,templateName:e.template_name||void 0,sharedAgenda:e.shared_agenda||void 0,employeeNotesPrivate:e.employee_notes_private||void 0,managerNotesPrivate:e.manager_notes_private||void 0,createdAt:e.created_at,updatedAt:e.updated_at||void 0}))}async function l(e){let{data:t,error:n}=await a.supabase.from("one_to_one_meetings").select("*, employee:employee_id(name), manager:manager_id(name)").eq("employee_id",e).order("scheduled_at",{ascending:!1});return n?(console.error("Error fetching meetings for employee:",n),[]):(t||[]).map(e=>({id:e.id,employeeId:e.employee_id,employeeName:e.employee?.name||void 0,managerId:e.manager_id||void 0,managerName:e.manager?.name||void 0,scheduledAt:e.scheduled_at,durationMinutes:e.duration_minutes||void 0,location:e.location||void 0,status:e.status,templateName:e.template_name||void 0,sharedAgenda:e.shared_agenda||void 0,employeeNotesPrivate:e.employee_notes_private||void 0,managerNotesPrivate:e.manager_notes_private||void 0,createdAt:e.created_at,updatedAt:e.updated_at||void 0}))}async function d(e){let{data:t,error:n}=await a.supabase.from("one_to_one_meetings").select("*, employee:employee_id(name), manager:manager_id(name)").eq("id",e).single();return n||!t?(console.error("Error fetching meeting:",n),null):{id:t.id,employeeId:t.employee_id,employeeName:t.employee?.name||void 0,managerId:t.manager_id||void 0,managerName:t.manager?.name||void 0,scheduledAt:t.scheduled_at,durationMinutes:t.duration_minutes||void 0,location:t.location||void 0,status:t.status,templateName:t.template_name||void 0,sharedAgenda:t.shared_agenda||void 0,employeeNotesPrivate:t.employee_notes_private||void 0,managerNotesPrivate:t.manager_notes_private||void 0,createdAt:t.created_at,updatedAt:t.updated_at||void 0}}async function c(e){if(!e.employeeId||!e.managerId||!e.scheduledAt)return console.error("Invalid meeting payload: missing required fields"),null;let{data:t,error:n}=await a.supabase.from("one_to_one_meetings").insert({employee_id:e.employeeId,manager_id:e.managerId,scheduled_at:e.scheduledAt,duration_minutes:e.durationMinutes||null,location:e.location||null,template_name:e.templateName||null,shared_agenda:e.sharedAgenda||null,status:"planned"}).select().single();if(n||!t)return console.error("Error creating meeting:",n),null;let{data:r}=await a.supabase.from("employees").select("name, email").eq("id",e.employeeId).single(),{data:i}=await a.supabase.from("employees").select("name, email").eq("id",e.managerId).single();if(r?.email&&i?.email)try{await s({id:t.id,scheduled_at:t.scheduled_at,duration_minutes:t.duration_minutes||void 0,employee_name:r.name||"Employee",manager_name:i.name||"Manager",employee_email:r.email,manager_email:i.email,location:t.location||void 0})}catch(e){console.error("Error sending calendar invites:",e)}return{id:t.id,employeeId:t.employee_id,employeeName:r?.name||void 0,managerId:t.manager_id||void 0,managerName:i?.name||void 0,scheduledAt:t.scheduled_at,durationMinutes:t.duration_minutes||void 0,location:t.location||void 0,status:t.status,templateName:t.template_name||void 0,sharedAgenda:t.shared_agenda||void 0,employeeNotesPrivate:t.employee_notes_private||void 0,managerNotesPrivate:t.manager_notes_private||void 0,createdAt:t.created_at,updatedAt:t.updated_at||void 0}}async function u(e,t){if(!e)return console.error("Invalid updateMeeting: missing meeting id"),!1;if(void 0!==t.status&&!["planned","in_progress","completed","cancelled"].includes(t.status))return console.error("Invalid status value:",t.status),!1;let n={updated_at:new Date().toISOString()};void 0!==t.status&&(n.status=t.status),void 0!==t.sharedAgenda&&(n.shared_agenda=t.sharedAgenda),void 0!==t.employeeNotesPrivate&&(n.employee_notes_private=t.employeeNotesPrivate),void 0!==t.managerNotesPrivate&&(n.manager_notes_private=t.managerNotesPrivate),void 0!==t.scheduledAt&&(n.scheduled_at=t.scheduledAt),void 0!==t.durationMinutes&&(n.duration_minutes=t.durationMinutes),void 0!==t.location&&(n.location=t.location);let{error:r}=await a.supabase.from("one_to_one_meetings").update(n).eq("id",e);return!r||(console.error("Error updating meeting:",r),!1)}async function m(e){let{data:t,error:n}=await a.supabase.from("one_to_one_actions").select("*").eq("meeting_id",e).order("created_at",{ascending:!0});return n?(console.error("Error fetching actions:",n),[]):(t||[]).map(e=>({id:e.id,meetingId:e.meeting_id,description:e.description,ownerType:e.owner_type,isCompleted:e.is_completed,dueDate:e.due_date||void 0,createdAt:e.created_at,completedAt:e.completed_at||void 0}))}async function p(e,t){if(!e||!t.description||!t.description.trim())return console.error("Invalid action payload: missing meetingId or description"),null;let{data:n,error:r}=await a.supabase.from("one_to_one_actions").insert({meeting_id:e,description:t.description.trim(),owner_type:t.ownerType,due_date:t.dueDate||null}).select().single();return r||!n?(console.error("Error adding action:",r),null):{id:n.id,meetingId:n.meeting_id,description:n.description,ownerType:n.owner_type,isCompleted:n.is_completed,dueDate:n.due_date||void 0,createdAt:n.created_at,completedAt:n.completed_at||void 0}}async function f(e){let{error:t}=await a.supabase.from("one_to_one_actions").update({is_completed:!0,completed_at:new Date().toISOString()}).eq("id",e);return!t||(console.error("Error completing action:",t),!1)}e.s(["addAction",()=>p,"completeAction",()=>f,"createMeeting",()=>c,"getActionsForMeeting",()=>m,"getAllMeetings",()=>o,"getMeetingById",()=>d,"getMeetingsForEmployee",()=>l,"updateMeeting",()=>u],27979)},27341,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(81140),r=e.i(30030),i=e.i(75830),s=e.i(20783),o=e.i(10772),l=e.i(48425),d=e.i(30207),c=e.i(69340),u=e.i(86318),m="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[v,g,h]=(0,i.createCollection)(f),[x,y]=(0,r.createContextScope)(f,[h]),[b,N]=x(f),_=a.forwardRef((e,a)=>(0,t.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(w,{...e,ref:a})})}));_.displayName=f;var w=a.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,orientation:o,loop:f=!1,dir:v,currentTabStopId:h,defaultCurrentTabStopId:x,onCurrentTabStopIdChange:y,onEntryFocus:N,preventScrollOnEntryFocus:_=!1,...w}=e,j=a.useRef(null),C=(0,s.useComposedRefs)(r,j),E=(0,u.useDirection)(v),[A=null,S]=(0,c.useControllableState)({prop:h,defaultProp:x,onChange:y}),[I,R]=a.useState(!1),P=(0,d.useCallbackRef)(N),D=g(i),k=a.useRef(!1),[M,$]=a.useState(0);return a.useEffect(()=>{let e=j.current;if(e)return e.addEventListener(m,P),()=>e.removeEventListener(m,P)},[P]),(0,t.jsx)(b,{scope:i,orientation:o,dir:E,loop:f,currentTabStopId:A,onItemFocus:a.useCallback(e=>S(e),[S]),onItemShiftTab:a.useCallback(()=>R(!0),[]),onFocusableItemAdd:a.useCallback(()=>$(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>$(e=>e-1),[]),children:(0,t.jsx)(l.Primitive.div,{tabIndex:I||0===M?-1:0,"data-orientation":o,...w,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,n.composeEventHandlers)(e.onMouseDown,()=>{k.current=!0}),onFocus:(0,n.composeEventHandlers)(e.onFocus,e=>{let t=!k.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(m,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=D().filter(e=>e.focusable);T([e.find(e=>e.active),e.find(e=>e.id===A),...e].filter(Boolean).map(e=>e.ref.current),_)}}k.current=!1}),onBlur:(0,n.composeEventHandlers)(e.onBlur,()=>R(!1))})})}),j="RovingFocusGroupItem",C=a.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,focusable:s=!0,active:d=!1,tabStopId:c,...u}=e,m=(0,o.useId)(),p=c||m,f=N(j,i),h=f.currentTabStopId===p,x=g(i),{onFocusableItemAdd:y,onFocusableItemRemove:b}=f;return a.useEffect(()=>{if(s)return y(),()=>b()},[s,y,b]),(0,t.jsx)(v.ItemSlot,{scope:i,id:p,focusable:s,active:d,children:(0,t.jsx)(l.Primitive.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...u,ref:r,onMouseDown:(0,n.composeEventHandlers)(e.onMouseDown,e=>{s?f.onItemFocus(p):e.preventDefault()}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,a){var n;let r=(n=e.key,"rtl"!==a?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return E[r]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var a,n;"prev"===t&&r.reverse();let i=r.indexOf(e.currentTarget);r=f.loop?(a=r,n=i+1,a.map((e,t)=>a[(n+t)%a.length])):r.slice(i+1)}setTimeout(()=>T(r))}})})})});C.displayName=j;var E={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e,t=!1){let a=document.activeElement;for(let n of e)if(n===a||(n.focus({preventScroll:t}),document.activeElement!==a))return}var A=e.i(96626),S="Tabs",[I,R]=(0,r.createContextScope)(S,[y]),P=y(),[D,k]=I(S),M=a.forwardRef((e,a)=>{let{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:d="horizontal",dir:m,activationMode:p="automatic",...f}=e,v=(0,u.useDirection)(m),[g,h]=(0,c.useControllableState)({prop:r,onChange:i,defaultProp:s});return(0,t.jsx)(D,{scope:n,baseId:(0,o.useId)(),value:g,onValueChange:h,orientation:d,dir:v,activationMode:p,children:(0,t.jsx)(l.Primitive.div,{dir:v,"data-orientation":d,...f,ref:a})})});M.displayName=S;var $="TabsList",O=a.forwardRef((e,a)=>{let{__scopeTabs:n,loop:r=!0,...i}=e,s=k($,n),o=P(n);return(0,t.jsx)(_,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:a})})});O.displayName=$;var L="TabsTrigger",F=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:i,disabled:s=!1,...o}=e,d=k(L,r),c=P(r),u=U(d.baseId,i),m=V(d.baseId,i),p=i===d.value;return(0,t.jsx)(C,{asChild:!0,...c,focusable:!s,active:p,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...o,ref:a,onMouseDown:(0,n.composeEventHandlers)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(i)}),onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(i)}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;p||s||!e||d.onValueChange(i)})})})});F.displayName=L;var H="TabsContent",B=a.forwardRef((e,n)=>{let{__scopeTabs:r,value:i,forceMount:s,children:o,...d}=e,c=k(H,r),u=U(c.baseId,i),m=V(c.baseId,i),p=i===c.value,f=a.useRef(p);return a.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(A.Presence,{present:s||p,children:({present:a})=>(0,t.jsx)(l.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:m,tabIndex:0,...d,ref:n,style:{...e.style,animationDuration:f.current?"0s":void 0},children:a&&o})})});function U(e,t){return`${e}-trigger-${t}`}function V(e,t){return`${e}-content-${t}`}B.displayName=H;var z=e.i(47163);let q=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(O,{ref:n,className:(0,z.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...a}));q.displayName=O.displayName;let K=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(F,{ref:n,className:(0,z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...a}));K.displayName=F.displayName;let G=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(B,{ref:n,className:(0,z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));G.displayName=B.displayName,e.s(["Tabs",()=>M,"TabsContent",()=>G,"TabsList",()=>q,"TabsTrigger",()=>K],27341)},58131,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(18566),r=e.i(22016),i=e.i(67881),s=e.i(70065),o=e.i(94179),l=e.i(23750),d=e.i(84762),c=e.i(27341),u=e.i(20783),m=e.i(30030),p=e.i(81140),f=e.i(69340),v=e.i(99682),g=e.i(35804),h=e.i(96626),x=e.i(48425),y="Checkbox",[b,N]=(0,m.createContextScope)(y),[_,w]=b(y),j=a.forwardRef((e,n)=>{let{__scopeCheckbox:r,name:i,checked:s,defaultChecked:o,required:l,disabled:d,value:c="on",onCheckedChange:m,form:v,...g}=e,[h,y]=a.useState(null),b=(0,u.useComposedRefs)(n,e=>y(e)),N=a.useRef(!1),w=!h||v||!!h.closest("form"),[j=!1,C]=(0,f.useControllableState)({prop:s,defaultProp:o,onChange:m}),E=a.useRef(j);return a.useEffect(()=>{let e=h?.form;if(e){let t=()=>C(E.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[h,C]),(0,t.jsxs)(_,{scope:r,state:j,disabled:d,children:[(0,t.jsx)(x.Primitive.button,{type:"button",role:"checkbox","aria-checked":A(j)?"mixed":j,"aria-required":l,"data-state":S(j),"data-disabled":d?"":void 0,disabled:d,value:c,...g,ref:b,onKeyDown:(0,p.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,p.composeEventHandlers)(e.onClick,e=>{C(e=>!!A(e)||!e),w&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),w&&(0,t.jsx)(T,{control:h,bubbles:!N.current,name:i,value:c,checked:j,required:l,disabled:d,form:v,style:{transform:"translateX(-100%)"},defaultChecked:!A(o)&&o})]})});j.displayName=y;var C="CheckboxIndicator",E=a.forwardRef((e,a)=>{let{__scopeCheckbox:n,forceMount:r,...i}=e,s=w(C,n);return(0,t.jsx)(h.Presence,{present:r||A(s.state)||!0===s.state,children:(0,t.jsx)(x.Primitive.span,{"data-state":S(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:a,style:{pointerEvents:"none",...e.style}})})});E.displayName=C;var T=e=>{let{control:n,checked:r,bubbles:i=!0,defaultChecked:s,...o}=e,l=a.useRef(null),d=(0,v.usePrevious)(r),c=(0,g.useSize)(n);a.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==r&&t){let a=new Event("click",{bubbles:i});e.indeterminate=A(r),t.call(e,!A(r)&&r),e.dispatchEvent(a)}},[d,r,i]);let u=a.useRef(!A(r)&&r);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:l,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function A(e){return"indeterminate"===e}function S(e){return A(e)?"indeterminate":e?"checked":"unchecked"}var I=e.i(43531),R=e.i(47163);let P=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)(j,{ref:n,className:(0,R.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:(0,t.jsx)(E,{className:(0,R.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(I.Check,{className:"h-4 w-4"})})}));P.displayName=j.displayName;var D=e.i(62870),k=e.i(71689),M=e.i(7233),$=e.i(87316),O=e.i(3116),L=e.i(46897),F=e.i(84614),H=e.i(95468),B=e.i(27979);function U(){var e;let u=(0,n.useParams)();(0,n.useRouter)();let m=u.id,[p,f]=(0,a.useState)(null),[v,g]=(0,a.useState)([]),[h,x]=(0,a.useState)(!0),[y,b]=(0,a.useState)(!1),[N,_]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[C,E]=(0,a.useState)(""),[T,A]=(0,a.useState)(""),[S,I]=(0,a.useState)("employee"),[R,U]=(0,a.useState)("");async function V(){p&&(b(!0),await (0,B.updateMeeting)(m,{sharedAgenda:N,managerNotesPrivate:w,employeeNotesPrivate:C}),b(!1))}async function z(e){p&&(b(!0),await (0,B.updateMeeting)(m,{status:e})&&f({...p,status:e}),b(!1))}async function q(){if(!T.trim())return;b(!0);let e=await (0,B.addAction)(m,{description:T,ownerType:S,dueDate:R||void 0});e&&(g([...v,e]),A(""),U("")),b(!1)}async function K(e){await (0,B.completeAction)(e)&&g(v.map(t=>t.id===e?{...t,isCompleted:!0}:t))}return((0,a.useEffect)(()=>{!async function(){let[e,t]=await Promise.all([(0,B.getMeetingById)(m),(0,B.getActionsForMeeting)(m)]);e&&(f(e),_(e.sharedAgenda||""),j(e.managerNotesPrivate||""),E(e.employeeNotesPrivate||"")),g(t),x(!1)}()},[m]),h)?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-muted rounded w-1/3"}),(0,t.jsx)("div",{className:"h-64 bg-muted rounded"})]})}):p?(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(r.default,{href:`/app/employees/${p.employeeId}/one-to-ones`,children:(0,t.jsx)(i.Button,{variant:"ghost",size:"icon","data-testid":"button-back",children:(0,t.jsx)(k.ArrowLeft,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:p.templateName||"1:1 Meeting"}),(e=p.status,(0,t.jsx)(o.Badge,{variant:{planned:"outline",in_progress:"default",completed:"secondary",cancelled:"destructive"}[e]||"outline",children:e.replace("_"," ")}))]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-muted-foreground mt-1 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F.User,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[p.employeeName," with ",p.managerName]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)($.Calendar,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:new Date(p.scheduledAt).toLocaleDateString("sv-SE")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(O.Clock,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:new Date(p.scheduledAt).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})})]}),p.location&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(L.MapPin,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:p.location})]})]})]}),(0,t.jsxs)(D.Select,{value:p.status,onValueChange:e=>z(e),children:[(0,t.jsx)(D.SelectTrigger,{className:"w-40","data-testid":"select-status",children:(0,t.jsx)(D.SelectValue,{})}),(0,t.jsxs)(D.SelectContent,{children:[(0,t.jsx)(D.SelectItem,{value:"planned",children:"Planned"}),(0,t.jsx)(D.SelectItem,{value:"in_progress",children:"In Progress"}),(0,t.jsx)(D.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(D.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,t.jsxs)(c.Tabs,{defaultValue:"before",className:"space-y-4",children:[(0,t.jsxs)(c.TabsList,{children:[(0,t.jsx)(c.TabsTrigger,{value:"before","data-testid":"tab-before",children:"Before"}),(0,t.jsx)(c.TabsTrigger,{value:"during","data-testid":"tab-during",children:"During"}),(0,t.jsx)(c.TabsTrigger,{value:"after","data-testid":"tab-after",children:"After"})]}),(0,t.jsxs)(c.TabsContent,{value:"before",className:"space-y-4",children:[(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Shared Agenda"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)(d.Textarea,{value:N,onChange:e=>_(e.target.value),placeholder:"Topics both parties want to discuss...",rows:4,"data-testid":"input-shared-agenda"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Employee Private Notes"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)(d.Textarea,{value:C,onChange:e=>E(e.target.value),placeholder:"Private notes for employee...",rows:4,"data-testid":"input-employee-notes"})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Manager Private Notes"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)(d.Textarea,{value:w,onChange:e=>j(e.target.value),placeholder:"Private notes for manager...",rows:4,"data-testid":"input-manager-notes"})})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(i.Button,{onClick:V,disabled:y,"data-testid":"button-save-notes",children:y?"Saving...":"Save Notes"})})]}),(0,t.jsxs)(c.TabsContent,{value:"during",className:"space-y-4",children:[(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Discussion Points & Agenda"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"bg-muted p-4 rounded-md whitespace-pre-wrap",children:N||"No agenda set"})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{className:"flex flex-row items-center justify-between gap-4",children:(0,t.jsx)(s.CardTitle,{children:"Action Items"})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)(l.Input,{value:T,onChange:e=>A(e.target.value),placeholder:"New action item...",className:"flex-1 min-w-48","data-testid":"input-new-action"}),(0,t.jsxs)(D.Select,{value:S,onValueChange:e=>I(e),children:[(0,t.jsx)(D.SelectTrigger,{className:"w-32","data-testid":"select-action-owner",children:(0,t.jsx)(D.SelectValue,{})}),(0,t.jsxs)(D.SelectContent,{children:[(0,t.jsx)(D.SelectItem,{value:"employee",children:"Employee"}),(0,t.jsx)(D.SelectItem,{value:"manager",children:"Manager"})]})]}),(0,t.jsx)(l.Input,{type:"date",value:R,onChange:e=>U(e.target.value),className:"w-40","data-testid":"input-action-due"}),(0,t.jsx)(i.Button,{onClick:q,disabled:!T.trim(),"data-testid":"button-add-action",children:(0,t.jsx)(M.Plus,{className:"h-4 w-4"})})]}),0===v.length?(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No action items yet"}):(0,t.jsx)("div",{className:"space-y-2",children:v.map(e=>(0,t.jsxs)("div",{className:`flex items-start gap-3 p-3 rounded-md border ${e.isCompleted?"bg-muted/50":""}`,children:[(0,t.jsx)(P,{checked:e.isCompleted,onCheckedChange:()=>!e.isCompleted&&K(e.id),"data-testid":`checkbox-action-${e.id}`}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:e.isCompleted?"line-through text-muted-foreground":"",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground",children:[(0,t.jsx)(o.Badge,{variant:"outline",className:"text-xs",children:e.ownerType}),e.dueDate&&(0,t.jsxs)("span",{children:["Due: ",e.dueDate]})]})]}),e.isCompleted&&(0,t.jsx)(H.CheckCircle2,{className:"h-4 w-4 text-green-600"})]},e.id))})]})]})]}),(0,t.jsx)(c.TabsContent,{value:"after",className:"space-y-4",children:(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Meeting Summary"})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Discussed Topics"}),(0,t.jsx)("div",{className:"bg-muted p-4 rounded-md whitespace-pre-wrap",children:N||"No agenda recorded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium mb-2",children:["Action Items (",v.filter(e=>e.isCompleted).length,"/",v.length," completed)"]}),0===v.length?(0,t.jsx)("p",{className:"text-muted-foreground",children:"No action items"}):(0,t.jsx)("div",{className:"space-y-2",children:v.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md border",children:[e.isCompleted?(0,t.jsx)(H.CheckCircle2,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)("div",{className:"h-4 w-4 rounded-full border-2"}),(0,t.jsx)("span",{className:e.isCompleted?"line-through text-muted-foreground":"",children:e.description}),(0,t.jsx)(o.Badge,{variant:"outline",className:"ml-auto text-xs",children:e.ownerType})]},e.id))})]}),"completed"!==p.status&&(0,t.jsx)(i.Button,{onClick:()=>z("completed"),className:"w-full","data-testid":"button-complete-meeting",children:"Mark Meeting as Completed"})]})]})})]})]}):(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Meeting not found"})})}e.s(["default",()=>U],58131)}]);