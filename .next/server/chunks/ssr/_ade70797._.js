module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},52495,a=>{"use strict";let b=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],52495)},87366,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7291),e=a.i(48654),f=a.i(40695),g=a.i(5522),h=a.i(54161),i=a.i(87682),j=a.i(15618),k=a.i(4720),l=a.i(52495),m=a.i(96221);function n(){let[a,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)({title:"",type:"handbook",url:""}),u=async()=>{p(!0);let{data:a}=await d.supabase.from("documents").select("*").is("employee_id",null).order("created_at",{ascending:!1});n((a||[]).map(a=>({id:a.id,employeeId:a.employee_id,title:a.title,type:a.type,url:a.url,createdAt:a.created_at,validTo:a.valid_to}))),p(!1)};(0,c.useEffect)(()=>{u()},[]);let v=async()=>{s.title&&s.url&&(await d.supabase.from("documents").insert({title:s.title,type:s.type,url:s.url,employee_id:null}),t({title:"",type:"handbook",url:""}),r(!1),u())},w={contract:"Contract",handbook:"Handbook",policy:"Policy",certificate:"Certificate",other:"Other"};return o?(0,b.jsx)("div",{className:"p-6 flex items-center justify-center",children:(0,b.jsx)(m.Loader2,{className:"h-6 w-6 animate-spin"})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Company Documents"}),(0,b.jsxs)(f.Button,{onClick:()=>r(!q),"data-testid":"button-add-document",children:[(0,b.jsx)(j.Plus,{className:"h-4 w-4 mr-2"}),"Add Document"]})]}),q&&(0,b.jsxs)(e.Card,{className:"mb-6",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Add Document"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsx)(g.Input,{placeholder:"Title",value:s.title,onChange:a=>t({...s,title:a.target.value}),"data-testid":"input-doc-title"}),(0,b.jsxs)(i.Select,{value:s.type,onValueChange:a=>t({...s,type:a}),children:[(0,b.jsx)(i.SelectTrigger,{"data-testid":"select-doc-type",children:(0,b.jsx)(i.SelectValue,{placeholder:"Type"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"handbook",children:"Handbook"}),(0,b.jsx)(i.SelectItem,{value:"policy",children:"Policy"}),(0,b.jsx)(i.SelectItem,{value:"contract",children:"Contract Template"}),(0,b.jsx)(i.SelectItem,{value:"certificate",children:"Certificate"}),(0,b.jsx)(i.SelectItem,{value:"other",children:"Other"})]})]}),(0,b.jsx)(g.Input,{placeholder:"URL",value:s.url,onChange:a=>t({...s,url:a.target.value}),"data-testid":"input-doc-url"})]}),(0,b.jsx)(f.Button,{className:"mt-4",onClick:v,"data-testid":"button-save-document",children:"Save Document"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.map(a=>(0,b.jsxs)(e.Card,{"data-testid":`card-document-${a.id}`,children:[(0,b.jsx)(e.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(k.FileText,{className:"h-4 w-4"}),a.title]}),(0,b.jsx)(h.Badge,{variant:"outline",children:w[a.type]||a.type})]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary flex items-center gap-1 hover:underline","data-testid":`link-document-${a.id}`,children:[(0,b.jsx)(l.ExternalLink,{className:"h-3 w-3"}),"Open Document"]})})]},a.id)),0===a.length&&(0,b.jsx)("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:'No documents yet. Click "Add Document" to upload your first document.'})]})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=_ade70797._.js.map