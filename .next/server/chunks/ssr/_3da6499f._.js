module.exports=[50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},41961,a=>{"use strict";let b=(0,a.i(70106).default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);a.s(["Briefcase",()=>b],41961)},11300,a=>{"use strict";let b=(0,a.i(70106).default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);a.s(["ClipboardList",()=>b],11300)},21294,a=>{"use strict";var b=a.i(72131),c=a.i(7291);function d(){let[a,d]=(0,b.useState)(null),[e,f]=(0,b.useState)(!0),[g,h]=(0,b.useState)(null),[i,j]=(0,b.useState)(!1),k=(0,b.useCallback)(async()=>{f(!0),h(null);try{let{data:{session:a}}=await c.supabase.auth.getSession();if(!a?.user){d(null),f(!1);return}let{data:b,error:e}=await c.supabase.from("profiles").select("id, email, role").eq("id",a.user.id).single();if(e){let{data:b,error:e}=await c.supabase.from("profiles").select("id").limit(1);e?.code==="PGRST116"||e?.message?.includes("does not exist")?j(!0):b&&0!==b.length||j(!0),d({id:a.user.id,email:a.user.email||null,role:null})}else d(b),j(!1)}catch(a){h(a instanceof Error?a.message:"Failed to load profile")}finally{f(!1)}},[]),l=(0,b.useCallback)(async()=>{try{let{data:{session:a}}=await c.supabase.auth.getSession();if(!a)return{success:!1,message:"Not authenticated"};let b=await fetch("/api/bootstrap",{method:"POST",headers:{Authorization:`Bearer ${a.access_token}`,"Content-Type":"application/json"}}),d=await b.json();if(!b.ok)return{success:!1,message:d.error||"Bootstrap failed"};return await k(),{success:!0,message:d.message||"Bootstrap complete"}}catch(a){return{success:!1,message:a instanceof Error?a.message:"Bootstrap failed"}}},[k]);return(0,b.useEffect)(()=>{k()},[k]),{profile:a,loading:e,error:g,refresh:k,runBootstrap:l,canBootstrap:i}}function e(a){switch(a){case"admin":return"/app/admin";case"hr":case"user":default:return"/app/hr/tasks";case"manager":return"/app/manager"}}a.s(["getRoleRedirectPath",()=>e,"useProfile",()=>d])},34599,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(21294),e=a.i(79808),f=a.i(41961),g=a.i(60246),h=a.i(3314),i=a.i(21161),j=a.i(50522),k=a.i(92e3),l=a.i(67900),m=a.i(11300);let n=[{title:"Organizations",description:"Create and manage organizations. Switch between organizations.",href:"/app/org/select",icon:l.Building2},{title:"User Management",description:"Invite users, manage roles, and control team access.",href:"/app/admin/users",icon:g.Users},{title:"Audit Log",description:"View activity history and track admin actions.",href:"/app/admin/audit",icon:m.ClipboardList},{title:"Competence Admin",description:"Manage competence groups and competences used in matrices and gap analysis.",href:"/admin/competence",icon:e.Wrench},{title:"Positions Admin",description:"Configure positions and their competence requirements.",href:"/admin/positions",icon:f.Briefcase},{title:"Security Settings",description:"Configure authentication and access control policies.",href:"/app/admin/security",icon:h.Shield},{title:"System Settings",description:"Configure platform-wide settings and integrations.",href:"/app/admin/settings",icon:i.Settings}];function o(){let{profile:a,loading:e}=(0,d.useProfile)();if(e)return(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"animate-pulse",children:[(0,b.jsx)("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),(0,b.jsx)("div",{className:"h-4 w-96 bg-gray-200 dark:bg-gray-700 rounded"})]})});let f=a?.role==="admin";return(0,b.jsxs)("div",{className:"p-6 max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Admin Dashboard"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage platform configuration and settings."})]}),!f&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg flex items-start gap-3",children:[(0,b.jsx)(k.AlertCircle,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Limited Access"}),(0,b.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"You are viewing this page but may not have full admin privileges. Contact an administrator if you need elevated access."})]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>{let d=a.icon;return(0,b.jsxs)(c.default,{href:a.href,className:"group block p-5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-gray-300 dark:hover:border-gray-600 transition-colors","data-testid":`card-${a.title.toLowerCase().replace(/\s+/g,"-")}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:(0,b.jsx)(d,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,b.jsx)(j.ChevronRight,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors"})]}),(0,b.jsx)("h3",{className:"mt-4 text-base font-medium text-gray-900 dark:text-white",children:a.title}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:a.description})]},a.href)})}),a&&(0,b.jsx)("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Signed in as"," ",(0,b.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:a.email})," ","with role"," ",(0,b.jsx)("span",{className:"font-mono text-xs bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.role||"not set"})]})})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=_3da6499f._.js.map