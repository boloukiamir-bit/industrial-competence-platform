{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/external-link.ts","../../../../app/app/handbooks/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('ExternalLink', [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n]);\n\nexport default ExternalLink;\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { BookOpen, FileText, ExternalLink } from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport type { Document } from \"@/types/domain\";\n\nexport default function HandbooksPage() {\n  const [documents, setDocuments] = useState<Document[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadHandbooks() {\n      const { data, error } = await supabase\n        .from(\"documents\")\n        .select(\"*\")\n        .in(\"type\", [\"employee_handbook\", \"manager_handbook\", \"handbook\"])\n        .order(\"title\");\n\n      if (!error && data) {\n        setDocuments(\n          data.map((row) => ({\n            id: row.id,\n            employeeId: row.employee_id,\n            title: row.title,\n            type: row.type,\n            url: row.url,\n            createdAt: row.created_at,\n            validTo: row.valid_to,\n          }))\n        );\n      }\n      setLoading(false);\n    }\n    loadHandbooks();\n  }, []);\n\n  const employeeHandbooks = documents.filter((d) => d.type === \"employee_handbook\" || (d.type === \"handbook\" && d.title.toLowerCase().includes(\"employee\")));\n  const managerHandbooks = documents.filter((d) => d.type === \"manager_handbook\" || (d.type === \"handbook\" && d.title.toLowerCase().includes(\"manager\")));\n  const otherHandbooks = documents.filter((d) => !employeeHandbooks.includes(d) && !managerHandbooks.includes(d));\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48\" />\n          <div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\" />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center gap-3 mb-6\">\n        <BookOpen className=\"h-6 w-6 text-gray-600 dark:text-gray-400\" />\n        <h1 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">\n          Digital Handbooks\n        </h1>\n      </div>\n\n      {documents.length === 0 ? (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8 text-center\">\n          <BookOpen className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-gray-500 dark:text-gray-400\">No handbooks available</p>\n        </div>\n      ) : (\n        <div className=\"space-y-8\">\n          {employeeHandbooks.length > 0 && (\n            <section>\n              <h2 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n                Employee Handbooks\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {employeeHandbooks.map((doc) => (\n                  <HandbookCard key={doc.id} document={doc} />\n                ))}\n              </div>\n            </section>\n          )}\n\n          {managerHandbooks.length > 0 && (\n            <section>\n              <h2 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n                Manager Handbooks\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {managerHandbooks.map((doc) => (\n                  <HandbookCard key={doc.id} document={doc} />\n                ))}\n              </div>\n            </section>\n          )}\n\n          {otherHandbooks.length > 0 && (\n            <section>\n              <h2 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\n                Other Handbooks\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {otherHandbooks.map((doc) => (\n                  <HandbookCard key={doc.id} document={doc} />\n                ))}\n              </div>\n            </section>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction HandbookCard({ document }: { document: Document }) {\n  return (\n    <a\n      href={document.url}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className=\"block bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:border-blue-300 dark:hover:border-blue-700 transition-colors\"\n      data-testid={`link-handbook-${document.id}`}\n    >\n      <div className=\"flex items-start gap-3\">\n        <div className=\"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n          <FileText className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"font-medium text-gray-900 dark:text-white truncate\">\n            {document.title}\n          </h3>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n            Added {new Date(document.createdAt).toLocaleDateString()}\n          </p>\n        </div>\n        <ExternalLink className=\"h-4 w-4 text-gray-400 flex-shrink-0\" />\n      </div>\n    </a>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}