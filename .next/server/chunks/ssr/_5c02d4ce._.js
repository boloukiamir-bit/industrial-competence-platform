module.exports=[50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},55215,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(60246),f=a.i(87532),g=a.i(50522),h=a.i(7291);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("");(0,c.useEffect)(()=>{!async function(){let{data:a,error:b}=await h.supabase.from("employees").select("*, manager:manager_id(name)").eq("is_active",!0).order("name");!b&&a?i(a.map(a=>({id:a.id,name:a.name||"",firstName:a.first_name||void 0,lastName:a.last_name||void 0,employeeNumber:a.employee_number||"",email:a.email||void 0,phone:a.phone||void 0,dateOfBirth:a.date_of_birth||void 0,role:a.role||"",line:a.line||"",team:a.team||"",employmentType:a.employment_type||"permanent",startDate:a.start_date||void 0,contractEndDate:a.contract_end_date||void 0,managerId:a.manager_id||void 0,managerName:a.manager?.name||void 0,address:a.address||void 0,city:a.city||void 0,postalCode:a.postal_code||void 0,country:a.country||"Sweden",isActive:a.is_active??!0}))):b&&console.error("Error loading employees:",b),k(!1)}()},[]);let p=[...new Set(a.map(a=>a.line).filter(Boolean))].sort(),q=a.filter(a=>{let b=!l||a.name.toLowerCase().includes(l.toLowerCase())||a.employeeNumber.toLowerCase().includes(l.toLowerCase()),c=!n||a.line===n;return b&&c});return j?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48"}),(0,b.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.Users,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"}),(0,b.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Employees"})]}),(0,b.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[q.length," employees"]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name or employee number...",value:l,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"input-search-employees"})]}),(0,b.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500","data-testid":"select-line-filter",children:[(0,b.jsx)("option",{value:"",children:"All Lines"}),p.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Employee No"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Line"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Team"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),(0,b.jsx)("th",{className:"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Manager"}),(0,b.jsx)("th",{className:"w-10"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:0===q.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No employees found"})}):q.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors","data-testid":`row-employee-${a.id}`,children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)(d.default,{href:`/app/employees/${a.id}`,className:"font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400","data-testid":`link-employee-${a.id}`,children:a.name})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:a.employeeNumber}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:a.line||"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:a.team||"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:a.role||"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:a.managerName||"-"}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)(d.default,{href:`/app/employees/${a.id}`,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,b.jsx)(g.ChevronRight,{className:"h-4 w-4"})})})]},a.id))})]})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_5c02d4ce._.js.map