{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../services/auth.ts","../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../hooks/useProfile.ts","../../../../app/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","import { supabase } from \"@/lib/supabaseClient\";\n\nexport async function signInWithEmail(email: string, password: string) {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut();\n  if (error) throw error;\n}\n\nexport async function getAuthUser() {\n  const { data, error } = await supabase.auth.getUser();\n  if (error) return null;\n  return data.user;\n}\n\nexport async function getSession() {\n  const { data, error } = await supabase.auth.getSession();\n  if (error) return null;\n  return data.session;\n}\n\nexport function onAuthStateChange(callback: (event: string, session: unknown) => void) {\n  return supabase.auth.onAuthStateChange(callback);\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { supabase } from \"@/lib/supabaseClient\";\n\nexport interface UserProfile {\n  id: string;\n  email: string | null;\n  role: \"admin\" | \"hr\" | \"manager\" | \"user\" | null;\n}\n\nexport interface UseProfileResult {\n  profile: UserProfile | null;\n  loading: boolean;\n  error: string | null;\n  refresh: () => Promise<void>;\n  runBootstrap: () => Promise<{ success: boolean; message: string }>;\n  canBootstrap: boolean;\n}\n\nexport function useProfile(): UseProfileResult {\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [canBootstrap, setCanBootstrap] = useState(false);\n\n  const fetchProfile = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const { data: { session } } = await supabase.auth.getSession();\n      \n      if (!session?.user) {\n        setProfile(null);\n        setLoading(false);\n        return;\n      }\n\n      // Try to get the user's profile\n      const { data: profileData, error: profileError } = await supabase\n        .from(\"profiles\")\n        .select(\"id, email, role\")\n        .eq(\"id\", session.user.id)\n        .single();\n\n      if (profileError) {\n        // Check if table exists by looking for any profiles\n        const { data: anyProfiles, error: countError } = await supabase\n          .from(\"profiles\")\n          .select(\"id\")\n          .limit(1);\n\n        if (countError?.code === \"PGRST116\" || countError?.message?.includes(\"does not exist\")) {\n          // Table doesn't exist\n          setCanBootstrap(true);\n          setProfile({\n            id: session.user.id,\n            email: session.user.email || null,\n            role: null,\n          });\n        } else if (!anyProfiles || anyProfiles.length === 0) {\n          // Table exists but empty - user can bootstrap\n          setCanBootstrap(true);\n          setProfile({\n            id: session.user.id,\n            email: session.user.email || null,\n            role: null,\n          });\n        } else {\n          // Table exists with profiles but user not found\n          setProfile({\n            id: session.user.id,\n            email: session.user.email || null,\n            role: null,\n          });\n        }\n      } else {\n        setProfile(profileData as UserProfile);\n        setCanBootstrap(false);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to load profile\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const runBootstrap = useCallback(async (): Promise<{ success: boolean; message: string }> => {\n    try {\n      const { data: { session } } = await supabase.auth.getSession();\n      \n      if (!session) {\n        return { success: false, message: \"Not authenticated\" };\n      }\n\n      const response = await fetch(\"/api/bootstrap\", {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${session.access_token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        return { success: false, message: data.error || \"Bootstrap failed\" };\n      }\n\n      // Refresh profile after bootstrap\n      await fetchProfile();\n      \n      return { success: true, message: data.message || \"Bootstrap complete\" };\n    } catch (err) {\n      return { \n        success: false, \n        message: err instanceof Error ? err.message : \"Bootstrap failed\" \n      };\n    }\n  }, [fetchProfile]);\n\n  useEffect(() => {\n    fetchProfile();\n  }, [fetchProfile]);\n\n  return {\n    profile,\n    loading,\n    error,\n    refresh: fetchProfile,\n    runBootstrap,\n    canBootstrap,\n  };\n}\n\n/**\n * Get the redirect path based on user role\n */\nexport function getRoleRedirectPath(role: string | null): string {\n  switch (role) {\n    case \"admin\":\n      return \"/app/admin\";\n    case \"hr\":\n      return \"/app/hr/tasks\";\n    case \"manager\":\n      return \"/app/manager\";\n    case \"user\":\n    default:\n      return \"/app/hr/tasks\"; // Default workspace for regular users\n  }\n}\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { signInWithEmail, getSession } from '@/services/auth';\nimport { isSupabaseReady, supabase } from '@/lib/supabaseClient';\nimport { getRoleRedirectPath } from '@/hooks/useProfile';\nimport { Loader2 } from 'lucide-react';\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState('admin@nadiplan.test');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\n  const [checkingSession, setCheckingSession] = useState(true);\n  const [supabaseConfigured, setSupabaseConfigured] = useState(true);\n  const [bootstrapStatus, setBootstrapStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle');\n  const [bootstrapMessage, setBootstrapMessage] = useState<string | null>(null);\n  const [showBootstrap, setShowBootstrap] = useState(false);\n\n  useEffect(() => {\n    const configured = isSupabaseReady();\n    setSupabaseConfigured(configured);\n    \n    if (!configured) {\n      console.error('Supabase not configured - env vars missing');\n      setCheckingSession(false);\n      return;\n    }\n\n    async function checkExistingSession() {\n      try {\n        const session = await getSession();\n        if (session?.user) {\n          // Get user role and redirect accordingly\n          const { data: profile } = await supabase\n            .from('profiles')\n            .select('role')\n            .eq('id', session.user.id)\n            .single();\n          \n          const redirectPath = getRoleRedirectPath(profile?.role || null);\n          router.replace(redirectPath);\n        } else {\n          setCheckingSession(false);\n        }\n      } catch (err) {\n        console.error('Session check failed:', err);\n        setCheckingSession(false);\n      }\n    }\n    checkExistingSession();\n  }, [router]);\n\n  async function checkBootstrapStatus(userId: string): Promise<{ needsBootstrap: boolean; role: string | null }> {\n    try {\n      // Check if profiles table has any entries\n      const { data: profiles, error } = await supabase\n        .from('profiles')\n        .select('id')\n        .limit(1);\n\n      if (error) {\n        // Table might not exist - needs bootstrap\n        return { needsBootstrap: true, role: null };\n      }\n\n      if (!profiles || profiles.length === 0) {\n        // No profiles exist - this user can bootstrap\n        return { needsBootstrap: true, role: null };\n      }\n\n      // Check if current user has a profile\n      const { data: userProfile } = await supabase\n        .from('profiles')\n        .select('role')\n        .eq('id', userId)\n        .single();\n\n      return { needsBootstrap: false, role: userProfile?.role || null };\n    } catch {\n      return { needsBootstrap: false, role: null };\n    }\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setErrorMsg(null);\n    \n    if (!supabaseConfigured) {\n      setErrorMsg('Authentication service is not configured. Environment variables are missing.');\n      return;\n    }\n    \n    setLoading(true);\n\n    try {\n      const session = await signInWithEmail(email, password);\n      \n      if (session?.user) {\n        // Check if bootstrap is needed or get role\n        const { needsBootstrap, role } = await checkBootstrapStatus(session.user.id);\n        \n        if (needsBootstrap) {\n          // Stay on login page to show bootstrap option\n          setShowBootstrap(true);\n          setLoading(false);\n          return;\n        }\n\n        // Redirect based on role\n        const redirectPath = getRoleRedirectPath(role);\n        router.replace(redirectPath);\n      }\n    } catch (error: unknown) {\n      console.error('Sign in error:', error);\n      let message = 'Failed to sign in.';\n      if (error instanceof Error) {\n        if (error.message === 'Failed to fetch' || error.message.includes('NetworkError')) {\n          message = 'Unable to connect to authentication service. Please check your internet connection.';\n        } else if (error.message.includes('placeholder')) {\n          message = 'Authentication service is not configured. Please contact support.';\n        } else if (error.message.includes('Invalid login credentials')) {\n          message = 'Invalid email or password. Please try again.';\n        } else {\n          message = error.message;\n        }\n      }\n      setErrorMsg(message);\n      setLoading(false);\n    }\n  }\n\n  async function handleBootstrap() {\n    setBootstrapStatus('loading');\n    setBootstrapMessage(null);\n\n    try {\n      const { data: { session } } = await supabase.auth.getSession();\n      \n      if (!session) {\n        setBootstrapStatus('error');\n        setBootstrapMessage('Not authenticated');\n        return;\n      }\n\n      const response = await fetch('/api/bootstrap', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${session.access_token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setBootstrapStatus('error');\n        setBootstrapMessage(data.error || 'Bootstrap failed');\n        return;\n      }\n\n      setBootstrapStatus('success');\n      setBootstrapMessage(data.message);\n      setShowBootstrap(false);\n\n      // Redirect to admin dashboard\n      setTimeout(() => {\n        router.replace('/app/admin');\n      }, 1500);\n    } catch (err) {\n      setBootstrapStatus('error');\n      setBootstrapMessage(err instanceof Error ? err.message : 'Bootstrap failed');\n    }\n  }\n\n  if (checkingSession) {\n    return (\n      <main className=\"hr-page\" style={{ maxWidth: 420, margin: '0 auto', paddingTop: 80 }}>\n        <div className=\"flex items-center justify-center gap-2\">\n          <Loader2 className=\"w-4 h-4 animate-spin\" />\n          <p className=\"hr-page__subtitle\">Loading...</p>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"hr-page\" style={{ maxWidth: 420, margin: '0 auto', paddingTop: 80 }}>\n      <h1 className=\"hr-page__title\">Sign in</h1>\n      <p className=\"hr-page__subtitle\">\n        Use your Nadiplan account to access HR dashboards.\n      </p>\n\n      <form onSubmit={handleSubmit} className=\"hr-card\" style={{ marginTop: 16 }}>\n        <div className=\"hr-form-field\">\n          <label className=\"hr-form-label\">Email</label>\n          <input\n            type=\"email\"\n            className=\"hr-input\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            autoComplete=\"email\"\n            required\n            data-testid=\"input-email\"\n          />\n        </div>\n\n        <div className=\"hr-form-field\">\n          <label className=\"hr-form-label\">Password</label>\n          <input\n            type=\"password\"\n            className=\"hr-input\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            autoComplete=\"current-password\"\n            required\n            data-testid=\"input-password\"\n          />\n        </div>\n\n        {errorMsg && (\n          <p className=\"hr-error\" style={{ marginTop: 8 }} data-testid=\"error-message\">\n            {errorMsg}\n          </p>\n        )}\n\n        <button\n          type=\"submit\"\n          className=\"hr-button hr-button--primary\"\n          disabled={loading}\n          style={{ marginTop: 12, width: '100%' }}\n          data-testid=\"button-signin\"\n        >\n          {loading ? 'Signing inâ€¦' : 'Sign in'}\n        </button>\n      </form>\n\n      {showBootstrap && (\n        <div className=\"hr-card\" style={{ marginTop: 16, padding: 16 }} data-testid=\"bootstrap-section\">\n          <h3 style={{ fontSize: 14, fontWeight: 600, marginBottom: 8 }}>\n            Admin Setup Required\n          </h3>\n          <p style={{ fontSize: 13, color: 'var(--color-text-secondary)', marginBottom: 12 }}>\n            No admin user exists. Click below to become the first admin.\n          </p>\n          \n          {bootstrapMessage && (\n            <p \n              className={bootstrapStatus === 'error' ? 'hr-error' : 'hr-success'}\n              style={{ marginBottom: 8, fontSize: 13 }}\n              data-testid=\"bootstrap-message\"\n            >\n              {bootstrapMessage}\n            </p>\n          )}\n          \n          <button\n            onClick={handleBootstrap}\n            disabled={bootstrapStatus === 'loading' || bootstrapStatus === 'success'}\n            className=\"hr-button hr-button--secondary\"\n            style={{ width: '100%' }}\n            data-testid=\"button-bootstrap\"\n          >\n            {bootstrapStatus === 'loading' ? (\n              <span className=\"flex items-center justify-center gap-2\">\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                Running Bootstrap...\n              </span>\n            ) : bootstrapStatus === 'success' ? (\n              'Bootstrap Complete!'\n            ) : (\n              'Run Admin Bootstrap'\n            )}\n          </button>\n        </div>\n      )}\n\n      <p style={{ marginTop: 16, fontSize: 13, color: 'var(--color-text-secondary)', textAlign: 'center' }}>\n        Don&apos;t have an account?{' '}\n        <a href=\"/signup\" style={{ color: 'var(--color-primary)', textDecoration: 'underline' }} data-testid=\"link-signup\">\n          Sign up\n        </a>\n      </p>\n\n      <p style={{ marginTop: 8, fontSize: 12, color: 'var(--color-text-tertiary)', textAlign: 'center' }}>\n        <a href=\"/health\" style={{ textDecoration: 'underline' }} data-testid=\"link-health\">\n          System Health Check\n        </a>\n      </p>\n    </main>\n  );\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React","AppRouterContext"],"mappings":"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","ignoreList":[0,1,2,3,4,5,7]}