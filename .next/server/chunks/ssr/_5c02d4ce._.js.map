{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/chevron-right.ts","../../../../node_modules/lucide-react/src/icons/search.ts","../../../../app/app/employees/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('ChevronRight', [\n  ['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }],\n]);\n\nexport default ChevronRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { Users, Search, ChevronRight } from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport type { Employee } from \"@/types/domain\";\n\nexport default function EmployeesPage() {\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [lineFilter, setLineFilter] = useState<string>(\"\");\n\n  useEffect(() => {\n    async function loadEmployees() {\n      const { data, error } = await supabase\n        .from(\"employees\")\n        .select(\"*, manager:manager_id(name)\")\n        .eq(\"is_active\", true)\n        .order(\"name\");\n\n      if (!error && data) {\n        setEmployees(\n          data.map((row) => ({\n            id: row.id,\n            name: row.name || \"\",\n            firstName: row.first_name || undefined,\n            lastName: row.last_name || undefined,\n            employeeNumber: row.employee_number || \"\",\n            email: row.email || undefined,\n            phone: row.phone || undefined,\n            dateOfBirth: row.date_of_birth || undefined,\n            role: row.role || \"\",\n            line: row.line || \"\",\n            team: row.team || \"\",\n            employmentType: row.employment_type || \"permanent\",\n            startDate: row.start_date || undefined,\n            contractEndDate: row.contract_end_date || undefined,\n            managerId: row.manager_id || undefined,\n            managerName: row.manager?.name || undefined,\n            address: row.address || undefined,\n            city: row.city || undefined,\n            postalCode: row.postal_code || undefined,\n            country: row.country || \"Sweden\",\n            isActive: row.is_active ?? true,\n          }))\n        );\n      } else if (error) {\n        console.error(\"Error loading employees:\", error);\n      }\n      setLoading(false);\n    }\n    loadEmployees();\n  }, []);\n\n  const lines = [...new Set(employees.map((e) => e.line).filter(Boolean))].sort();\n\n  const filteredEmployees = employees.filter((e) => {\n    const matchesSearch =\n      !searchTerm ||\n      e.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      e.employeeNumber.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesLine = !lineFilter || e.line === lineFilter;\n    return matchesSearch && matchesLine;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48\" />\n          <div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\" />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <Users className=\"h-6 w-6 text-gray-600 dark:text-gray-400\" />\n          <h1 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">\n            Employees\n          </h1>\n        </div>\n        <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n          {filteredEmployees.length} employees\n        </span>\n      </div>\n\n      <div className=\"flex flex-wrap gap-3 mb-6\">\n        <div className=\"relative flex-1 min-w-[200px] max-w-md\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search by name or employee number...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            data-testid=\"input-search-employees\"\n          />\n        </div>\n        <select\n          value={lineFilter}\n          onChange={(e) => setLineFilter(e.target.value)}\n          className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          data-testid=\"select-line-filter\"\n        >\n          <option value=\"\">All Lines</option>\n          {lines.map((line) => (\n            <option key={line} value={line}>\n              {line}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700\">\n              <th className=\"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                Name\n              </th>\n              <th className=\"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                Employee No\n              </th>\n              <th className=\"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                Line\n              </th>\n              <th className=\"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                Team\n              </th>\n              <th className=\"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                Role\n              </th>\n              <th className=\"text-left px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\n                Manager\n              </th>\n              <th className=\"w-10\" />\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n            {filteredEmployees.length === 0 ? (\n              <tr>\n                <td\n                  colSpan={7}\n                  className=\"px-4 py-8 text-center text-gray-500 dark:text-gray-400\"\n                >\n                  No employees found\n                </td>\n              </tr>\n            ) : (\n              filteredEmployees.map((employee) => (\n                <tr\n                  key={employee.id}\n                  className=\"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n                  data-testid={`row-employee-${employee.id}`}\n                >\n                  <td className=\"px-4 py-3\">\n                    <Link\n                      href={`/app/employees/${employee.id}`}\n                      className=\"font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400\"\n                      data-testid={`link-employee-${employee.id}`}\n                    >\n                      {employee.name}\n                    </Link>\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-gray-600 dark:text-gray-300\">\n                    {employee.employeeNumber}\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-gray-600 dark:text-gray-300\">\n                    {employee.line || \"-\"}\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-gray-600 dark:text-gray-300\">\n                    {employee.team || \"-\"}\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-gray-600 dark:text-gray-300\">\n                    {employee.role || \"-\"}\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-gray-600 dark:text-gray-300\">\n                    {employee.managerName || \"-\"}\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <Link\n                      href={`/app/employees/${employee.id}`}\n                      className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                    >\n                      <ChevronRight className=\"h-4 w-4\" />\n                    </Link>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}