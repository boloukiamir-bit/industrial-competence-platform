{"version":3,"sources":["../../../../components/ui/card.tsx","../../../../node_modules/lucide-react/src/icons/triangle-alert.ts","../../../../hooks/useAuthGuard.ts","../../../../services/hrWorkflows.ts","../../../../app/app/hr/tasks/page.tsx","../../../../services/hrTasks.ts"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('TriangleAlert', [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n]);\n\nexport default TriangleAlert;\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { getAuthUser } from '@/services/auth';\n\nexport function useAuthGuard() {\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function check() {\n      try {\n        const user = await getAuthUser();\n        if (!user && isMounted) {\n          router.replace('/login');\n        } else if (isMounted) {\n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error checking auth', err);\n        if (isMounted) {\n          router.replace('/login');\n        }\n      }\n    }\n\n    check();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [router]);\n\n  return { loading };\n}\n","import { supabase } from \"@/lib/supabaseClient\";\nimport type { \n  HRWorkflowTemplate, \n  HRWorkflowTemplateId, \n  HRWorkflowInstance, \n  HRWorkflowStep,\n  HRWorkflowStatus \n} from \"@/types/domain\";\n\nexport const WORKFLOW_TEMPLATES: HRWorkflowTemplate[] = [\n  {\n    id: \"sick_leave\",\n    name: \"Sick Leave Follow-up\",\n    description: \"Structured follow-up process for employees on sick leave according to Swedish labor law\",\n    category: \"health\",\n    defaultSteps: [\n      { title: \"Day 1 Contact\", description: \"Manager contacts employee to check in\", daysFromStart: 1, responsibleRole: \"manager\" },\n      { title: \"Week 1 Review\", description: \"Assess if return-to-work plan needed\", daysFromStart: 7, responsibleRole: \"hr\" },\n      { title: \"Day 14 Coordination\", description: \"Evaluate need for rehab coordination with Försäkringskassan\", daysFromStart: 14, responsibleRole: \"hr\" },\n      { title: \"Day 30 Meeting\", description: \"Formal meeting to discuss return or continued leave\", daysFromStart: 30, responsibleRole: \"manager\" },\n      { title: \"Day 60 Rehab Plan\", description: \"If applicable, create detailed rehabilitation plan\", daysFromStart: 60, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"rehab\",\n    name: \"Rehabilitation Process\",\n    description: \"Comprehensive rehabilitation plan for returning employees to full capacity\",\n    category: \"health\",\n    defaultSteps: [\n      { title: \"Initial Assessment\", description: \"Assess current capacity and restrictions\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Doctor Consultation\", description: \"Review medical recommendations\", daysFromStart: 3, responsibleRole: \"hr\" },\n      { title: \"Workplace Adjustment\", description: \"Implement necessary workplace adjustments\", daysFromStart: 7, responsibleRole: \"manager\" },\n      { title: \"Week 2 Check-in\", description: \"Review progress and adjust if needed\", daysFromStart: 14, responsibleRole: \"manager\" },\n      { title: \"Week 4 Evaluation\", description: \"Formal evaluation of rehab progress\", daysFromStart: 28, responsibleRole: \"hr\" },\n      { title: \"Completion Review\", description: \"Final assessment and closure\", daysFromStart: 56, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"parental_leave\",\n    name: \"Parental Leave\",\n    description: \"Manage parental leave transitions smoothly for both departure and return\",\n    category: \"leave\",\n    defaultSteps: [\n      { title: \"Notification Received\", description: \"Record parental leave request and planned dates\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Handover Planning\", description: \"Plan work handover and coverage\", daysFromStart: 7, responsibleRole: \"manager\" },\n      { title: \"Backfill Decision\", description: \"Determine if temporary replacement needed\", daysFromStart: 14, responsibleRole: \"hr\" },\n      { title: \"Pre-departure Meeting\", description: \"Final handover meeting before leave\", daysFromStart: -7, responsibleRole: \"manager\" },\n      { title: \"Return Contact\", description: \"Contact employee 30 days before planned return\", daysFromStart: -30, responsibleRole: \"hr\" },\n      { title: \"Return Planning\", description: \"Plan reboarding activities\", daysFromStart: -14, responsibleRole: \"manager\" },\n    ],\n  },\n  {\n    id: \"reboarding\",\n    name: \"Reboarding\",\n    description: \"Re-integrate employees returning from extended leave\",\n    category: \"lifecycle\",\n    defaultSteps: [\n      { title: \"Welcome Back Meeting\", description: \"Discuss changes and expectations\", daysFromStart: 0, responsibleRole: \"manager\" },\n      { title: \"System Access Check\", description: \"Verify all system access is active\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Training Update\", description: \"Review and schedule any required training updates\", daysFromStart: 3, responsibleRole: \"manager\" },\n      { title: \"Week 1 Check-in\", description: \"Discuss how re-integration is going\", daysFromStart: 7, responsibleRole: \"manager\" },\n      { title: \"30-day Review\", description: \"Formal review of reboarding success\", daysFromStart: 30, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"onboarding\",\n    name: \"New Employee Onboarding\",\n    description: \"Standard onboarding process for new employees\",\n    category: \"lifecycle\",\n    defaultSteps: [\n      { title: \"Pre-start Preparation\", description: \"Prepare equipment, accounts, and workspace\", daysFromStart: -7, responsibleRole: \"hr\" },\n      { title: \"Day 1 Welcome\", description: \"Welcome meeting and office tour\", daysFromStart: 0, responsibleRole: \"manager\" },\n      { title: \"HR Introduction\", description: \"Policies, benefits, and compliance training\", daysFromStart: 1, responsibleRole: \"hr\" },\n      { title: \"Week 1 Check-in\", description: \"Review first week experience\", daysFromStart: 5, responsibleRole: \"manager\" },\n      { title: \"30-day Review\", description: \"Formal review of onboarding progress\", daysFromStart: 30, responsibleRole: \"manager\" },\n      { title: \"90-day Review\", description: \"End of probation review\", daysFromStart: 90, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"offboarding\",\n    name: \"Employee Offboarding\",\n    description: \"Standard offboarding process for departing employees\",\n    category: \"lifecycle\",\n    defaultSteps: [\n      { title: \"Exit Notice Received\", description: \"Document resignation or termination details\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Handover Planning\", description: \"Plan knowledge transfer and handover\", daysFromStart: 1, responsibleRole: \"manager\" },\n      { title: \"Exit Interview Scheduled\", description: \"Schedule exit interview if applicable\", daysFromStart: 7, responsibleRole: \"hr\" },\n      { title: \"Equipment Return\", description: \"Collect company equipment and access cards\", daysFromStart: -2, responsibleRole: \"hr\" },\n      { title: \"Final Day Procedures\", description: \"System access revocation, final paperwork\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Post-departure Cleanup\", description: \"Archive data, update org charts\", daysFromStart: 1, responsibleRole: \"hr\" },\n    ],\n  },\n];\n\nexport function getWorkflowTemplates(): HRWorkflowTemplate[] {\n  return WORKFLOW_TEMPLATES;\n}\n\nexport function getTemplateById(id: HRWorkflowTemplateId): HRWorkflowTemplate | undefined {\n  return WORKFLOW_TEMPLATES.find((t) => t.id === id);\n}\n\nexport async function startWorkflow(\n  templateId: HRWorkflowTemplateId,\n  employeeId: string,\n  createdBy?: string,\n  notes?: string\n): Promise<HRWorkflowInstance | null> {\n  const template = getTemplateById(templateId);\n  if (!template) return null;\n\n  const { data: employee } = await supabase\n    .from(\"employees\")\n    .select(\"name\")\n    .eq(\"id\", employeeId)\n    .single();\n\n  const now = new Date();\n  const steps: HRWorkflowStep[] = template.defaultSteps.map((step, index) => ({\n    id: `step-${index + 1}`,\n    title: step.title,\n    description: step.description,\n    daysFromStart: step.daysFromStart,\n    responsibleRole: step.responsibleRole,\n    isCompleted: false,\n  }));\n\n  const maxDays = Math.max(...template.defaultSteps.map((s) => s.daysFromStart));\n  const dueDate = new Date(now.getTime() + maxDays * 24 * 60 * 60 * 1000);\n\n  const instanceData = {\n    template_id: templateId,\n    template_name: template.name,\n    employee_id: employeeId,\n    employee_name: employee?.name || null,\n    started_at: now.toISOString(),\n    due_date: dueDate.toISOString().split(\"T\")[0],\n    status: \"active\" as HRWorkflowStatus,\n    steps: steps,\n    created_by: createdBy || null,\n    notes: notes || null,\n  };\n\n  const { data, error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .insert(instanceData)\n    .select()\n    .single();\n\n  if (error || !data) {\n    console.error(\"Failed to start workflow:\", error);\n    return null;\n  }\n\n  return mapInstanceFromDb(data);\n}\n\nexport async function getWorkflowInstances(\n  filters?: { status?: HRWorkflowStatus; employeeId?: string; templateId?: string }\n): Promise<HRWorkflowInstance[]> {\n  let query = supabase\n    .from(\"hr_workflow_instances\")\n    .select(\"*\")\n    .order(\"started_at\", { ascending: false });\n\n  if (filters?.status) {\n    query = query.eq(\"status\", filters.status);\n  }\n  if (filters?.employeeId) {\n    query = query.eq(\"employee_id\", filters.employeeId);\n  }\n  if (filters?.templateId) {\n    query = query.eq(\"template_id\", filters.templateId);\n  }\n\n  const { data, error } = await query;\n  if (error || !data) return [];\n\n  return data.map(mapInstanceFromDb);\n}\n\nexport async function getWorkflowById(id: string): Promise<HRWorkflowInstance | null> {\n  const { data, error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .select(\"*\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error || !data) return null;\n  return mapInstanceFromDb(data);\n}\n\nexport async function completeWorkflowStep(\n  instanceId: string,\n  stepId: string,\n  completedBy?: string,\n  notes?: string\n): Promise<boolean> {\n  const instance = await getWorkflowById(instanceId);\n  if (!instance) return false;\n\n  const updatedSteps = instance.steps.map((step) => {\n    if (step.id === stepId) {\n      return {\n        ...step,\n        isCompleted: true,\n        completedAt: new Date().toISOString(),\n        completedBy,\n        notes,\n      };\n    }\n    return step;\n  });\n\n  const allCompleted = updatedSteps.every((s) => s.isCompleted);\n\n  const { error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .update({\n      steps: updatedSteps,\n      status: allCompleted ? \"completed\" : \"active\",\n      completed_at: allCompleted ? new Date().toISOString() : null,\n    })\n    .eq(\"id\", instanceId);\n\n  return !error;\n}\n\nexport async function cancelWorkflow(instanceId: string): Promise<boolean> {\n  const { error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .update({ status: \"cancelled\" })\n    .eq(\"id\", instanceId);\n\n  return !error;\n}\n\nfunction mapInstanceFromDb(row: Record<string, unknown>): HRWorkflowInstance {\n  return {\n    id: row.id as string,\n    templateId: row.template_id as HRWorkflowTemplateId,\n    templateName: row.template_name as string,\n    employeeId: row.employee_id as string,\n    employeeName: row.employee_name as string | undefined,\n    startedAt: row.started_at as string,\n    dueDate: row.due_date as string | undefined,\n    status: row.status as HRWorkflowStatus,\n    steps: (row.steps as HRWorkflowStep[]) || [],\n    createdBy: row.created_by as string | undefined,\n    completedAt: row.completed_at as string | undefined,\n    notes: row.notes as string | undefined,\n  };\n}\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertTriangle } from \"lucide-react\";\nimport { getCurrentUser } from \"@/lib/auth\";\nimport { getHrTaskBuckets, HrTaskBuckets, HrTask } from \"@/services/hrTasks\";\nimport { useAuthGuard } from \"@/hooks/useAuthGuard\";\n\nexport default function HrTasksPage() {\n  const { loading: authLoading } = useAuthGuard();\n\n  if (authLoading) {\n    return (\n      <main className=\"hr-page\">\n        <p>Checking access...</p>\n      </main>\n    );\n  }\n\n  return <HrTasksContent />;\n}\n\nfunction HrTasksContent() {\n  const [buckets, setBuckets] = useState<HrTaskBuckets | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [authorized, setAuthorized] = useState(true);\n\n  useEffect(() => {\n    async function load() {\n      const user = await getCurrentUser();\n      if (!user || user.role !== \"HR_ADMIN\") {\n        setAuthorized(false);\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const data = await getHrTaskBuckets();\n        setBuckets(data);\n      } catch (err) {\n        console.error(err);\n        setError(\"Could not load HR tasks.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    load();\n  }, []);\n\n  const totalTasks =\n    (buckets?.overdue.length ?? 0) +\n    (buckets?.today.length ?? 0) +\n    (buckets?.upcoming.length ?? 0);\n\n  if (loading) {\n    return (\n      <main className=\"hr-page\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3\" />\n          <div className=\"hr-kpi-grid\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"h-20 bg-gray-200 dark:bg-gray-700 rounded-xl\" />\n            ))}\n          </div>\n          <div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\" />\n        </div>\n      </main>\n    );\n  }\n\n  if (!authorized) {\n    return (\n      <main className=\"hr-page\">\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">Access Denied</h2>\n            <p className=\"text-gray-500 dark:text-gray-400\">\n              This page is only accessible to HR Administrators.\n            </p>\n          </CardContent>\n        </Card>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"hr-page\" data-testid=\"hr-tasks-page\">\n      <header className=\"hr-page__header\">\n        <div>\n          <h1 className=\"hr-page__title\">HR Tasks</h1>\n          <p className=\"hr-page__subtitle\">\n            All open workflow steps, sorted by urgency - overdue, today and the coming week.\n          </p>\n        </div>\n      </header>\n\n      {error && <p className=\"hr-error\">{error}</p>}\n\n      {!error && buckets && (\n        <>\n          <section className=\"hr-kpi-grid\" data-testid=\"kpi-grid\">\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Active tasks</div>\n              <div className=\"hr-kpi__value\" data-testid=\"kpi-active\">{totalTasks}</div>\n            </div>\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Overdue</div>\n              <div className=\"hr-kpi__value hr-kpi__value--danger\" data-testid=\"kpi-overdue\">\n                {buckets.overdue.length}\n              </div>\n            </div>\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Due today</div>\n              <div className=\"hr-kpi__value hr-kpi__value--warn\" data-testid=\"kpi-today\">\n                {buckets.today.length}\n              </div>\n            </div>\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Next 7 days</div>\n              <div className=\"hr-kpi__value hr-kpi__value--ok\" data-testid=\"kpi-upcoming\">\n                {buckets.upcoming.length}\n              </div>\n            </div>\n          </section>\n\n          <TaskSection\n            title=\"Overdue\"\n            description=\"Tasks that should already have been completed.\"\n            tasks={buckets.overdue}\n            badgeClass=\"hr-pill--danger\"\n            testId=\"section-overdue\"\n          />\n\n          <TaskSection\n            title=\"Due today\"\n            description=\"Tasks that must be handled today.\"\n            tasks={buckets.today}\n            badgeClass=\"hr-pill--warn\"\n            testId=\"section-today\"\n          />\n\n          <TaskSection\n            title=\"Coming 7 days\"\n            description=\"Tasks with deadlines within the next week.\"\n            tasks={buckets.upcoming}\n            badgeClass=\"hr-pill--ok\"\n            testId=\"section-upcoming\"\n          />\n        </>\n      )}\n    </main>\n  );\n}\n\ntype TaskSectionProps = {\n  title: string;\n  description: string;\n  tasks: HrTask[];\n  badgeClass: string;\n  testId: string;\n};\n\nfunction TaskSection({ title, description, tasks, badgeClass, testId }: TaskSectionProps) {\n  return (\n    <section className=\"hr-task-section\" data-testid={testId}>\n      <header className=\"hr-task-section__header\">\n        <div>\n          <h2 className=\"hr-section__title\">{title}</h2>\n          <p className=\"hr-task-section__description\">{description}</p>\n        </div>\n        <span className={`hr-pill ${badgeClass}`}>{tasks.length}</span>\n      </header>\n\n      {tasks.length === 0 ? (\n        <p className=\"hr-task-empty\">No tasks in this bucket.</p>\n      ) : (\n        <div className=\"hr-task-list\">\n          {tasks.map((task) => (\n            <TaskRow key={task.id} task={task} />\n          ))}\n        </div>\n      )}\n    </section>\n  );\n}\n\nfunction TaskRow({ task }: { task: HrTask }) {\n  const dueLabel = task.dueDate\n    ? new Date(task.dueDate).toLocaleDateString(\"sv-SE\")\n    : \"No due date\";\n\n  const href = `/app/hr/workflows`;\n\n  const statusLabel =\n    task.status === \"not_started\"\n      ? \"Not started\"\n      : task.status === \"in_progress\"\n      ? \"In progress\"\n      : task.status === \"done\"\n      ? \"Done\"\n      : task.status;\n\n  return (\n    <Link href={href} className=\"hr-task-row\" data-testid={`task-row-${task.id}`}>\n      <div className=\"hr-task-row__main\">\n        <h3 className=\"hr-task-row__title\">{task.stepTitle}</h3>\n        <p className=\"hr-task-row__subtitle\">\n          {task.employeeName ?? \"Unknown employee\"} - {task.workflowName}\n        </p>\n      </div>\n      <div className=\"hr-task-row__meta\">\n        <span className=\"hr-task-row__date\">{dueLabel}</span>\n        <span className=\"hr-task-row__status\">{statusLabel}</span>\n      </div>\n    </Link>\n  );\n}\n","import { supabase } from \"@/lib/supabaseClient\";\nimport { getWorkflowInstances, WORKFLOW_TEMPLATES } from \"./hrWorkflows\";\nimport type { HRWorkflowInstance } from \"@/types/domain\";\n\nexport type HrTask = {\n  id: string;\n  stepTitle: string;\n  status: string;\n  dueDate: string | null;\n  workflowInstanceId: string;\n  workflowName: string;\n  workflowCategory: string | null;\n  employeeId: string | null;\n  employeeName: string | null;\n};\n\nexport type HrTaskBuckets = {\n  overdue: HrTask[];\n  today: HrTask[];\n  upcoming: HrTask[];\n};\n\nfunction normalize(d: string) {\n  return new Date(`${d}T00:00:00`);\n}\n\nexport async function getHrTaskBuckets(): Promise<HrTaskBuckets> {\n  const instances = await getWorkflowInstances({ status: \"active\" });\n  \n  const today = new Date();\n  const todayStr = today.toISOString().slice(0, 10);\n  const todayDate = new Date(`${todayStr}T00:00:00`);\n  const sevenDaysAhead = new Date(todayDate);\n  sevenDaysAhead.setDate(sevenDaysAhead.getDate() + 7);\n\n  const overdue: HrTask[] = [];\n  const todayBucket: HrTask[] = [];\n  const upcoming: HrTask[] = [];\n\n  for (const instance of instances) {\n    const template = WORKFLOW_TEMPLATES.find((t) => t.id === instance.templateId);\n    \n    for (const step of instance.steps) {\n      if (step.isCompleted) continue;\n\n      const dueDate = instance.startedAt\n        ? calculateStepDueDate(instance.startedAt, step.daysFromStart)\n        : null;\n\n      const task: HrTask = {\n        id: step.id,\n        stepTitle: step.title,\n        status: step.isCompleted ? \"done\" : \"not_started\",\n        dueDate,\n        workflowInstanceId: instance.id,\n        workflowName: instance.templateName || template?.name || \"Workflow\",\n        workflowCategory: template?.category || null,\n        employeeId: instance.employeeId,\n        employeeName: instance.employeeName || null,\n      };\n\n      if (!dueDate) continue;\n\n      const due = normalize(dueDate);\n\n      if (due < todayDate) {\n        overdue.push(task);\n      } else if (due.getTime() === todayDate.getTime()) {\n        todayBucket.push(task);\n      } else if (due > todayDate && due <= sevenDaysAhead) {\n        upcoming.push(task);\n      }\n    }\n  }\n\n  overdue.sort((a, b) => (a.dueDate || \"\").localeCompare(b.dueDate || \"\"));\n  todayBucket.sort((a, b) => a.stepTitle.localeCompare(b.stepTitle));\n  upcoming.sort((a, b) => (a.dueDate || \"\").localeCompare(b.dueDate || \"\"));\n\n  return {\n    overdue,\n    today: todayBucket,\n    upcoming,\n  };\n}\n\nfunction calculateStepDueDate(startDate: string, daysFromStart: number): string {\n  const start = new Date(startDate);\n  start.setDate(start.getDate() + daysFromStart);\n  return start.toISOString().slice(0, 10);\n}\n"],"names":[],"mappings":"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","ignoreList":[1]}