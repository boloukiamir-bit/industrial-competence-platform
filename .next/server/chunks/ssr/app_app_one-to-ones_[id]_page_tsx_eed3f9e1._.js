module.exports=[33015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(40695),g=a.i(48654),h=a.i(54161),i=a.i(5522),j=a.i(46893),k=a.i(21958),l=a.i(70121),m=a.i(50104),n=a.i(7554),o=a.i(25152),p=a.i(77994),q=a.i(3688),r=a.i(77192),s=a.i(30553),t="Checkbox",[u,v]=(0,m.createContextScope)(t),[w,x]=u(t),y=c.forwardRef((a,d)=>{let{__scopeCheckbox:e,name:f,checked:g,defaultChecked:h,required:i,disabled:j,value:k="on",onCheckedChange:m,form:p,...q}=a,[r,t]=c.useState(null),u=(0,l.useComposedRefs)(d,a=>t(a)),v=c.useRef(!1),x=!r||p||!!r.closest("form"),[y=!1,z]=(0,o.useControllableState)({prop:g,defaultProp:h,onChange:m}),A=c.useRef(y);return c.useEffect(()=>{let a=r?.form;if(a){let b=()=>z(A.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[r,z]),(0,b.jsxs)(w,{scope:e,state:y,disabled:j,children:[(0,b.jsx)(s.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(y)?"mixed":y,"aria-required":i,"data-state":D(y),"data-disabled":j?"":void 0,disabled:j,value:k,...q,ref:u,onKeyDown:(0,n.composeEventHandlers)(a.onKeyDown,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,n.composeEventHandlers)(a.onClick,a=>{z(a=>!!C(a)||!a),x&&(v.current=a.isPropagationStopped(),v.current||a.stopPropagation())})}),x&&(0,b.jsx)(B,{control:r,bubbles:!v.current,name:f,value:k,checked:y,required:i,disabled:j,form:p,style:{transform:"translateX(-100%)"},defaultChecked:!C(h)&&h})]})});y.displayName=t;var z="CheckboxIndicator",A=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=x(z,d);return(0,b.jsx)(r.Presence,{present:e||C(g.state)||!0===g.state,children:(0,b.jsx)(s.Primitive.span,{"data-state":D(g.state),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});A.displayName=z;var B=a=>{let{control:d,checked:e,bubbles:f=!0,defaultChecked:g,...h}=a,i=c.useRef(null),j=(0,p.usePrevious)(e),k=(0,q.useSize)(d);c.useEffect(()=>{let a=i.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(j!==e&&b){let c=new Event("click",{bubbles:f});a.indeterminate=C(e),b.call(a,!C(e)&&e),a.dispatchEvent(c)}},[j,e,f]);let l=c.useRef(!C(e)&&e);return(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:g??l.current,...h,tabIndex:-1,ref:i,style:{...a.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C(a){return"indeterminate"===a}function D(a){return C(a)?"indeterminate":a?"checked":"unchecked"}var E=a.i(33441),F=a.i(97895);let G=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(y,{ref:d,className:(0,F.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...c,children:(0,b.jsx)(A,{className:(0,F.cn)("flex items-center justify-center text-current"),children:(0,b.jsx)(E.Check,{className:"h-4 w-4"})})}));G.displayName=y.displayName;var H=a.i(87682),I=a.i(210),J=a.i(15618),K=a.i(41675),L=a.i(41710),M=a.i(24987),N=a.i(46842);let O=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var P=a.i(76550);function Q(){var a;let l=(0,d.useParams)();(0,d.useRouter)();let m=l.id,[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)("employee"),[F,Q]=(0,c.useState)("");async function R(){n&&(u(!0),await (0,P.updateMeeting)(m,{sharedAgenda:v,managerNotesPrivate:x,employeeNotesPrivate:z}),u(!1))}async function S(a){n&&(u(!0),await (0,P.updateMeeting)(m,{status:a})&&o({...n,status:a}),u(!1))}async function T(){if(!B.trim())return;u(!0);let a=await (0,P.addAction)(m,{description:B,ownerType:D,dueDate:F||void 0});a&&(q([...p,a]),C(""),Q("")),u(!1)}async function U(a){await (0,P.completeAction)(a)&&q(p.map(b=>b.id===a?{...b,isCompleted:!0}:b))}return((0,c.useEffect)(()=>{!async function(){let[a,b]=await Promise.all([(0,P.getMeetingById)(m),(0,P.getActionsForMeeting)(m)]);a&&(o(a),w(a.sharedAgenda||""),y(a.managerNotesPrivate||""),A(a.employeeNotesPrivate||"")),q(b),s(!1)}()},[m]),r)?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-1/3"}),(0,b.jsx)("div",{className:"h-64 bg-muted rounded"})]})}):n?(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:`/app/employees/${n.employeeId}/one-to-ones`,children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon","data-testid":"button-back",children:(0,b.jsx)(I.ArrowLeft,{className:"h-4 w-4"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold","data-testid":"text-page-title",children:n.templateName||"1:1 Meeting"}),(a=n.status,(0,b.jsx)(h.Badge,{variant:{planned:"outline",in_progress:"default",completed:"secondary",cancelled:"destructive"}[a]||"outline",children:a.replace("_"," ")}))]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-muted-foreground mt-1 flex-wrap",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(N.User,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[n.employeeName," with ",n.managerName]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(K.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:new Date(n.scheduledAt).toLocaleDateString("sv-SE")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(L.Clock,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:new Date(n.scheduledAt).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})})]}),n.location&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(M.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:n.location})]})]})]}),(0,b.jsxs)(H.Select,{value:n.status,onValueChange:a=>S(a),children:[(0,b.jsx)(H.SelectTrigger,{className:"w-40","data-testid":"select-status",children:(0,b.jsx)(H.SelectValue,{})}),(0,b.jsxs)(H.SelectContent,{children:[(0,b.jsx)(H.SelectItem,{value:"planned",children:"Planned"}),(0,b.jsx)(H.SelectItem,{value:"in_progress",children:"In Progress"}),(0,b.jsx)(H.SelectItem,{value:"completed",children:"Completed"}),(0,b.jsx)(H.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,b.jsxs)(k.Tabs,{defaultValue:"before",className:"space-y-4",children:[(0,b.jsxs)(k.TabsList,{children:[(0,b.jsx)(k.TabsTrigger,{value:"before","data-testid":"tab-before",children:"Before"}),(0,b.jsx)(k.TabsTrigger,{value:"during","data-testid":"tab-during",children:"During"}),(0,b.jsx)(k.TabsTrigger,{value:"after","data-testid":"tab-after",children:"After"})]}),(0,b.jsxs)(k.TabsContent,{value:"before",className:"space-y-4",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Shared Agenda"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(j.Textarea,{value:v,onChange:a=>w(a.target.value),placeholder:"Topics both parties want to discuss...",rows:4,"data-testid":"input-shared-agenda"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Employee Private Notes"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(j.Textarea,{value:z,onChange:a=>A(a.target.value),placeholder:"Private notes for employee...",rows:4,"data-testid":"input-employee-notes"})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Manager Private Notes"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(j.Textarea,{value:x,onChange:a=>y(a.target.value),placeholder:"Private notes for manager...",rows:4,"data-testid":"input-manager-notes"})})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(f.Button,{onClick:R,disabled:t,"data-testid":"button-save-notes",children:t?"Saving...":"Save Notes"})})]}),(0,b.jsxs)(k.TabsContent,{value:"during",className:"space-y-4",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Discussion Points & Agenda"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"bg-muted p-4 rounded-md whitespace-pre-wrap",children:v||"No agenda set"})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{className:"flex flex-row items-center justify-between gap-4",children:(0,b.jsx)(g.CardTitle,{children:"Action Items"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)(i.Input,{value:B,onChange:a=>C(a.target.value),placeholder:"New action item...",className:"flex-1 min-w-48","data-testid":"input-new-action"}),(0,b.jsxs)(H.Select,{value:D,onValueChange:a=>E(a),children:[(0,b.jsx)(H.SelectTrigger,{className:"w-32","data-testid":"select-action-owner",children:(0,b.jsx)(H.SelectValue,{})}),(0,b.jsxs)(H.SelectContent,{children:[(0,b.jsx)(H.SelectItem,{value:"employee",children:"Employee"}),(0,b.jsx)(H.SelectItem,{value:"manager",children:"Manager"})]})]}),(0,b.jsx)(i.Input,{type:"date",value:F,onChange:a=>Q(a.target.value),className:"w-40","data-testid":"input-action-due"}),(0,b.jsx)(f.Button,{onClick:T,disabled:!B.trim(),"data-testid":"button-add-action",children:(0,b.jsx)(J.Plus,{className:"h-4 w-4"})})]}),0===p.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No action items yet"}):(0,b.jsx)("div",{className:"space-y-2",children:p.map(a=>(0,b.jsxs)("div",{className:`flex items-start gap-3 p-3 rounded-md border ${a.isCompleted?"bg-muted/50":""}`,children:[(0,b.jsx)(G,{checked:a.isCompleted,onCheckedChange:()=>!a.isCompleted&&U(a.id),"data-testid":`checkbox-action-${a.id}`}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:a.isCompleted?"line-through text-muted-foreground":"",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground",children:[(0,b.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:a.ownerType}),a.dueDate&&(0,b.jsxs)("span",{children:["Due: ",a.dueDate]})]})]}),a.isCompleted&&(0,b.jsx)(O,{className:"h-4 w-4 text-green-600"})]},a.id))})]})]})]}),(0,b.jsx)(k.TabsContent,{value:"after",className:"space-y-4",children:(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{children:"Meeting Summary"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Discussed Topics"}),(0,b.jsx)("div",{className:"bg-muted p-4 rounded-md whitespace-pre-wrap",children:v||"No agenda recorded"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-medium mb-2",children:["Action Items (",p.filter(a=>a.isCompleted).length,"/",p.length," completed)"]}),0===p.length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No action items"}):(0,b.jsx)("div",{className:"space-y-2",children:p.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md border",children:[a.isCompleted?(0,b.jsx)(O,{className:"h-4 w-4 text-green-600"}):(0,b.jsx)("div",{className:"h-4 w-4 rounded-full border-2"}),(0,b.jsx)("span",{className:a.isCompleted?"line-through text-muted-foreground":"",children:a.description}),(0,b.jsx)(h.Badge,{variant:"outline",className:"ml-auto text-xs",children:a.ownerType})]},a.id))})]}),"completed"!==n.status&&(0,b.jsx)(f.Button,{onClick:()=>S("completed"),className:"w-full","data-testid":"button-complete-meeting",children:"Mark Meeting as Completed"})]})]})})]})]}):(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Meeting not found"})})}a.s(["default",()=>Q],33015)}];

//# sourceMappingURL=app_app_one-to-ones_%5Bid%5D_page_tsx_eed3f9e1._.js.map