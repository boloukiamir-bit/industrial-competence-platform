module.exports=[54161,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"border [border-color:var(--badge-outline)] shadow-xs"},size:{default:"",sm:"text-[10px] px-2 py-0"}},defaultVariants:{variant:"default",size:"default"}});function f({className:a,variant:c,size:f,...g}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c,size:f}),a),...g})}a.s(["Badge",()=>f])},187,a=>{"use strict";var b=a.i(98621);let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=b.clsx;a.s(["cva",0,(a,b)=>e=>{var f;if((null==b?void 0:b.variants)==null)return d(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return d(a,i,null==b||null==(f=b.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}])},48654,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c})).displayName="CardDescription";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));h.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},65965,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(48654),e=a.i(54161),f=a.i(33441);let g=(0,a.i(70106).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var h=a.i(47033);let i={business:{baseYearlySEK:15e3,perEmployeeMonthlySEK:49,maxIncludedEmployees:25,features:["Competence matrix","Gap analysis","Employee import","Basic reporting","Up to 50 employees"]},enterprise:{baseYearlySEK:3e4,perEmployeeMonthlySEK:89,maxIncludedEmployees:25,features:["Everything in Business","Manager risk dashboard","Equipment tracking","On/offboarding automation","Medical check tracking","Contract expiry alerts","Unlimited employees","Priority support"]}};var j=a.i(7291);function k(){let a,k,[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(0),[p,q]=(0,c.useState)(!0),r="enterprise";if((0,c.useEffect)(()=>{!async function(){let[a,b]=await Promise.all([(0,h.getCurrentUser)(),j.supabase.from("employees").select("id",{count:"exact",head:!0}).eq("is_active",!0)]);m(a),o(b.count||0),q(!1)}()},[]),p)return(0,b.jsx)("div",{className:"p-8",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48"}),(0,b.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})});if(l?.role!=="HR_ADMIN")return(0,b.jsx)("div",{className:"p-8",children:(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Only HR administrators can access billing settings."})]})})})});let s=i[r],t=(k=Math.max(0,n-(a=i[r]).maxIncludedEmployees)*a.perEmployeeMonthlySEK,a.baseYearlySEK+12*k),u=Math.round(t/12),v=n>0?Math.round(t/n/12):0;return(0,b.jsxs)("div",{className:"p-8 max-w-4xl","data-testid":"billing-page",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Billing"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage your subscription and billing details"})]}),(0,b.jsxs)("div",{className:"grid gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g,{className:"h-5 w-5 text-gray-400"}),(0,b.jsx)(d.CardTitle,{children:"Current Plan"})]}),(0,b.jsx)(e.Badge,{variant:"default","data-testid":"badge-current-plan",children:r.charAt(0).toUpperCase()+r.slice(1)})]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Active Employees"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-headcount",children:n})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Estimated Yearly Cost"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-yearly-cost",children:[t.toLocaleString()," SEK"]})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Per Employee / Month"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white","data-testid":"text-per-employee",children:[v," SEK"]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4",children:"Included Features"}),(0,b.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[(0,b.jsx)(f.Check,{className:"h-4 w-4 text-green-500"}),a]},c))})]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Billing Details"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,b.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Billing is currently handled manually. For invoices, payment questions, or plan changes, please contact your account representative or email billing@industrialcompetence.app."})}),(0,b.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Billing Cycle"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Annual"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Base Fee"}),(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[s.baseYearlySEK.toLocaleString()," SEK / year"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Per Employee (after ",s.maxIncludedEmployees,")"]}),(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[s.perEmployeeMonthlySEK," SEK / month"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Estimated Monthly Total"}),(0,b.jsxs)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[u.toLocaleString()," SEK"]})]})]})]})]})]})]})}a.s(["default",()=>k],65965)}];

//# sourceMappingURL=_4488af1d._.js.map