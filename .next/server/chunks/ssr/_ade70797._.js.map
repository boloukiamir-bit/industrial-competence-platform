{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../node_modules/lucide-react/src/icons/external-link.ts","../../../../app/app/documents/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('ExternalLink', [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n]);\n\nexport default ExternalLink;\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Plus, FileText, ExternalLink, Loader2 } from \"lucide-react\";\nimport type { Document } from \"@/types/domain\";\n\nexport default function DocumentsPage() {\n  const [documents, setDocuments] = useState<Document[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newDoc, setNewDoc] = useState({ title: \"\", type: \"handbook\", url: \"\" });\n\n  const fetchDocuments = async () => {\n    setLoading(true);\n    const { data } = await supabase\n      .from(\"documents\")\n      .select(\"*\")\n      .is(\"employee_id\", null)\n      .order(\"created_at\", { ascending: false });\n\n    setDocuments(\n      (data || []).map((d: any) => ({\n        id: d.id,\n        employeeId: d.employee_id,\n        title: d.title,\n        type: d.type,\n        url: d.url,\n        createdAt: d.created_at,\n        validTo: d.valid_to,\n      }))\n    );\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchDocuments();\n  }, []);\n\n  const handleAddDocument = async () => {\n    if (!newDoc.title || !newDoc.url) return;\n\n    await supabase.from(\"documents\").insert({\n      title: newDoc.title,\n      type: newDoc.type,\n      url: newDoc.url,\n      employee_id: null,\n    });\n\n    setNewDoc({ title: \"\", type: \"handbook\", url: \"\" });\n    setShowAddForm(false);\n    fetchDocuments();\n  };\n\n  const typeLabels: Record<string, string> = {\n    contract: \"Contract\",\n    handbook: \"Handbook\",\n    policy: \"Policy\",\n    certificate: \"Certificate\",\n    other: \"Other\",\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 flex items-center justify-center\">\n        <Loader2 className=\"h-6 w-6 animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h1 className=\"text-2xl font-semibold\">Company Documents</h1>\n        <Button onClick={() => setShowAddForm(!showAddForm)} data-testid=\"button-add-document\">\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Add Document\n        </Button>\n      </div>\n\n      {showAddForm && (\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Add Document</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <Input\n                placeholder=\"Title\"\n                value={newDoc.title}\n                onChange={(e) => setNewDoc({ ...newDoc, title: e.target.value })}\n                data-testid=\"input-doc-title\"\n              />\n              <Select\n                value={newDoc.type}\n                onValueChange={(value: string) => setNewDoc({ ...newDoc, type: value })}\n              >\n                <SelectTrigger data-testid=\"select-doc-type\">\n                  <SelectValue placeholder=\"Type\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"handbook\">Handbook</SelectItem>\n                  <SelectItem value=\"policy\">Policy</SelectItem>\n                  <SelectItem value=\"contract\">Contract Template</SelectItem>\n                  <SelectItem value=\"certificate\">Certificate</SelectItem>\n                  <SelectItem value=\"other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n              <Input\n                placeholder=\"URL\"\n                value={newDoc.url}\n                onChange={(e) => setNewDoc({ ...newDoc, url: e.target.value })}\n                data-testid=\"input-doc-url\"\n              />\n            </div>\n            <Button className=\"mt-4\" onClick={handleAddDocument} data-testid=\"button-save-document\">\n              Save Document\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {documents.map((doc) => (\n          <Card key={doc.id} data-testid={`card-document-${doc.id}`}>\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-start justify-between gap-2\">\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <FileText className=\"h-4 w-4\" />\n                  {doc.title}\n                </CardTitle>\n                <Badge variant=\"outline\">{typeLabels[doc.type] || doc.type}</Badge>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <a\n                href={doc.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-sm text-primary flex items-center gap-1 hover:underline\"\n                data-testid={`link-document-${doc.id}`}\n              >\n                <ExternalLink className=\"h-3 w-3\" />\n                Open Document\n              </a>\n            </CardContent>\n          </Card>\n        ))}\n\n        {documents.length === 0 && (\n          <div className=\"col-span-full text-center py-12 text-muted-foreground\">\n            No documents yet. Click &quot;Add Document&quot; to upload your first document.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"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","ignoreList":[0,1,2]}