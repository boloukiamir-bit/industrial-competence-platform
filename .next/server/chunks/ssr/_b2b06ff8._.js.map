{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../node_modules/%40radix-ui/react-slot/dist/index.mjs","../../../../node_modules/%40radix-ui/react-compose-refs/dist/index.mjs","../../../../node_modules/%40radix-ui/react-context/dist/index.mjs","../../../../node_modules/%40radix-ui/react-primitive/dist/index.mjs","../../../../node_modules/lucide-react/src/icons/triangle-alert.ts","../../../../hooks/useAuthGuard.ts","../../../../services/competence.ts","../../../../components/ui/progress.tsx","../../../../node_modules/%40radix-ui/react-progress/dist/index.mjs","../../../../app/app/tomorrows-gaps/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","// packages/react/slot/src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/compose-refs/src/compose-refs.tsx\nimport * as React from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    return ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == \"function\") {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == \"function\") {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\nexport {\n  composeRefs,\n  useComposedRefs\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/context/src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/primitive/src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('TriangleAlert', [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n]);\n\nexport default TriangleAlert;\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { getAuthUser } from '@/services/auth';\n\nexport function useAuthGuard() {\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function check() {\n      try {\n        const user = await getAuthUser();\n        if (!user && isMounted) {\n          router.replace('/login');\n        } else if (isMounted) {\n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error checking auth', err);\n        if (isMounted) {\n          router.replace('/login');\n        }\n      }\n    }\n\n    check();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [router]);\n\n  return { loading };\n}\n","// services/competence.ts\nimport { supabase } from \"@/lib/supabaseClient\";\n\nexport type EmployeeCompetenceItem = {\n  competenceId: string;\n  competenceName: string;\n  competenceCode: string | null;\n  groupName: string | null;\n  requiredLevel: number | null;\n  mandatory: boolean;\n  employeeLevel: number | null;\n  validTo: string | null;\n  status: \"OK\" | \"GAP\" | \"RISK\" | \"N/A\";\n  riskReason: string | null;\n  isSafetyCritical: boolean;\n};\n\nexport type EmployeeCompetenceSummary = {\n  riskLevel: \"LOW\" | \"MEDIUM\" | \"HIGH\";\n  gapCount: number;\n  totalRequired: number;\n  coveragePercent: number; // 0–100\n  expiredCount: number;\n};\n\nexport type EmployeeCompetenceProfile = {\n  employee: {\n    id: string;\n    name: string;\n    positionName: string | null;\n  };\n  summary: EmployeeCompetenceSummary;\n  items: EmployeeCompetenceItem[];\n};\n\nexport type PositionSummary = {\n  id: string;\n  name: string;\n  site: string | null;\n  department: string | null;\n};\n\nexport type SimpleEmployee = {\n  id: string;\n  name: string;\n};\n\nexport type MatrixColumn = {\n  competenceId: string;\n  label: string;\n  groupName: string | null;\n  requiredLevel: number | null;\n};\n\nexport type MatrixCellStatus = 'OK' | 'GAP' | 'RISK' | 'N/A';\n\nexport type MatrixRow = {\n  employeeId: string;\n  employeeName: string;\n  riskLevel: 'LOW' | 'MEDIUM' | 'HIGH';\n  items: {\n    competenceId: string;\n    status: MatrixCellStatus;\n    level: number | null;\n    requiredLevel?: number | null;\n  }[];\n};\n\nexport async function getAllPositions(): Promise<PositionSummary[]> {\n  const { data, error } = await supabase\n    .from('positions')\n    .select('id, name, site, department')\n    .order('name', { ascending: true });\n\n  if (error) throw error;\n  return (data ?? []) as PositionSummary[];\n}\n\nexport async function getEmployeesForPosition(positionId: string): Promise<SimpleEmployee[]> {\n  const { data, error } = await supabase\n    .from('employees')\n    .select('id, name')\n    .eq('position_id', positionId);\n\n  if (error) throw error;\n\n  return (data ?? []).map((row: any) => ({\n    id: row.id,\n    name: row.name ?? 'Employee',\n  }));\n}\n\ntype EmployeeRow = {\n  id: string;\n  name?: string | null;\n  position_id?: string | null;\n};\n\ntype RequirementRow = {\n  id: string;\n  position_id: string;\n  competence_id: string;\n  required_level: number;\n  mandatory: boolean;\n};\n\ntype EmployeeCompetenceRow = {\n  id: string;\n  employee_id: string;\n  competence_id: string;\n  level: number;\n  valid_from: string | null;\n  valid_to: string | null;\n};\n\ntype CompetenceRow = {\n  id: string;\n  name: string;\n  description?: string | null;\n  code?: string | null;\n  group_id?: string | null;\n  is_safety_critical: boolean;\n};\n\ntype GroupRow = {\n  id: string;\n  name: string;\n};\n\nexport async function getEmployeeCompetenceProfile(\n  employeeId: string,\n  effectiveDate?: string\n): Promise<EmployeeCompetenceProfile> {\n  // Use provided date or default to today\n  const effectiveDateStr =\n    effectiveDate ?? new Date().toISOString().slice(0, 10);\n\n  // 1) Employee\n  const { data: employeeRow, error: empError } = await supabase\n    .from(\"employees\")\n    .select(\"id, name, position_id\")\n    .eq(\"id\", employeeId)\n    .single<EmployeeRow>();\n\n  if (empError || !employeeRow) {\n    console.error(empError);\n    throw empError ?? new Error(\"Employee not found\");\n  }\n\n  const employeeName = employeeRow.name ?? \"Employee\";\n\n  // 2) Position (optional)\n  let positionName: string | null = null;\n  const positionId = employeeRow.position_id ?? null;\n\n  if (positionId) {\n    const { data: posRows } = await supabase\n      .from(\"positions\")\n      .select(\"id, name\")\n      .eq(\"id\", positionId)\n      .limit(1);\n\n    const pos = posRows?.[0] as { id: string; name: string } | undefined;\n    if (pos) {\n      positionName = pos.name;\n    }\n  }\n\n  // 3) Requirements for this position\n  let requirementRows: RequirementRow[] = [];\n  if (positionId) {\n    const { data: reqData, error: reqError } = await supabase\n      .from(\"position_competence_requirements\")\n      .select(\"id, position_id, competence_id, required_level, mandatory\")\n      .eq(\"position_id\", positionId);\n\n    if (reqError) {\n      console.error(reqError);\n      throw reqError;\n    }\n    requirementRows = (reqData ?? []) as RequirementRow[];\n  }\n\n  // 4) Employee competences\n  const { data: empCompData, error: empCompError } = await supabase\n    .from(\"employee_competences\")\n    .select(\"id, employee_id, competence_id, level, valid_from, valid_to\")\n    .eq(\"employee_id\", employeeId);\n\n  if (empCompError) {\n    console.error(empCompError);\n    throw empCompError;\n  }\n\n  const employeeCompRows = (empCompData ?? []) as EmployeeCompetenceRow[];\n  const empCompByCompetenceId = new Map<string, EmployeeCompetenceRow>();\n  for (const row of employeeCompRows) {\n    empCompByCompetenceId.set(row.competence_id, row);\n  }\n\n  // 5) Load all involved competences + groups\n  const competenceIds = new Set<string>();\n  requirementRows.forEach((r) => competenceIds.add(r.competence_id));\n  employeeCompRows.forEach((r) => competenceIds.add(r.competence_id));\n\n  const competencesById = new Map<\n    string,\n    CompetenceRow & { groupName: string | null }\n  >();\n\n  if (competenceIds.size > 0) {\n    const { data: compData, error: compError } = await supabase\n      .from(\"competences\")\n      .select(\"id, name, description, code, group_id, is_safety_critical\")\n      .in(\"id\", Array.from(competenceIds));\n\n    if (compError) {\n      console.error(compError);\n      throw compError;\n    }\n\n    const comps = (compData ?? []) as CompetenceRow[];\n\n    const groupIds = new Set<string>();\n    comps.forEach((c) => {\n      if (c.group_id) groupIds.add(c.group_id);\n    });\n\n    let groupById = new Map<string, string>();\n    if (groupIds.size > 0) {\n      const { data: groupData, error: groupError } = await supabase\n        .from(\"competence_groups\")\n        .select(\"id, name\")\n        .in(\"id\", Array.from(groupIds));\n\n      if (groupError) {\n        console.error(groupError);\n      } else {\n        (groupData ?? []).forEach((g) => {\n          const gr = g as GroupRow;\n          groupById.set(gr.id, gr.name);\n        });\n      }\n    }\n\n    comps.forEach((c) => {\n      competencesById.set(c.id, {\n        ...c,\n        groupName: c.group_id ? (groupById.get(c.group_id) ?? null) : null,\n      });\n    });\n  }\n\n  function isExpired(validTo: string | null): boolean {\n    if (!validTo) return false;\n    return validTo < effectiveDateStr;\n  }\n\n  const items: EmployeeCompetenceItem[] = [];\n  let totalRequired = 0;\n  let gapCount = 0;\n  let expiredCount = 0;\n\n  const usedCompetenceIds = new Set<string>();\n\n  // 6) Build items for all requirements (rollkrav)\n  for (const req of requirementRows) {\n    const compInfo = competencesById.get(req.competence_id);\n    if (!compInfo) continue;\n\n    const empComp = empCompByCompetenceId.get(req.competence_id) ?? null;\n\n    let status: \"OK\" | \"GAP\" | \"RISK\" | \"N/A\" = \"N/A\";\n    let riskReason: string | null = null;\n    let empLevel: number | null = empComp ? empComp.level : null;\n    const validTo = empComp?.valid_to ?? null;\n\n    if (req.mandatory) {\n      totalRequired += 1;\n\n      if (!empComp) {\n        status = \"RISK\";\n        riskReason = \"Saknar kompetens\";\n        gapCount += 1;\n      } else if (isExpired(validTo)) {\n        status = \"RISK\";\n        riskReason = \"Utgången giltighet\";\n        gapCount += 1;\n        expiredCount += 1;\n      } else if (empLevel! < req.required_level) {\n        if (empLevel! >= req.required_level - 1) {\n          status = \"GAP\";\n          riskReason = \"En nivå under krav\";\n          gapCount += 1;\n        } else {\n          status = \"RISK\";\n          riskReason = \"För låg nivå\";\n          gapCount += 1;\n        }\n      } else {\n        status = \"OK\";\n      }\n    } else {\n      // ej obligatorisk men definierad\n      status = empComp ? \"OK\" : \"N/A\";\n    }\n\n    items.push({\n      competenceId: compInfo.id,\n      competenceName: compInfo.name,\n      competenceCode: compInfo.code ?? null,\n      groupName: compInfo.groupName,\n      requiredLevel: req.required_level,\n      mandatory: req.mandatory,\n      employeeLevel: empLevel,\n      validTo,\n      status,\n      riskReason,\n      isSafetyCritical: compInfo.is_safety_critical,\n    });\n\n    usedCompetenceIds.add(compInfo.id);\n  }\n\n  // 7) Extra kompetenser som inte finns i rollkraven (nice-to-have / historik)\n  for (const empComp of employeeCompRows) {\n    if (usedCompetenceIds.has(empComp.competence_id)) continue;\n    const compInfo = competencesById.get(empComp.competence_id);\n    if (!compInfo) continue;\n\n    items.push({\n      competenceId: compInfo.id,\n      competenceName: compInfo.name,\n      competenceCode: compInfo.code ?? null,\n      groupName: compInfo.groupName,\n      requiredLevel: null,\n      mandatory: false,\n      employeeLevel: empComp.level,\n      validTo: empComp.valid_to,\n      status: isExpired(empComp.valid_to) ? \"RISK\" : \"N/A\",\n      riskReason: isExpired(empComp.valid_to) ? \"Utgången giltighet\" : null,\n      isSafetyCritical: compInfo.is_safety_critical,\n    });\n  }\n\n  // 8) Summary / risk score\n  const coveragePercent =\n    totalRequired === 0\n      ? 100\n      : Math.round(((totalRequired - gapCount) / totalRequired) * 100);\n\n  let riskLevel: \"LOW\" | \"MEDIUM\" | \"HIGH\" = \"LOW\";\n  if (gapCount === 0) {\n    riskLevel = \"LOW\";\n  } else if (gapCount <= 2) {\n    riskLevel = \"MEDIUM\";\n  } else {\n    riskLevel = \"HIGH\";\n  }\n\n  // Sortera per grupp + namn\n  items.sort((a, b) => {\n    const g1 = a.groupName ?? \"\";\n    const g2 = b.groupName ?? \"\";\n    if (g1 !== g2) return g1.localeCompare(g2);\n    return a.competenceName.localeCompare(b.competenceName);\n  });\n\n  return {\n    employee: {\n      id: employeeRow.id,\n      name: employeeName,\n      positionName,\n    },\n    summary: {\n      riskLevel,\n      gapCount,\n      totalRequired,\n      coveragePercent,\n      expiredCount,\n    },\n    items,\n  };\n}\n\nexport type PositionCoverageSummary = {\n  positionId: string;\n  positionName: string;\n  site: string | null;\n  department: string | null;\n  minHeadcount: number;\n  availableCount: number;\n  gap: number;\n  riskLevel: 'LOW' | 'MEDIUM' | 'HIGH';\n};\n\nexport async function getPositionCoverageForDate(\n  effectiveDate: string\n): Promise<PositionCoverageSummary[]> {\n  let positions: {\n    id: string;\n    name: string;\n    site: string | null;\n    department: string | null;\n    minHeadcount: number;\n  }[] = [];\n\n  const result = await supabase\n    .from('positions')\n    .select('id, name, site, department, min_headcount')\n    .gt('min_headcount', 0);\n\n  if (result.error) {\n    const errorCode = (result.error as any).code;\n    if (errorCode === '42703' || result.error.message?.includes('min_headcount')) {\n      console.warn('min_headcount column not found, returning empty positions list');\n      return [];\n    }\n    throw result.error;\n  }\n\n  positions = (result.data ?? []).map((p: any) => ({\n    id: p.id as string,\n    name: p.name as string,\n    site: (p.site ?? null) as string | null,\n    department: (p.department ?? null) as string | null,\n    minHeadcount: p.min_headcount as number,\n  }));\n\n  const results: PositionCoverageSummary[] = [];\n\n  for (const pos of positions) {\n    const employees = await getEmployeesForPosition(pos.id);\n\n    if (employees.length === 0) {\n      results.push({\n        positionId: pos.id,\n        positionName: pos.name,\n        site: pos.site,\n        department: pos.department,\n        minHeadcount: pos.minHeadcount,\n        availableCount: 0,\n        gap: pos.minHeadcount,\n        riskLevel: 'HIGH',\n      });\n      continue;\n    }\n\n    let availableCount = 0;\n\n    for (const emp of employees) {\n      const profile = await getEmployeeCompetenceProfile(\n        emp.id,\n        effectiveDate\n      );\n\n      const isFullyCompetent = profile.summary.gapCount === 0;\n\n      if (isFullyCompetent) {\n        availableCount += 1;\n      }\n    }\n\n    const gap = Math.max(0, pos.minHeadcount - availableCount);\n\n    let riskLevel: 'LOW' | 'MEDIUM' | 'HIGH' = 'LOW';\n    if (gap > 0 && availableCount === 0) {\n      riskLevel = 'HIGH';\n    } else if (gap > 0) {\n      riskLevel = 'MEDIUM';\n    } else {\n      riskLevel = 'LOW';\n    }\n\n    results.push({\n      positionId: pos.id,\n      positionName: pos.name,\n      site: pos.site,\n      department: pos.department,\n      minHeadcount: pos.minHeadcount,\n      availableCount,\n      gap,\n      riskLevel,\n    });\n  }\n\n  const riskRank: Record<'LOW' | 'MEDIUM' | 'HIGH', number> = {\n    HIGH: 0,\n    MEDIUM: 1,\n    LOW: 2,\n  };\n\n  results.sort((a, b) => {\n    const rDiff = riskRank[a.riskLevel] - riskRank[b.riskLevel];\n    if (rDiff !== 0) return rDiff;\n    return a.positionName.localeCompare(b.positionName);\n  });\n\n  return results;\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","\"use client\";\n\n// packages/react/progress/src/progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { getPositionCoverageForDate, PositionCoverageSummary } from \"@/services/competence\";\nimport { Loader2, AlertTriangle } from \"lucide-react\";\nimport { Progress } from \"@/components/ui/progress\";\nimport Link from \"next/link\";\nimport { useAuthGuard } from \"@/hooks/useAuthGuard\";\n\nfunction getTomorrowDateString(): string {\n  const today = new Date();\n  const tomorrow = new Date(today);\n  tomorrow.setDate(today.getDate() + 1);\n  return tomorrow.toISOString().slice(0, 10);\n}\n\nfunction RiskBadge({ risk }: { risk: string }) {\n  const variants: Record<string, string> = {\n    HIGH: \"hr-risk-pill hr-risk-pill--high\",\n    MEDIUM: \"hr-risk-pill hr-risk-pill--medium\",\n    LOW: \"hr-risk-pill hr-risk-pill--low\",\n  };\n\n  return (\n    <span className={variants[risk] || \"hr-risk-pill\"} data-testid={`risk-badge-${risk.toLowerCase()}`}>\n      {risk}\n    </span>\n  );\n}\n\nfunction PositionCoverageCard({ position }: { position: PositionCoverageSummary }) {\n  const coveragePercent = position.minHeadcount > 0 \n    ? Math.round((position.availableCount / position.minHeadcount) * 100) \n    : 100;\n\n  return (\n    <div className=\"hr-card\" data-testid={`card-position-${position.positionId}`}>\n      <div className=\"flex items-center justify-between gap-2 flex-wrap mb-3\">\n        <h3 className=\"hr-card__title\">{position.positionName}</h3>\n        <RiskBadge risk={position.riskLevel} />\n      </div>\n      \n      <div className=\"hr-emp-summary-grid\">\n        <div className=\"hr-emp-summary-card\">\n          <span className=\"hr-emp-summary-label\">Min Required</span>\n          <span className=\"hr-emp-summary-value\">{position.minHeadcount}</span>\n        </div>\n        <div className=\"hr-emp-summary-card\">\n          <span className=\"hr-emp-summary-label\">Fully Competent</span>\n          <span className=\"hr-emp-summary-value\">{position.availableCount}</span>\n        </div>\n        <div className=\"hr-emp-summary-card\">\n          <span className=\"hr-emp-summary-label\">Gap</span>\n          <span className={`hr-emp-summary-value ${position.gap > 0 ? 'text-red-600 dark:text-red-400' : ''}`}>\n            {position.gap}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"mt-4\">\n        <div className=\"flex items-center justify-between gap-2 mb-1\">\n          <span className=\"text-sm text-muted-foreground\">Coverage</span>\n          <span className=\"text-sm font-medium\">{coveragePercent}%</span>\n        </div>\n        <Progress value={coveragePercent} className=\"h-2\" />\n      </div>\n\n      {(position.site || position.department) && (\n        <div className=\"flex items-center gap-2 mt-3 text-sm text-muted-foreground\">\n          {position.site && <span>{position.site}</span>}\n          {position.site && position.department && <span>/</span>}\n          {position.department && <span>{position.department}</span>}\n        </div>\n      )}\n\n      <div className=\"mt-4 pt-3 border-t border-border\">\n        <Link \n          href=\"/competence/matrix\" \n          className=\"text-sm text-primary hover:underline\"\n          data-testid={`link-matrix-${position.positionId}`}\n        >\n          View competence matrix\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default function TomorrowsGapsPage() {\n  const { loading: authLoading } = useAuthGuard();\n\n  if (authLoading) {\n    return (\n      <main className=\"hr-page\">\n        <p>Checking access...</p>\n      </main>\n    );\n  }\n\n  return <TomorrowsGapsContent />;\n}\n\nfunction TomorrowsGapsContent() {\n  const [positions, setPositions] = useState<PositionCoverageSummary[]>([]);\n  const [effectiveDate, setEffectiveDate] = useState<string>(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      \n      const tomorrow = getTomorrowDateString();\n      setEffectiveDate(tomorrow);\n      \n      try {\n        const coverageData = await getPositionCoverageForDate(tomorrow);\n        setPositions(coverageData);\n      } catch (err) {\n        console.error(\"Failed to load coverage data:\", err);\n        setError(\"Failed to load gap analysis data. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    \n    fetchData();\n  }, []);\n\n  const totalPositions = positions.length;\n  const highRiskCount = positions.filter(p => p.riskLevel === \"HIGH\").length;\n  const mediumRiskCount = positions.filter(p => p.riskLevel === \"MEDIUM\").length;\n  const lowRiskCount = positions.filter(p => p.riskLevel === \"LOW\").length;\n  const totalGap = positions.reduce((sum, p) => sum + p.gap, 0);\n\n  if (loading) {\n    return (\n      <main className=\"hr-page\">\n        <header className=\"hr-page__header\">\n          <div>\n            <h1 className=\"hr-page__title\">Tomorrow&apos;s Gaps</h1>\n            <p className=\"hr-page__subtitle\">\n              Coverage and risk per position based on minimum headcount and competence.\n            </p>\n          </div>\n        </header>\n        <div className=\"flex items-center justify-center gap-3 p-12\">\n          <Loader2 className=\"h-5 w-5 animate-spin\" data-testid=\"loading-spinner\" />\n          <span className=\"text-muted-foreground\">Calculating tomorrow&apos;s gaps...</span>\n        </div>\n      </main>\n    );\n  }\n\n  if (error) {\n    return (\n      <main className=\"hr-page\">\n        <header className=\"hr-page__header\">\n          <div>\n            <h1 className=\"hr-page__title\">Tomorrow&apos;s Gaps</h1>\n            <p className=\"hr-page__subtitle\">\n              Coverage and risk per position based on minimum headcount and competence.\n            </p>\n          </div>\n        </header>\n        <div className=\"hr-error\" data-testid=\"error-message\">\n          <AlertTriangle className=\"h-4 w-4 inline-block mr-2\" />\n          {error}\n        </div>\n      </main>\n    );\n  }\n\n  if (positions.length === 0) {\n    return (\n      <main className=\"hr-page\">\n        <header className=\"hr-page__header\">\n          <div>\n            <h1 className=\"hr-page__title\">Tomorrow&apos;s Gaps</h1>\n            <p className=\"hr-page__subtitle\">\n              Coverage and risk per position based on minimum headcount and competence.\n            </p>\n          </div>\n          <div className=\"tg-date-pill\" data-testid=\"date-pill\">\n            Analyzing: {effectiveDate}\n          </div>\n        </header>\n        <div className=\"hr-empty\" data-testid=\"empty-state\">\n          <p className=\"font-medium mb-2\">No positions with minimum headcount defined</p>\n          <p className=\"text-sm text-muted-foreground\">\n            Add min_headcount to positions to see Tomorrow&apos;s Gaps analysis.\n          </p>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"hr-page\">\n      <header className=\"hr-page__header\">\n        <div>\n          <h1 className=\"hr-page__title\">Tomorrow&apos;s Gaps</h1>\n          <p className=\"hr-page__subtitle\">\n            Coverage and risk per position based on minimum headcount and competence.\n          </p>\n        </div>\n        <div className=\"tg-date-pill\" data-testid=\"date-pill\">\n          Analyzing: {effectiveDate}\n        </div>\n      </header>\n\n      <div className=\"hr-kpi-grid\" data-testid=\"summary-kpis\">\n        <div className=\"hr-kpi\">\n          <span className=\"hr-kpi__label\">Total Positions</span>\n          <span className=\"hr-kpi__value\">{totalPositions}</span>\n        </div>\n        <div className=\"hr-kpi\">\n          <span className=\"hr-kpi__label\">High Risk</span>\n          <span className={`hr-kpi__value ${highRiskCount > 0 ? 'hr-kpi__value--danger' : ''}`}>\n            {highRiskCount}\n          </span>\n        </div>\n        <div className=\"hr-kpi\">\n          <span className=\"hr-kpi__label\">Medium Risk</span>\n          <span className={`hr-kpi__value ${mediumRiskCount > 0 ? 'hr-kpi__value--warn' : ''}`}>\n            {mediumRiskCount}\n          </span>\n        </div>\n        <div className=\"hr-kpi\">\n          <span className=\"hr-kpi__label\">Low Risk</span>\n          <span className=\"hr-kpi__value hr-kpi__value--ok\">{lowRiskCount}</span>\n        </div>\n        <div className=\"hr-kpi\">\n          <span className=\"hr-kpi__label\">Total Missing Headcount</span>\n          <span className={`hr-kpi__value ${totalGap > 0 ? 'hr-kpi__value--danger' : ''}`}>\n            {totalGap}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"hr-grid mt-6\" data-testid=\"positions-grid\">\n        {positions.map((position) => (\n          <PositionCoverageCard key={position.positionId} position={position} />\n        ))}\n      </div>\n    </main>\n  );\n}\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,10]}