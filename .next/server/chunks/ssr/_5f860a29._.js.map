{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../app/app/import-employees/ImportForm.tsx","../../../../app/app/import-employees/data%3Aba5960%20%3Ctext/javascript%3E"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { importEmployeesFromCsv } from \"./actions\";\n\nexport default function ImportForm() {\n  const [result, setResult] = useState<{\n    success: boolean;\n    message: string;\n  } | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const formRef = useRef<HTMLFormElement>(null);\n\n  async function handleSubmit(formData: FormData) {\n    setIsLoading(true);\n    setResult(null);\n\n    try {\n      const response = await importEmployeesFromCsv(formData);\n      setResult(response);\n      if (response.success) {\n        formRef.current?.reset();\n      }\n    } catch (error) {\n      setResult({\n        success: false,\n        message: error instanceof Error ? error.message : \"Unknown error occurred\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <form ref={formRef} action={handleSubmit} className=\"space-y-6\">\n      <div>\n        <label\n          htmlFor=\"csv-file\"\n          className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\"\n        >\n          CSV File\n        </label>\n        <input\n          type=\"file\"\n          id=\"csv-file\"\n          name=\"file\"\n          accept=\".csv\"\n          required\n          className=\"block w-full text-sm text-gray-900 dark:text-gray-100 \n            file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 \n            file:text-sm file:font-medium file:bg-gray-100 dark:file:bg-gray-700 \n            file:text-gray-700 dark:file:text-gray-200 \n            hover:file:bg-gray-200 dark:hover:file:bg-gray-600 \n            file:cursor-pointer cursor-pointer\"\n          data-testid=\"input-csv-file\"\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={isLoading}\n        className=\"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium \n          hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed \n          transition-colors\"\n        data-testid=\"button-upload-import\"\n      >\n        {isLoading ? \"Importing...\" : \"Upload and import\"}\n      </button>\n\n      {result && (\n        <div\n          className={`p-4 rounded-md text-sm ${\n            result.success\n              ? \"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800\"\n              : \"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800\"\n          }`}\n          data-testid={result.success ? \"message-success\" : \"message-error\"}\n        >\n          {result.message}\n        </div>\n      )}\n    </form>\n  );\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"403a0dc0fa60fd77ec8e7fcbb6028e8611e7f2c677\":\"importEmployeesFromCsv\"},\"app/app/import-employees/actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var importEmployeesFromCsv=/*#__PURE__*/createServerReference(\"403a0dc0fa60fd77ec8e7fcbb6028e8611e7f2c677\",callServer,void 0,findSourceMapURL,\"importEmployeesFromCsv\");"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"oGAGSA,UAAU,CAAA,kBAAVA,EAAAA,UAAU,EAMVC,qBAAqB,CAAA,kBAArBA,EAAAA,qBAAqB,EALrBC,gBAAgB,CAAA,kBAAhBA,EAAAA,gBAAgB,8EADE,CAAA,CAAA,IAAA,OACM,CAAA,CAAA,IAAA,MAKK,CAAA,CAAA,IAAA,2CCPtC,EAAA,EAAA,CAAA,CAAA,OCFkM,EAAA,EAAA,CAAA,CAAA,MAAiH,EAAoC,CAAA,EAAA,EAAA,kBAAb,GAAkC,AAArB,EAAsB,MAAxB,uCAAqE,EAAA,UAAU,CAAC,KAAK,EAAE,EAAA,gBAAgB,CAAC,0BDK9a,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAG1B,MACJ,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,EAAU,CAAA,EAAA,EAAA,MAAA,AAAM,EAAkB,MAExC,eAAe,EAAa,CAAkB,EAC5C,GAAa,GACb,EAAU,MAEV,GAAI,CACF,IAAM,EAAW,MAAM,EAAuB,GAC9C,EAAU,GACN,EAAS,OAAO,EAAE,AACpB,EAAQ,OAAO,EAAE,OAErB,CAAE,MAAO,EAAO,CACd,EAAU,CACR,SAAS,EACT,QAAS,aAAiB,MAAQ,EAAM,OAAO,CAAG,wBACpD,EACF,QAAU,CACR,GAAa,EACf,CACF,CAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,IAAK,EAAS,OAAQ,EAAc,UAAU,sBAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAQ,WACR,UAAU,2EACX,aAGD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,GAAG,WACH,KAAK,OACL,OAAO,OACP,QAAQ,CAAA,CAAA,EACR,UAAU,+TAMV,cAAY,sBAIhB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,SAAU,EACV,UAAU,wJAGV,cAAY,gCAEX,EAAY,eAAiB,sBAG/B,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,uBAAuB,EACjC,EAAO,OAAO,CACV,oHACA,wGAAA,CACJ,CACF,cAAa,EAAO,OAAO,CAAG,kBAAoB,yBAEjD,EAAO,OAAO,KAKzB","ignoreList":[0]}