{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/env.ts"],"sourcesContent":["/**\n * Environment variable helper with fail-fast behavior\n * Ensures Supabase credentials are always available\n */\n\nexport interface PublicEnv {\n  supabaseUrl: string;\n  supabaseAnonKey: string;\n}\n\n// Hardcoded fallback values for production builds\nconst FALLBACK_SUPABASE_URL = \"https://bmvawfrnlpdvcmffqrzc.supabase.co\";\nconst FALLBACK_SUPABASE_ANON_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJtdmF3ZnJubHBkdmNtZmZxcnpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTEwOTAsImV4cCI6MjA4MTA4NzA5MH0.DHLJ4aMn1dORfbNPt1XrJtcdIjYN81YQbJ19Q89A_pM\";\n\n/**\n * Get public environment variables with fail-fast behavior\n * Throws if credentials are not available\n */\nexport function getPublicEnv(): PublicEnv {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || FALLBACK_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || FALLBACK_SUPABASE_ANON_KEY;\n\n  const missing: string[] = [];\n  \n  if (!supabaseUrl || supabaseUrl.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_URL');\n  }\n  if (!supabaseAnonKey || supabaseAnonKey.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_ANON_KEY');\n  }\n\n  if (missing.length > 0) {\n    throw new Error(`Supabase env missing: ${missing.join(', ')}`);\n  }\n\n  return {\n    supabaseUrl,\n    supabaseAnonKey,\n  };\n}\n\n/**\n * Check if public environment is properly configured\n * Returns validation result without throwing\n */\nexport function validatePublicEnv(): { valid: boolean; missing: string[] } {\n  const missing: string[] = [];\n  \n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || FALLBACK_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || FALLBACK_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || supabaseUrl.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_URL');\n  }\n  if (!supabaseAnonKey || supabaseAnonKey.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_ANON_KEY');\n  }\n\n  return {\n    valid: missing.length === 0,\n    missing,\n  };\n}\n\n/**\n * Get the service role key (server-side only)\n * Never expose this to client code\n */\nexport function getServiceRoleKey(): string {\n  if (typeof window !== 'undefined') {\n    throw new Error('Service role key must never be accessed on the client');\n  }\n  \n  const key = process.env.SUPABASE_SERVICE_ROLE_KEY;\n  if (!key) {\n    throw new Error('SUPABASE_SERVICE_ROLE_KEY is not configured');\n  }\n  \n  return key;\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;AAgBqB;AATtB,kDAAkD;AAClD,MAAM,wBAAwB;AAC9B,MAAM,6BAA6B;AAM5B,SAAS;IACd,MAAM,cAAc,gFAAwC;IAC5D,MAAM,kBAAkB,wPAA6C;IAErE,MAAM,UAAoB,EAAE;IAE5B,IAAI,CAAC,eAAe,YAAY,QAAQ,CAAC,gBAAgB;QACvD,QAAQ,IAAI,CAAC;IACf;IACA,IAAI,CAAC,mBAAmB,gBAAgB,QAAQ,CAAC,gBAAgB;QAC/D,QAAQ,IAAI,CAAC;IACf;IAEA,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,QAAQ,IAAI,CAAC,OAAO;IAC/D;IAEA,OAAO;QACL;QACA;IACF;AACF;AAMO,SAAS;IACd,MAAM,UAAoB,EAAE;IAE5B,MAAM,cAAc,gFAAwC;IAC5D,MAAM,kBAAkB,wPAA6C;IAErE,IAAI,CAAC,eAAe,YAAY,QAAQ,CAAC,gBAAgB;QACvD,QAAQ,IAAI,CAAC;IACf;IACA,IAAI,CAAC,mBAAmB,gBAAgB,QAAQ,CAAC,gBAAgB;QAC/D,QAAQ,IAAI,CAAC;IACf;IAEA,OAAO;QACL,OAAO,QAAQ,MAAM,KAAK;QAC1B;IACF;AACF;AAMO,SAAS;IACd,wCAAmC;QACjC,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,MAAM,2KAAO,CAAC,GAAG,CAAC,yBAAyB;IACjD,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabaseClient.ts"],"sourcesContent":["import { createClient, SupabaseClient } from \"@supabase/supabase-js\";\nimport { getPublicEnv, validatePublicEnv } from \"./env\";\n\nlet supabaseInstance: SupabaseClient | null = null;\n\nfunction createSupabaseClient(): SupabaseClient {\n  const env = getPublicEnv();\n  return createClient(env.supabaseUrl, env.supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    },\n  });\n}\n\nexport function getSupabaseClient(): SupabaseClient {\n  if (!supabaseInstance) {\n    supabaseInstance = createSupabaseClient();\n  }\n  return supabaseInstance;\n}\n\nexport const supabase: SupabaseClient = createSupabaseClient();\n\nexport function isSupabaseReady(): boolean {\n  const validation = validatePublicEnv();\n  return validation.valid;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,IAAI,mBAA0C;AAE9C,SAAS;IACP,MAAM,MAAM,IAAA,6HAAY;IACxB,OAAO,IAAA,0LAAY,EAAC,IAAI,WAAW,EAAE,IAAI,eAAe,EAAE;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF;AACF;AAEO,SAAS;IACd,IAAI,CAAC,kBAAkB;QACrB,mBAAmB;IACrB;IACA,OAAO;AACT;AAEO,MAAM,WAA2B;AAEjC,SAAS;IACd,MAAM,aAAa,IAAA,kIAAiB;IACpC,OAAO,WAAW,KAAK;AACzB"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/auth.ts"],"sourcesContent":["import { supabase } from \"./supabaseClient\";\nimport type { AppRole, AppUser } from \"@/types/domain\";\n\nexport type { AppRole };\n\nexport type CurrentUser = {\n  id: string;\n  role: AppRole;\n  employeeId?: string;\n  email: string;\n};\n\nexport async function getCurrentUser(): Promise<CurrentUser | null> {\n  const devEmail = process.env.NEXT_PUBLIC_DEV_USER_EMAIL || \"hr@example.com\";\n  \n  try {\n    const { data, error } = await supabase\n      .from(\"users\")\n      .select(\"id, employee_id, email, role\")\n      .eq(\"email\", devEmail)\n      .single();\n\n    if (error || !data) {\n      return {\n        id: \"dev-user\",\n        role: \"HR_ADMIN\" as AppRole,\n        email: devEmail,\n      };\n    }\n\n    return {\n      id: data.id,\n      role: data.role as AppRole,\n      employeeId: data.employee_id || undefined,\n      email: data.email,\n    };\n  } catch {\n    return {\n      id: \"dev-user\",\n      role: \"HR_ADMIN\" as AppRole,\n      email: devEmail,\n    };\n  }\n}\n\nexport function requireRole(\n  user: { role: AppRole } | null,\n  allowed: AppRole[]\n): void {\n  if (!user) {\n    throw new Error(\"Unauthorized: User not authenticated\");\n  }\n  if (!allowed.includes(user.role)) {\n    throw new Error(`Forbidden: Role ${user.role} not allowed`);\n  }\n}\n\nexport function canAccessEmployee(\n  user: CurrentUser | null,\n  employeeId: string,\n  managedEmployeeIds: string[]\n): boolean {\n  if (!user) return false;\n  if (user.role === \"HR_ADMIN\") return true;\n  if (user.role === \"MANAGER\") {\n    return managedEmployeeIds.includes(employeeId);\n  }\n  if (user.role === \"EMPLOYEE\") {\n    return user.employeeId === employeeId;\n  }\n  return false;\n}\n\nexport async function getManagedEmployeeIds(managerId: string): Promise<string[]> {\n  const { data } = await supabase\n    .from(\"employees\")\n    .select(\"id\")\n    .eq(\"manager_id\", managerId)\n    .eq(\"is_active\", true);\n\n  return (data || []).map((e) => e.id);\n}\n"],"names":[],"mappings":";;;;;;;;;;AAamB;AAbnB;;AAYO,eAAe;IACpB,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,0BAA0B,IAAI;IAE3D,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,gCACP,EAAE,CAAC,SAAS,UACZ,MAAM;QAET,IAAI,SAAS,CAAC,MAAM;YAClB,OAAO;gBACL,IAAI;gBACJ,MAAM;gBACN,OAAO;YACT;QACF;QAEA,OAAO;YACL,IAAI,KAAK,EAAE;YACX,MAAM,KAAK,IAAI;YACf,YAAY,KAAK,WAAW,IAAI;YAChC,OAAO,KAAK,KAAK;QACnB;IACF,EAAE,OAAM;QACN,OAAO;YACL,IAAI;YACJ,MAAM;YACN,OAAO;QACT;IACF;AACF;AAEO,SAAS,YACd,IAA8B,EAC9B,OAAkB;IAElB,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IACA,IAAI,CAAC,QAAQ,QAAQ,CAAC,KAAK,IAAI,GAAG;QAChC,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,KAAK,IAAI,CAAC,YAAY,CAAC;IAC5D;AACF;AAEO,SAAS,kBACd,IAAwB,EACxB,UAAkB,EAClB,kBAA4B;IAE5B,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,KAAK,IAAI,KAAK,YAAY,OAAO;IACrC,IAAI,KAAK,IAAI,KAAK,WAAW;QAC3B,OAAO,mBAAmB,QAAQ,CAAC;IACrC;IACA,IAAI,KAAK,IAAI,KAAK,YAAY;QAC5B,OAAO,KAAK,UAAU,KAAK;IAC7B;IACA,OAAO;AACT;AAEO,eAAe,sBAAsB,SAAiB;IAC3D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,oIAAQ,CAC5B,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa;IAEnB,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;AACrC"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/auth.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\n\nexport async function signInWithEmail(email: string, password: string) {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut();\n  if (error) throw error;\n}\n\nexport async function getAuthUser() {\n  const { data, error } = await supabase.auth.getUser();\n  if (error) return null;\n  return data.user;\n}\n\nexport async function getSession() {\n  const { data, error } = await supabase.auth.getSession();\n  if (error) return null;\n  return data.session;\n}\n\nexport function onAuthStateChange(callback: (event: string, session: unknown) => void) {\n  return supabase.auth.onAuthStateChange(callback);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,eAAe,gBAAgB,KAAa,EAAE,QAAgB;IACnE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;QAC7D;QACA;IACF;IAEA,IAAI,OAAO,MAAM;IACjB,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CAAC,IAAI,CAAC,OAAO;IAC7C,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CAAC,IAAI,CAAC,OAAO;IACnD,IAAI,OAAO,OAAO;IAClB,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CAAC,IAAI,CAAC,UAAU;IACtD,IAAI,OAAO,OAAO;IAClB,OAAO,KAAK,OAAO;AACrB;AAEO,SAAS,kBAAkB,QAAmD;IACnF,OAAO,oIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC;AACzC"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/hooks/useAuth.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { getAuthUser, getSession, onAuthStateChange } from \"@/services/auth\";\nimport type { User } from \"@supabase/supabase-js\";\n\ntype AuthState = {\n  user: User | null;\n  loading: boolean;\n  isAuthenticated: boolean;\n};\n\nexport function useAuth(requireAuth = true): AuthState {\n  const router = useRouter();\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let mounted = true;\n\n    async function checkAuth() {\n      try {\n        const session = await getSession();\n        if (mounted) {\n          if (session?.user) {\n            setUser(session.user);\n          } else if (requireAuth) {\n            router.push(\"/login\");\n          }\n        }\n      } catch {\n        if (mounted && requireAuth) {\n          router.push(\"/login\");\n        }\n      } finally {\n        if (mounted) {\n          setLoading(false);\n        }\n      }\n    }\n\n    checkAuth();\n\n    const { data: { subscription } } = onAuthStateChange((event, session) => {\n      if (mounted) {\n        const typedSession = session as { user?: User } | null;\n        if (event === \"SIGNED_OUT\") {\n          setUser(null);\n          if (requireAuth) {\n            router.push(\"/login\");\n          }\n        } else if (event === \"SIGNED_IN\" && typedSession?.user) {\n          setUser(typedSession.user);\n        }\n      }\n    });\n\n    return () => {\n      mounted = false;\n      subscription.unsubscribe();\n    };\n  }, [requireAuth, router]);\n\n  return {\n    user,\n    loading,\n    isAuthenticated: !!user,\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAaO,SAAS,QAAQ,cAAc,IAAI;;IACxC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;6BAAC;YACR,IAAI,UAAU;YAEd,eAAe;gBACb,IAAI;oBACF,MAAM,UAAU,MAAM,IAAA,iIAAU;oBAChC,IAAI,SAAS;wBACX,IAAI,SAAS,MAAM;4BACjB,QAAQ,QAAQ,IAAI;wBACtB,OAAO,IAAI,aAAa;4BACtB,OAAO,IAAI,CAAC;wBACd;oBACF;gBACF,EAAE,OAAM;oBACN,IAAI,WAAW,aAAa;wBAC1B,OAAO,IAAI,CAAC;oBACd;gBACF,SAAU;oBACR,IAAI,SAAS;wBACX,WAAW;oBACb;gBACF;YACF;YAEA;YAEA,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,IAAA,wIAAiB;qCAAC,CAAC,OAAO;oBAC3D,IAAI,SAAS;wBACX,MAAM,eAAe;wBACrB,IAAI,UAAU,cAAc;4BAC1B,QAAQ;4BACR,IAAI,aAAa;gCACf,OAAO,IAAI,CAAC;4BACd;wBACF,OAAO,IAAI,UAAU,eAAe,cAAc,MAAM;4BACtD,QAAQ,aAAa,IAAI;wBAC3B;oBACF;gBACF;;YAEA;qCAAO;oBACL,UAAU;oBACV,aAAa,WAAW;gBAC1B;;QACF;4BAAG;QAAC;QAAa;KAAO;IAExB,OAAO;QACL;QACA;QACA,iBAAiB,CAAC,CAAC;IACrB;AACF;GAxDgB;;QACC,kJAAS"}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/hooks/useOrg.ts"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport interface Organization {\n  id: string;\n  name: string;\n  slug: string;\n  created_at: string;\n}\n\nexport interface Membership {\n  org_id: string;\n  user_id: string;\n  role: 'admin' | 'hr' | 'manager' | 'user';\n  status: 'active' | 'disabled';\n  created_at: string;\n  organization?: Organization;\n}\n\ninterface OrgContextType {\n  currentOrg: Organization | null;\n  currentRole: Membership['role'] | null;\n  memberships: Membership[];\n  isLoading: boolean;\n  error: string | null;\n  selectOrg: (orgId: string) => void;\n  refreshMemberships: () => Promise<void>;\n  isAdmin: boolean;\n}\n\nconst ORG_STORAGE_KEY = 'nadiplan_current_org';\n\nexport function useOrgState() {\n  const [currentOrg, setCurrentOrg] = useState<Organization | null>(null);\n  const [currentRole, setCurrentRole] = useState<Membership['role'] | null>(null);\n  const [memberships, setMemberships] = useState<Membership[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const refreshMemberships = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        setMemberships([]);\n        setCurrentOrg(null);\n        setCurrentRole(null);\n        setIsLoading(false);\n        return;\n      }\n\n      // Get all active memberships with org details\n      const { data: membershipData, error: membershipError } = await supabase\n        .from('memberships')\n        .select(`\n          org_id,\n          user_id,\n          role,\n          status,\n          created_at,\n          organization:organizations(id, name, slug, created_at)\n        `)\n        .eq('user_id', user.id)\n        .eq('status', 'active');\n\n      if (membershipError) {\n        console.error('Error fetching memberships:', membershipError);\n        setError('Failed to load organizations');\n        setIsLoading(false);\n        return;\n      }\n\n      const formattedMemberships: Membership[] = (membershipData || []).map((m: {\n        org_id: string;\n        user_id: string;\n        role: 'admin' | 'hr' | 'manager' | 'user';\n        status: 'active' | 'disabled';\n        created_at: string;\n        organization: Organization | Organization[] | null;\n      }) => ({\n        ...m,\n        organization: Array.isArray(m.organization) ? m.organization[0] : (m.organization || undefined),\n      }));\n\n      setMemberships(formattedMemberships);\n\n      // Try to restore previously selected org\n      const storedOrgId = localStorage.getItem(ORG_STORAGE_KEY);\n      if (storedOrgId) {\n        const membership = formattedMemberships.find(m => m.org_id === storedOrgId);\n        if (membership && membership.organization) {\n          setCurrentOrg(membership.organization);\n          setCurrentRole(membership.role);\n        } else if (formattedMemberships.length === 1 && formattedMemberships[0].organization) {\n          // Auto-select if only one org\n          setCurrentOrg(formattedMemberships[0].organization);\n          setCurrentRole(formattedMemberships[0].role);\n          localStorage.setItem(ORG_STORAGE_KEY, formattedMemberships[0].org_id);\n        }\n      } else if (formattedMemberships.length === 1 && formattedMemberships[0].organization) {\n        // Auto-select if only one org\n        setCurrentOrg(formattedMemberships[0].organization);\n        setCurrentRole(formattedMemberships[0].role);\n        localStorage.setItem(ORG_STORAGE_KEY, formattedMemberships[0].org_id);\n      }\n    } catch (err) {\n      console.error('Error in refreshMemberships:', err);\n      setError('Failed to load organizations');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const selectOrg = useCallback((orgId: string) => {\n    const membership = memberships.find(m => m.org_id === orgId);\n    if (membership && membership.organization) {\n      setCurrentOrg(membership.organization);\n      setCurrentRole(membership.role);\n      localStorage.setItem(ORG_STORAGE_KEY, orgId);\n    }\n  }, [memberships]);\n\n  useEffect(() => {\n    refreshMemberships();\n  }, [refreshMemberships]);\n\n  return {\n    currentOrg,\n    currentRole,\n    memberships,\n    isLoading,\n    error,\n    selectOrg,\n    refreshMemberships,\n    isAdmin: currentRole === 'admin',\n  };\n}\n\nexport const OrgContext = createContext<OrgContextType | null>(null);\n\nexport function useOrg() {\n  const context = useContext(OrgContext);\n  if (!context) {\n    throw new Error('useOrg must be used within an OrgProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/OrgProvider.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport { OrgContext, useOrgState } from '@/hooks/useOrg';\n\ninterface OrgProviderProps {\n  children: ReactNode;\n}\n\nexport function OrgProvider({ children }: OrgProviderProps) {\n  const orgState = useOrgState();\n\n  return (\n    <OrgContext.Provider value={orgState}>\n      {children}\n    </OrgContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;;;AAHA;;AASO,SAAS,YAAY,EAAE,QAAQ,EAAoB;;IACxD,MAAM,WAAW,IAAA,iIAAW;IAE5B,qBACE,6LAAC,gIAAU,CAAC,QAAQ;QAAC,OAAO;kBACzB;;;;;;AAGP;GARgB;;QACG,iIAAW;;;KADd"}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/demoData.ts"],"sourcesContent":["export interface DemoEmployee {\n  id: string;\n  employeeNumber: string;\n  name: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  role: string;\n  line: string;\n  team: string;\n  startDate: string;\n  isActive: boolean;\n}\n\nexport interface DemoSkill {\n  id: string;\n  code: string;\n  name: string;\n  groupId: string;\n  groupName: string;\n}\n\nexport interface DemoPosition {\n  id: string;\n  name: string;\n  line: string;\n  minHeadcount: number;\n}\n\nexport interface DemoOrgUnit {\n  id: string;\n  name: string;\n  code: string;\n  type: string;\n  parentId: string | null;\n  employeeCount: number;\n}\n\nexport interface DemoRequirement {\n  positionId: string;\n  skillId: string;\n  requiredLevel: number;\n}\n\nexport interface DemoEmployeeSkill {\n  employeeId: string;\n  skillId: string;\n  level: number;\n}\n\nexport const DEMO_EMPLOYEES: DemoEmployee[] = [\n  { id: \"E1001\", employeeNumber: \"E1001\", name: \"Anna Lindberg\", firstName: \"Anna\", lastName: \"Lindberg\", email: \"anna.lindberg@example.com\", role: \"Operator\", line: \"Pressline 1\", team: \"Day Shift\", startDate: \"2020-03-15\", isActive: true },\n  { id: \"E1002\", employeeNumber: \"E1002\", name: \"Erik Johansson\", firstName: \"Erik\", lastName: \"Johansson\", email: \"erik.johansson@example.com\", role: \"Operator\", line: \"Pressline 1\", team: \"Day Shift\", startDate: \"2019-06-01\", isActive: true },\n  { id: \"E1003\", employeeNumber: \"E1003\", name: \"Maria Svensson\", firstName: \"Maria\", lastName: \"Svensson\", email: \"maria.svensson@example.com\", role: \"Team Lead\", line: \"Pressline 1\", team: \"Day Shift\", startDate: \"2018-01-10\", isActive: true },\n  { id: \"E1004\", employeeNumber: \"E1004\", name: \"Karl Andersson\", firstName: \"Karl\", lastName: \"Andersson\", email: \"karl.andersson@example.com\", role: \"Operator\", line: \"Pressline 1\", team: \"Night Shift\", startDate: \"2021-09-20\", isActive: true },\n  { id: \"E1005\", employeeNumber: \"E1005\", name: \"Sofia Nilsson\", firstName: \"Sofia\", lastName: \"Nilsson\", email: \"sofia.nilsson@example.com\", role: \"Operator\", line: \"Pressline 2\", team: \"Day Shift\", startDate: \"2022-02-14\", isActive: true },\n  { id: \"E1006\", employeeNumber: \"E1006\", name: \"Lars Pettersson\", firstName: \"Lars\", lastName: \"Pettersson\", email: \"lars.pettersson@example.com\", role: \"Team Lead\", line: \"Pressline 2\", team: \"Day Shift\", startDate: \"2017-05-22\", isActive: true },\n  { id: \"E1007\", employeeNumber: \"E1007\", name: \"Emma Gustafsson\", firstName: \"Emma\", lastName: \"Gustafsson\", email: \"emma.gustafsson@example.com\", role: \"Quality Inspector\", line: \"Quality Control\", team: \"Day Shift\", startDate: \"2020-11-03\", isActive: true },\n  { id: \"E1008\", employeeNumber: \"E1008\", name: \"Oscar Eriksson\", firstName: \"Oscar\", lastName: \"Eriksson\", email: \"oscar.eriksson@example.com\", role: \"Operator\", line: \"Assembly\", team: \"Day Shift\", startDate: \"2021-04-18\", isActive: true },\n  { id: \"E1009\", employeeNumber: \"E1009\", name: \"Maja Larsson\", firstName: \"Maja\", lastName: \"Larsson\", email: \"maja.larsson@example.com\", role: \"Operator\", line: \"Assembly\", team: \"Night Shift\", startDate: \"2019-08-25\", isActive: true },\n  { id: \"E1010\", employeeNumber: \"E1010\", name: \"Viktor Olsson\", firstName: \"Viktor\", lastName: \"Olsson\", email: \"viktor.olsson@example.com\", role: \"Logistics Coordinator\", line: \"Logistics\", team: \"Day Shift\", startDate: \"2018-12-01\", isActive: true },\n];\n\nexport const DEMO_SKILLS: DemoSkill[] = [\n  { id: \"SK001\", code: \"PRESS_A\", name: \"Pressline A Operation\", groupId: \"G1\", groupName: \"Production\" },\n  { id: \"SK002\", code: \"PRESS_B\", name: \"Pressline B Operation\", groupId: \"G1\", groupName: \"Production\" },\n  { id: \"SK003\", code: \"SAFETY_BASIC\", name: \"Safety Basic\", groupId: \"G2\", groupName: \"Safety\" },\n  { id: \"SK004\", code: \"SAFETY_ADV\", name: \"Safety Advanced\", groupId: \"G2\", groupName: \"Safety\" },\n  { id: \"SK005\", code: \"TRUCK_A1\", name: \"Truck A1 License\", groupId: \"G3\", groupName: \"Certifications\" },\n  { id: \"SK006\", code: \"TRUCK_B1\", name: \"Truck B1 License\", groupId: \"G3\", groupName: \"Certifications\" },\n  { id: \"SK007\", code: \"QUALITY_INSP\", name: \"Quality Inspection\", groupId: \"G4\", groupName: \"Quality\" },\n  { id: \"SK008\", code: \"FIRST_AID\", name: \"First Aid Certified\", groupId: \"G2\", groupName: \"Safety\" },\n];\n\nexport const DEMO_POSITIONS: DemoPosition[] = [\n  { id: \"P1\", name: \"Pressline 1 Operator\", line: \"Pressline 1\", minHeadcount: 4 },\n  { id: \"P2\", name: \"Pressline 2 Operator\", line: \"Pressline 2\", minHeadcount: 3 },\n  { id: \"P3\", name: \"Assembly Operator\", line: \"Assembly\", minHeadcount: 3 },\n  { id: \"P4\", name: \"Quality Inspector\", line: \"Quality Control\", minHeadcount: 2 },\n  { id: \"P5\", name: \"Logistics Coordinator\", line: \"Logistics\", minHeadcount: 2 },\n];\n\nexport const DEMO_ORG_UNITS: DemoOrgUnit[] = [\n  { id: \"OU1\", name: \"Manufacturing Division\", code: \"MFG\", type: \"Division\", parentId: null, employeeCount: 10 },\n  { id: \"OU2\", name: \"Pressline Department\", code: \"PRESS\", type: \"Department\", parentId: \"OU1\", employeeCount: 6 },\n  { id: \"OU3\", name: \"Assembly Department\", code: \"ASSY\", type: \"Department\", parentId: \"OU1\", employeeCount: 2 },\n  { id: \"OU4\", name: \"Quality Department\", code: \"QC\", type: \"Department\", parentId: \"OU1\", employeeCount: 1 },\n  { id: \"OU5\", name: \"Logistics Department\", code: \"LOG\", type: \"Department\", parentId: \"OU1\", employeeCount: 1 },\n];\n\nexport const DEMO_REQUIREMENTS: DemoRequirement[] = [\n  { positionId: \"P1\", skillId: \"SK001\", requiredLevel: 3 },\n  { positionId: \"P1\", skillId: \"SK002\", requiredLevel: 2 },\n  { positionId: \"P1\", skillId: \"SK003\", requiredLevel: 3 },\n  { positionId: \"P1\", skillId: \"SK005\", requiredLevel: 2 },\n  { positionId: \"P2\", skillId: \"SK001\", requiredLevel: 2 },\n  { positionId: \"P2\", skillId: \"SK002\", requiredLevel: 3 },\n  { positionId: \"P2\", skillId: \"SK003\", requiredLevel: 3 },\n  { positionId: \"P3\", skillId: \"SK003\", requiredLevel: 2 },\n  { positionId: \"P3\", skillId: \"SK008\", requiredLevel: 2 },\n  { positionId: \"P4\", skillId: \"SK007\", requiredLevel: 4 },\n  { positionId: \"P4\", skillId: \"SK003\", requiredLevel: 3 },\n  { positionId: \"P5\", skillId: \"SK005\", requiredLevel: 3 },\n  { positionId: \"P5\", skillId: \"SK006\", requiredLevel: 2 },\n];\n\nexport const DEMO_EMPLOYEE_SKILLS: DemoEmployeeSkill[] = [\n  { employeeId: \"E1001\", skillId: \"SK001\", level: 4 },\n  { employeeId: \"E1001\", skillId: \"SK002\", level: 2 },\n  { employeeId: \"E1001\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1001\", skillId: \"SK005\", level: 1 },\n  { employeeId: \"E1002\", skillId: \"SK001\", level: 3 },\n  { employeeId: \"E1002\", skillId: \"SK002\", level: 1 },\n  { employeeId: \"E1002\", skillId: \"SK003\", level: 2 },\n  { employeeId: \"E1002\", skillId: \"SK005\", level: 0 },\n  { employeeId: \"E1003\", skillId: \"SK001\", level: 4 },\n  { employeeId: \"E1003\", skillId: \"SK002\", level: 4 },\n  { employeeId: \"E1003\", skillId: \"SK003\", level: 4 },\n  { employeeId: \"E1003\", skillId: \"SK005\", level: 3 },\n  { employeeId: \"E1004\", skillId: \"SK001\", level: 2 },\n  { employeeId: \"E1004\", skillId: \"SK002\", level: 0 },\n  { employeeId: \"E1004\", skillId: \"SK003\", level: 1 },\n  { employeeId: \"E1004\", skillId: \"SK005\", level: 2 },\n  { employeeId: \"E1005\", skillId: \"SK001\", level: 2 },\n  { employeeId: \"E1005\", skillId: \"SK002\", level: 3 },\n  { employeeId: \"E1005\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1006\", skillId: \"SK001\", level: 3 },\n  { employeeId: \"E1006\", skillId: \"SK002\", level: 4 },\n  { employeeId: \"E1006\", skillId: \"SK003\", level: 4 },\n  { employeeId: \"E1007\", skillId: \"SK007\", level: 4 },\n  { employeeId: \"E1007\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1008\", skillId: \"SK003\", level: 2 },\n  { employeeId: \"E1008\", skillId: \"SK008\", level: 2 },\n  { employeeId: \"E1009\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1009\", skillId: \"SK008\", level: 3 },\n  { employeeId: \"E1010\", skillId: \"SK005\", level: 4 },\n  { employeeId: \"E1010\", skillId: \"SK006\", level: 3 },\n];\n\nexport function isDemoMode(): boolean {\n  if (typeof window !== \"undefined\") {\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.get(\"demo\") === \"true\") return true;\n  }\n  return process.env.NEXT_PUBLIC_DEMO_MODE === \"true\";\n}\n\nexport function getDemoMetrics() {\n  const employeesAtRisk = 3;\n  const totalGaps = 5;\n  const criticalGaps = 2;\n  \n  return {\n    totalEmployees: DEMO_EMPLOYEES.length,\n    activeEmployees: DEMO_EMPLOYEES.filter(e => e.isActive).length,\n    totalSkills: DEMO_SKILLS.length,\n    totalPositions: DEMO_POSITIONS.length,\n    totalOrgUnits: DEMO_ORG_UNITS.length,\n    employeesAtRisk,\n    totalGaps,\n    criticalGaps,\n    topGapSkill: \"Truck A1 License\",\n    averageReadiness: 78,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/demoRuntime.ts"],"sourcesContent":["\"use client\";\n\nimport type { Employee, Skill, OrgUnit, GapItem } from \"@/types/domain\";\nimport {\n  DEMO_EMPLOYEES,\n  DEMO_SKILLS,\n  DEMO_POSITIONS,\n  DEMO_ORG_UNITS,\n  DEMO_REQUIREMENTS,\n  DEMO_EMPLOYEE_SKILLS,\n} from \"./demoData\";\n\nconst DEMO_ORG = {\n  id: \"demo-org-001\",\n  name: \"Nadiplan Demo Manufacturing\",\n  slug: \"nadiplan-demo\",\n  createdAt: \"2024-01-01T00:00:00Z\",\n};\n\nexport function isDemoMode(): boolean {\n  if (typeof window === \"undefined\") {\n    return process.env.NEXT_PUBLIC_DEMO_MODE === \"true\";\n  }\n  \n  const urlParams = new URLSearchParams(window.location.search);\n  if (urlParams.get(\"demo\") === \"1\" || urlParams.get(\"demo\") === \"true\") {\n    sessionStorage.setItem(\"nadiplan_demo_mode\", \"true\");\n    return true;\n  }\n  \n  if (sessionStorage.getItem(\"nadiplan_demo_mode\") === \"true\") {\n    return true;\n  }\n  \n  return process.env.NEXT_PUBLIC_DEMO_MODE === \"true\";\n}\n\nexport function enableDemoMode(): void {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.setItem(\"nadiplan_demo_mode\", \"true\");\n  }\n}\n\nexport function disableDemoMode(): void {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.removeItem(\"nadiplan_demo_mode\");\n  }\n}\n\nexport function getDemoOrg() {\n  return DEMO_ORG;\n}\n\nexport function getDemoEmployees(): Employee[] {\n  return DEMO_EMPLOYEES.map((e) => ({\n    id: e.id,\n    name: e.name,\n    firstName: e.firstName,\n    lastName: e.lastName,\n    email: e.email,\n    employeeNumber: e.employeeNumber,\n    role: e.role,\n    line: e.line,\n    team: e.team,\n    employmentType: \"permanent\" as const,\n    startDate: e.startDate,\n    isActive: e.isActive,\n  }));\n}\n\nexport function getDemoSkills(): Skill[] {\n  return DEMO_SKILLS.map((s) => ({\n    id: s.id,\n    code: s.code,\n    name: s.name,\n    category: s.groupName,\n    description: `${s.name} skill for industrial operations`,\n  }));\n}\n\nexport function getDemoPositions() {\n  return DEMO_POSITIONS.map((p) => ({\n    id: p.id,\n    name: p.name,\n    line: p.line,\n    minHeadcount: p.minHeadcount,\n  }));\n}\n\nexport function getDemoOrgUnits(): OrgUnit[] {\n  return DEMO_ORG_UNITS.map((u) => ({\n    id: u.id,\n    name: u.name,\n    code: u.code,\n    type: u.type.toLowerCase() as OrgUnit[\"type\"],\n    parentId: u.parentId || undefined,\n    createdAt: \"2024-01-01T00:00:00Z\",\n    employeeCount: u.employeeCount,\n  }));\n}\n\nexport function getDemoRequirements() {\n  return DEMO_REQUIREMENTS.map((r) => ({\n    positionId: r.positionId,\n    positionName: DEMO_POSITIONS.find((p) => p.id === r.positionId)?.name || \"\",\n    skillId: r.skillId,\n    skillName: DEMO_SKILLS.find((s) => s.id === r.skillId)?.name || \"\",\n    requiredLevel: r.requiredLevel,\n  }));\n}\n\nexport function getDemoEmployeeSkills() {\n  return DEMO_EMPLOYEE_SKILLS.map((es) => ({\n    employeeId: es.employeeId,\n    skillId: es.skillId,\n    level: es.level as 0 | 1 | 2 | 3 | 4,\n    skillName: DEMO_SKILLS.find((s) => s.id === es.skillId)?.name || \"\",\n    skillCode: DEMO_SKILLS.find((s) => s.id === es.skillId)?.code || \"\",\n  }));\n}\n\nexport function getDemoGaps(): GapItem[] {\n  const gaps: GapItem[] = [];\n  const employees = getDemoEmployees();\n  const employeeSkills = getDemoEmployeeSkills();\n  const requirements = getDemoRequirements();\n  const positions = getDemoPositions();\n\n  for (const req of requirements) {\n    const position = positions.find((p) => p.id === req.positionId);\n    if (!position) continue;\n\n    const employeesInLine = employees.filter((e) => e.line === position.line && e.isActive);\n    \n    let totalLevel = 0;\n    let missingCount = 0;\n\n    for (const emp of employeesInLine) {\n      const skill = employeeSkills.find(\n        (es) => es.employeeId === emp.id && es.skillId === req.skillId\n      );\n      const level = skill?.level || 0;\n      totalLevel += level;\n      if (level < req.requiredLevel) {\n        missingCount++;\n      }\n    }\n\n    const avgLevel = employeesInLine.length > 0 ? totalLevel / employeesInLine.length : 0;\n\n    if (missingCount > 0) {\n      gaps.push({\n        line: position.line,\n        team: null,\n        role: position.name,\n        skillName: req.skillName,\n        skillId: req.skillId,\n        requiredLevel: req.requiredLevel,\n        currentAvgLevel: Math.round(avgLevel * 10) / 10,\n        missingCount,\n      });\n    }\n  }\n\n  return gaps.sort((a, b) => b.missingCount - a.missingCount);\n}\n\nexport function getDemoMetrics() {\n  const employees = getDemoEmployees();\n  const gaps = getDemoGaps();\n  const activeEmployees = employees.filter((e) => e.isActive);\n  \n  const atRiskCount = gaps.reduce((acc, g) => acc + g.missingCount, 0);\n  const topGapSkill = gaps[0]?.skillName || \"None\";\n  \n  const totalSkillAssessments = getDemoEmployeeSkills().length;\n  const avgReadiness = totalSkillAssessments > 0 \n    ? Math.round((getDemoEmployeeSkills().reduce((acc, s) => acc + s.level, 0) / (totalSkillAssessments * 4)) * 100)\n    : 0;\n\n  return {\n    totalEmployees: activeEmployees.length,\n    atRiskCount,\n    topGapSkill,\n    avgReadiness,\n    totalPositions: getDemoPositions().length,\n    totalSkills: getDemoSkills().length,\n    totalOrgUnits: getDemoOrgUnits().length,\n    gapCount: gaps.length,\n  };\n}\n\nexport function getDemoEvents() {\n  const employees = getDemoEmployees();\n  const today = new Date();\n  \n  const addDays = (date: Date, days: number): string => {\n    const result = new Date(date);\n    result.setDate(result.getDate() + days);\n    return result.toISOString().slice(0, 10);\n  };\n\n  return [\n    {\n      id: \"evt-001\",\n      employeeId: employees[0]?.id || \"E1001\",\n      employeeName: employees[0]?.name || \"Anna Lindberg\",\n      category: \"certification\" as const,\n      title: \"Forklift License Renewal\",\n      description: \"Annual forklift operator certification renewal\",\n      dueDate: addDays(today, -5),\n      completedDate: undefined,\n      recurrence: \"12m\",\n      ownerManagerId: \"mgr-001\",\n      status: \"overdue\" as const,\n      notes: \"\",\n    },\n    {\n      id: \"evt-002\",\n      employeeId: employees[1]?.id || \"E1002\",\n      employeeName: employees[1]?.name || \"Erik Johansson\",\n      category: \"safety\" as const,\n      title: \"Safety Training\",\n      description: \"Mandatory annual safety training\",\n      dueDate: addDays(today, 15),\n      completedDate: undefined,\n      recurrence: \"12m\",\n      ownerManagerId: \"mgr-001\",\n      status: \"due_soon\" as const,\n      notes: \"\",\n    },\n    {\n      id: \"evt-003\",\n      employeeId: employees[2]?.id || \"E1003\",\n      employeeName: employees[2]?.name || \"Maria Svensson\",\n      category: \"review\" as const,\n      title: \"Performance Review\",\n      description: \"Annual performance review\",\n      dueDate: addDays(today, 45),\n      completedDate: undefined,\n      recurrence: \"12m\",\n      ownerManagerId: \"mgr-001\",\n      status: \"due_soon\" as const,\n      notes: \"\",\n    },\n    {\n      id: \"evt-004\",\n      employeeId: employees[3]?.id || \"E1004\",\n      employeeName: employees[3]?.name || \"Karl Andersson\",\n      category: \"onboarding\" as const,\n      title: \"90-Day Check-in\",\n      description: \"New employee 90-day review\",\n      dueDate: addDays(today, 90),\n      completedDate: undefined,\n      recurrence: undefined,\n      ownerManagerId: \"mgr-001\",\n      status: \"upcoming\" as const,\n      notes: \"\",\n    },\n  ];\n}\n\nexport function getDemoScript(): string {\n  return `NADIPLAN DEMO SCRIPT\n====================\n\n1. DASHBOARD\n   - Show key metrics: employees, at-risk count, readiness percentage\n   - Highlight the top gap skill that needs attention\n\n2. EMPLOYEES\n   - Browse the employee list\n   - Click \"Add Employee\" to show the form\n   - Click \"Import CSV\" to demonstrate bulk import\n\n3. ORGANIZATION OVERVIEW\n   - Show the org hierarchy tree\n   - Click \"Create Unit\" to add departments\n\n4. COMPETENCE MATRIX\n   - Show skill levels across employees\n   - Point out OK/GAP/RISK status badges\n   - Click \"Export CSV\" to download data\n\n5. TOMORROW'S GAPS\n   - Click \"Generate\" to analyze skill gaps\n   - Show the summary: top missing skills\n   - Review the gaps table with severity\n   - Export gaps report as CSV\n\n6. WRAP-UP\n   - Navigate back to Dashboard\n   - Mention CTA: \"Start Your Free Trial\"\n`;\n}\n\nexport const DEMO_CHECKLIST = [\n  { step: 1, title: \"Dashboard\", description: \"Verify metrics show non-zero values\" },\n  { step: 2, title: \"Employees\", description: \"List shows 10 employees, buttons visible\" },\n  { step: 3, title: \"Organization\", description: \"Org tree displays 5 units\" },\n  { step: 4, title: \"Competence Matrix\", description: \"Matrix shows skills with status badges\" },\n  { step: 5, title: \"Tomorrow's Gaps\", description: \"Generate shows summary and table\" },\n  { step: 6, title: \"Export\", description: \"CSV download works on Matrix and Gaps\" },\n];\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1339, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/DemoModeBanner.tsx"],"sourcesContent":["\"use client\";\n\nimport { Shield, ExternalLink } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { isDemoMode } from \"@/lib/demoRuntime\";\n\nexport function DemoModeBanner() {\n  const demoEnabled = isDemoMode();\n\n  if (!demoEnabled) return null;\n\n  return (\n    <div \n      className=\"bg-blue-600 dark:bg-blue-700 text-white px-4 py-2\"\n      data-testid=\"banner-demo-mode\"\n    >\n      <div className=\"flex items-center justify-center gap-3 text-sm\">\n        <Shield className=\"h-4 w-4\" />\n        <span className=\"font-medium\">Demo Mode Active</span>\n        <span className=\"opacity-80\">Viewing pre-configured demo data</span>\n        <span className=\"opacity-50\">|</span>\n        <Link \n          href=\"/app/demo-center\" \n          className=\"flex items-center gap-1 underline hover:no-underline\"\n          data-testid=\"link-demo-center\"\n        >\n          <ExternalLink className=\"h-3 w-3\" />\n          Demo Center\n        </Link>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,cAAc,IAAA,mIAAU;IAE9B,IAAI,CAAC,aAAa,OAAO;IAEzB,qBACE,6LAAC;QACC,WAAU;QACV,eAAY;kBAEZ,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,mNAAM;oBAAC,WAAU;;;;;;8BAClB,6LAAC;oBAAK,WAAU;8BAAc;;;;;;8BAC9B,6LAAC;oBAAK,WAAU;8BAAa;;;;;;8BAC7B,6LAAC;oBAAK,WAAU;8BAAa;;;;;;8BAC7B,6LAAC,0KAAI;oBACH,MAAK;oBACL,WAAU;oBACV,eAAY;;sCAEZ,6LAAC,yOAAY;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;;;;;;;AAM9C;KA1BgB"}},
    {"offset": {"line": 1434, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/debugStore.ts"],"sourcesContent":["export interface DebugError {\n  timestamp: string;\n  type: 'api' | 'supabase' | 'client';\n  endpoint?: string;\n  status?: number;\n  code?: string;\n  message: string;\n  hint?: string;\n  stack?: string;\n}\n\nexport interface DebugFlags {\n  rlsBlocked: boolean;\n  orgMissing: boolean;\n  loadingTimeout: boolean;\n}\n\nexport interface DebugState {\n  errors: DebugError[];\n  flags: DebugFlags;\n  lastApiCalls: { endpoint: string; status: number; timestamp: string }[];\n}\n\ntype Listener = (state: DebugState) => void;\n\nconst MAX_ERRORS = 50;\nconst MAX_API_CALLS = 10;\n\nlet state: DebugState = {\n  errors: [],\n  flags: {\n    rlsBlocked: false,\n    orgMissing: false,\n    loadingTimeout: false,\n  },\n  lastApiCalls: [],\n};\n\nconst listeners: Set<Listener> = new Set();\n\nfunction notify() {\n  listeners.forEach(fn => fn({ ...state }));\n}\n\nexport function subscribe(listener: Listener): () => void {\n  listeners.add(listener);\n  listener({ ...state });\n  return () => listeners.delete(listener);\n}\n\nexport function getState(): DebugState {\n  return { ...state };\n}\n\nexport function logDebugError(error: Omit<DebugError, 'timestamp'>) {\n  const entry: DebugError = {\n    ...error,\n    timestamp: new Date().toISOString(),\n  };\n  \n  state = {\n    ...state,\n    errors: [entry, ...state.errors].slice(0, MAX_ERRORS),\n  };\n  \n  if (\n    error.type === 'supabase' &&\n    (error.message?.toLowerCase().includes('permission denied') ||\n      error.message?.toLowerCase().includes('rls') ||\n      error.code === 'PGRST301' ||\n      error.code === '42501')\n  ) {\n    state = { ...state, flags: { ...state.flags, rlsBlocked: true } };\n  }\n  \n  notify();\n}\n\nexport function logApiCall(endpoint: string, status: number) {\n  const entry = {\n    endpoint,\n    status,\n    timestamp: new Date().toISOString(),\n  };\n  \n  state = {\n    ...state,\n    lastApiCalls: [entry, ...state.lastApiCalls].slice(0, MAX_API_CALLS),\n  };\n  \n  notify();\n}\n\nexport function setFlag(flag: keyof DebugFlags, value: boolean) {\n  state = {\n    ...state,\n    flags: { ...state.flags, [flag]: value },\n  };\n  notify();\n}\n\nexport function clearErrors() {\n  state = { ...state, errors: [] };\n  notify();\n}\n\nexport function resetFlags() {\n  state = {\n    ...state,\n    flags: { rlsBlocked: false, orgMissing: false, loadingTimeout: false },\n  };\n  notify();\n}\n\nif (typeof window !== 'undefined') {\n  (window as unknown as { __debugStore: typeof getState }).__debugStore = getState;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAyBA,MAAM,aAAa;AACnB,MAAM,gBAAgB;AAEtB,IAAI,QAAoB;IACtB,QAAQ,EAAE;IACV,OAAO;QACL,YAAY;QACZ,YAAY;QACZ,gBAAgB;IAClB;IACA,cAAc,EAAE;AAClB;AAEA,MAAM,YAA2B,IAAI;AAErC,SAAS;IACP,UAAU,OAAO,CAAC,CAAA,KAAM,GAAG;YAAE,GAAG,KAAK;QAAC;AACxC;AAEO,SAAS,UAAU,QAAkB;IAC1C,UAAU,GAAG,CAAC;IACd,SAAS;QAAE,GAAG,KAAK;IAAC;IACpB,OAAO,IAAM,UAAU,MAAM,CAAC;AAChC;AAEO,SAAS;IACd,OAAO;QAAE,GAAG,KAAK;IAAC;AACpB;AAEO,SAAS,cAAc,KAAoC;IAChE,MAAM,QAAoB;QACxB,GAAG,KAAK;QACR,WAAW,IAAI,OAAO,WAAW;IACnC;IAEA,QAAQ;QACN,GAAG,KAAK;QACR,QAAQ;YAAC;eAAU,MAAM,MAAM;SAAC,CAAC,KAAK,CAAC,GAAG;IAC5C;IAEA,IACE,MAAM,IAAI,KAAK,cACf,CAAC,MAAM,OAAO,EAAE,cAAc,SAAS,wBACrC,MAAM,OAAO,EAAE,cAAc,SAAS,UACtC,MAAM,IAAI,KAAK,cACf,MAAM,IAAI,KAAK,OAAO,GACxB;QACA,QAAQ;YAAE,GAAG,KAAK;YAAE,OAAO;gBAAE,GAAG,MAAM,KAAK;gBAAE,YAAY;YAAK;QAAE;IAClE;IAEA;AACF;AAEO,SAAS,WAAW,QAAgB,EAAE,MAAc;IACzD,MAAM,QAAQ;QACZ;QACA;QACA,WAAW,IAAI,OAAO,WAAW;IACnC;IAEA,QAAQ;QACN,GAAG,KAAK;QACR,cAAc;YAAC;eAAU,MAAM,YAAY;SAAC,CAAC,KAAK,CAAC,GAAG;IACxD;IAEA;AACF;AAEO,SAAS,QAAQ,IAAsB,EAAE,KAAc;IAC5D,QAAQ;QACN,GAAG,KAAK;QACR,OAAO;YAAE,GAAG,MAAM,KAAK;YAAE,CAAC,KAAK,EAAE;QAAM;IACzC;IACA;AACF;AAEO,SAAS;IACd,QAAQ;QAAE,GAAG,KAAK;QAAE,QAAQ,EAAE;IAAC;IAC/B;AACF;AAEO,SAAS;IACd,QAAQ;QACN,GAAG,KAAK;QACR,OAAO;YAAE,YAAY;YAAO,YAAY;YAAO,gBAAgB;QAAM;IACvE;IACA;AACF;AAEA,wCAAmC;IAChC,OAAwD,YAAY,GAAG;AAC1E"}},
    {"offset": {"line": 1555, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/GlobalErrorHandler.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { logDebugError } from '@/lib/debugStore';\n\nexport function GlobalErrorHandler() {\n  useEffect(() => {\n    function handleError(event: ErrorEvent) {\n      logDebugError({\n        type: 'client',\n        message: event.message || 'Unknown error',\n        stack: event.error?.stack,\n      });\n    }\n    \n    function handleRejection(event: PromiseRejectionEvent) {\n      const reason = event.reason;\n      let message = 'Unhandled promise rejection';\n      let stack: string | undefined;\n      \n      if (reason instanceof Error) {\n        message = reason.message;\n        stack = reason.stack;\n      } else if (typeof reason === 'string') {\n        message = reason;\n      }\n      \n      logDebugError({\n        type: 'client',\n        message,\n        stack,\n      });\n    }\n    \n    window.addEventListener('error', handleError);\n    window.addEventListener('unhandledrejection', handleRejection);\n    \n    return () => {\n      window.removeEventListener('error', handleError);\n      window.removeEventListener('unhandledrejection', handleRejection);\n    };\n  }, []);\n  \n  return null;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKO,SAAS;;IACd,IAAA,0KAAS;wCAAC;YACR,SAAS,YAAY,KAAiB;gBACpC,IAAA,qIAAa,EAAC;oBACZ,MAAM;oBACN,SAAS,MAAM,OAAO,IAAI;oBAC1B,OAAO,MAAM,KAAK,EAAE;gBACtB;YACF;YAEA,SAAS,gBAAgB,KAA4B;gBACnD,MAAM,SAAS,MAAM,MAAM;gBAC3B,IAAI,UAAU;gBACd,IAAI;gBAEJ,IAAI,kBAAkB,OAAO;oBAC3B,UAAU,OAAO,OAAO;oBACxB,QAAQ,OAAO,KAAK;gBACtB,OAAO,IAAI,OAAO,WAAW,UAAU;oBACrC,UAAU;gBACZ;gBAEA,IAAA,qIAAa,EAAC;oBACZ,MAAM;oBACN;oBACA;gBACF;YACF;YAEA,OAAO,gBAAgB,CAAC,SAAS;YACjC,OAAO,gBAAgB,CAAC,sBAAsB;YAE9C;gDAAO;oBACL,OAAO,mBAAmB,CAAC,SAAS;oBACpC,OAAO,mBAAmB,CAAC,sBAAsB;gBACnD;;QACF;uCAAG,EAAE;IAEL,OAAO;AACT;GAvCgB;KAAA"}},
    {"offset": {"line": 1615, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/copy.ts"],"sourcesContent":["export const COPY = {\n  emptyStates: {\n    employees: {\n      title: \"No employees yet\",\n      description: \"Get started by importing employees from a CSV file or adding them manually.\",\n    },\n    organization: {\n      title: \"No organization units defined\",\n      description: \"Create your first organization unit to structure your company.\",\n    },\n    competenceMatrix: {\n      noRequirements: {\n        title: \"No requirements defined\",\n        description: \"Define position requirements to see skill gaps and risk levels.\",\n      },\n      noEmployees: {\n        title: \"No employees found\",\n        description: \"Add employees to see the competence matrix.\",\n      },\n    },\n    gaps: {\n      noRequirements: {\n        title: \"Cannot calculate gaps\",\n        description: \"Define position requirements first to identify skill gaps.\",\n      },\n      noEmployees: {\n        title: \"No employees to analyze\",\n        description: \"Add employees before generating gap analysis.\",\n      },\n      noGaps: {\n        title: \"No skill gaps found\",\n        description: \"All employees meet the position requirements.\",\n      },\n    },\n    risks: {\n      empty: {\n        title: \"No events to display\",\n        description: \"The system will automatically create events based on employment data.\",\n      },\n    },\n  },\n  actions: {\n    importCsv: \"Import CSV\",\n    addEmployee: \"Add Employee\",\n    createUnit: \"Create Unit\",\n    importOrgStructure: \"Import Org Structure (CSV)\",\n    editRequirements: \"Edit Requirements\",\n    exportCsv: \"Export CSV\",\n    defineRequirements: \"Define Requirements\",\n    goToSetup: \"Go to Setup\",\n    generateGaps: \"Generate Gaps\",\n  },\n  setup: {\n    title: \"Setup Progress\",\n    description: \"Complete these steps to get the most out of your platform.\",\n    steps: {\n      orgUnit: {\n        title: \"Create at least 1 Organization Unit\",\n        button: \"Create Unit\",\n      },\n      employees: {\n        title: \"Add employees (at least 1)\",\n        buttonPrimary: \"Import CSV\",\n        buttonSecondary: \"Add Employee\",\n      },\n      skills: {\n        title: \"Create skills (at least 3)\",\n        button: \"Add Skills\",\n      },\n      positions: {\n        title: \"Create position with requirements\",\n        button: \"Define Requirements\",\n      },\n      gaps: {\n        title: \"Generate Tomorrow's Gaps once\",\n        button: \"Generate Gaps\",\n      },\n    },\n    complete: \"Setup complete\",\n  },\n  nav: {\n    core: \"Core\",\n    comingSoon: \"Coming Soon\",\n  },\n  sections: {\n    overdue: \"Overdue\",\n    dueSoon: \"Due Soon\",\n    upcoming: \"Upcoming\",\n  },\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,OAAO;IAClB,aAAa;QACX,WAAW;YACT,OAAO;YACP,aAAa;QACf;QACA,cAAc;YACZ,OAAO;YACP,aAAa;QACf;QACA,kBAAkB;YAChB,gBAAgB;gBACd,OAAO;gBACP,aAAa;YACf;YACA,aAAa;gBACX,OAAO;gBACP,aAAa;YACf;QACF;QACA,MAAM;YACJ,gBAAgB;gBACd,OAAO;gBACP,aAAa;YACf;YACA,aAAa;gBACX,OAAO;gBACP,aAAa;YACf;YACA,QAAQ;gBACN,OAAO;gBACP,aAAa;YACf;QACF;QACA,OAAO;YACL,OAAO;gBACL,OAAO;gBACP,aAAa;YACf;QACF;IACF;IACA,SAAS;QACP,WAAW;QACX,aAAa;QACb,YAAY;QACZ,oBAAoB;QACpB,kBAAkB;QAClB,WAAW;QACX,oBAAoB;QACpB,WAAW;QACX,cAAc;IAChB;IACA,OAAO;QACL,OAAO;QACP,aAAa;QACb,OAAO;YACL,SAAS;gBACP,OAAO;gBACP,QAAQ;YACV;YACA,WAAW;gBACT,OAAO;gBACP,eAAe;gBACf,iBAAiB;YACnB;YACA,QAAQ;gBACN,OAAO;gBACP,QAAQ;YACV;YACA,WAAW;gBACT,OAAO;gBACP,QAAQ;YACV;YACA,MAAM;gBACJ,OAAO;gBACP,QAAQ;YACV;QACF;QACA,UAAU;IACZ;IACA,KAAK;QACH,MAAM;QACN,YAAY;IACd;IACA,UAAU;QACR,SAAS;QACT,SAAS;QACT,UAAU;IACZ;AACF"}},
    {"offset": {"line": 1716, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\nimport { \n  LayoutDashboard, \n  Grid3X3, \n  Upload, \n  Users, \n  Settings,\n  ShieldAlert,\n  Package,\n  Newspaper,\n  FileText,\n  BookOpen,\n  Shield,\n  Building2,\n  BarChart3,\n  Workflow,\n  LogOut,\n  Wrench,\n  TrendingUp,\n  Clipboard,\n  Bug,\n  Gauge,\n  Factory,\n  Target\n} from \"lucide-react\";\nimport { getCurrentUser, type CurrentUser } from \"@/lib/auth\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { signOut } from \"@/services/auth\";\nimport { OrgProvider } from \"@/components/OrgProvider\";\nimport { DemoModeBanner } from \"@/components/DemoModeBanner\";\nimport { GlobalErrorHandler } from \"@/components/GlobalErrorHandler\";\nimport { COPY } from \"@/lib/copy\";\n\ntype NavItem = {\n  name: string;\n  href: string;\n  icon: React.ComponentType<{ className?: string }>;\n  hrAdminOnly?: boolean;\n};\n\nconst coreNavItems: NavItem[] = [\n  { name: \"Cockpit\", href: \"/app/cockpit\", icon: Gauge },\n  { name: \"Line Overview\", href: \"/app/line-overview\", icon: Factory },\n  { name: \"Dashboard\", href: \"/app/dashboard\", icon: LayoutDashboard },\n  { name: \"Employees\", href: \"/app/employees\", icon: Users },\n  { name: \"Organization\", href: \"/app/org/overview\", icon: Building2 },\n  { name: \"Competence Matrix\", href: \"/app/competence-matrix\", icon: Grid3X3 },\n  { name: \"Tomorrow's Gaps\", href: \"/app/gaps\", icon: TrendingUp },\n  { name: \"Setup\", href: \"/app/setup\", icon: Clipboard },\n  { name: \"Admin\", href: \"/app/admin\", icon: Wrench, hrAdminOnly: true },\n];\n\nconst hrNavItems: NavItem[] = [\n  { name: \"Manager Risks\", href: \"/app/manager/risks\", icon: ShieldAlert },\n  { name: \"HR Analytics\", href: \"/app/hr/analytics\", icon: BarChart3, hrAdminOnly: true },\n  { name: \"HR Workflows\", href: \"/app/hr/workflows\", icon: Workflow, hrAdminOnly: true },\n  { name: \"Import Employees\", href: \"/app/import-employees\", icon: Upload, hrAdminOnly: true },\n];\n\nconst moreNavItems: NavItem[] = [\n  { name: \"Safety / Certificates\", href: \"/app/safety/certificates\", icon: Shield },\n  { name: \"Equipment\", href: \"/app/equipment\", icon: Package },\n  { name: \"Handbooks\", href: \"/app/handbooks\", icon: BookOpen },\n  { name: \"Documents\", href: \"/app/documents\", icon: FileText },\n  { name: \"News\", href: \"/app/news\", icon: Newspaper },\n];\n\nconst spaljistenNavItems: NavItem[] = [\n  { name: \"SP Dashboard\", href: \"/app/spaljisten/dashboard\", icon: Target },\n  { name: \"SP Import\", href: \"/app/spaljisten/import\", icon: Upload },\n];\n\nconst settingsNavItems: NavItem[] = [\n  { name: \"Settings\", href: \"/app/settings\", icon: Settings },\n  { name: \"Debug\", href: \"/app/debug\", icon: Bug },\n];\n\nexport default function AppLayout({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { user: authUser, loading: authLoading, isAuthenticated } = useAuth(true);\n  const [user, setUser] = useState<CurrentUser | null>(null);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getCurrentUser().then(setUser);\n    }\n  }, [isAuthenticated]);\n\n  async function handleSignOut() {\n    try {\n      await signOut();\n      router.push(\"/login\");\n    } catch (err) {\n      console.error(\"Sign out failed:\", err);\n    }\n  }\n\n  if (authLoading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-gray-50 dark:bg-gray-900\">\n        <div className=\"text-gray-500 dark:text-gray-400\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  const filterItems = (items: NavItem[]) => \n    items.filter((item) => {\n      if (item.hrAdminOnly && user?.role !== \"HR_ADMIN\") return false;\n      return true;\n    });\n\n  const visibleCoreItems = filterItems(coreNavItems);\n  const visibleHrItems = filterItems(hrNavItems);\n  const visibleSettingsItems = filterItems(settingsNavItems);\n\n  const renderNavItem = (item: NavItem) => {\n    const isActive = pathname === item.href || pathname?.startsWith(item.href + \"/\");\n    const Icon = item.icon;\n\n    return (\n      <li key={item.name}>\n        <Link\n          href={item.href}\n          className={`flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n            isActive\n              ? \"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white\"\n              : \"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50\"\n          }`}\n          data-testid={`nav-${item.name.toLowerCase().replace(/\\s+/g, \"-\")}`}\n        >\n          <Icon className=\"h-4 w-4\" />\n          {item.name}\n        </Link>\n      </li>\n    );\n  };\n\n  return (\n    <OrgProvider>\n      <GlobalErrorHandler />\n      <div className=\"flex flex-col h-screen bg-gray-50 dark:bg-gray-900\">\n        <DemoModeBanner />\n          <div className=\"flex flex-1 overflow-hidden\">\n          <aside className=\"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n              <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                Industrial Competence\n              </h1>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Platform</p>\n            </div>\n            <nav className=\"flex-1 p-4 overflow-y-auto\">\n              <div className=\"mb-4\">\n                <p className=\"px-3 mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider\">\n                  {COPY.nav.core}\n                </p>\n                <ul className=\"space-y-1\">\n                  {visibleCoreItems.map(renderNavItem)}\n                </ul>\n              </div>\n\n              {visibleHrItems.length > 0 && (\n                <div className=\"mb-4\">\n                  <p className=\"px-3 mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider\">\n                    HR Tools\n                  </p>\n                  <ul className=\"space-y-1\">\n                    {visibleHrItems.map(renderNavItem)}\n                  </ul>\n                </div>\n              )}\n\n              <div className=\"mb-4\">\n                <p className=\"px-3 mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider\">\n                  More\n                </p>\n                <ul className=\"space-y-1\">\n                  {moreNavItems.map(renderNavItem)}\n                </ul>\n              </div>\n\n              <div className=\"mb-4\">\n                <p className=\"px-3 mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider\">\n                  Spaljisten\n                </p>\n                <ul className=\"space-y-1\">\n                  {spaljistenNavItems.map(renderNavItem)}\n                </ul>\n              </div>\n\n              <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                <ul className=\"space-y-1\">\n                  {visibleSettingsItems.map(renderNavItem)}\n                </ul>\n              </div>\n            </nav>\n          </aside>\n\n          <div className=\"flex-1 flex flex-col overflow-hidden\">\n            <header className=\"h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6\">\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                {new Date().toLocaleDateString(\"en-US\", {\n                  weekday: \"long\",\n                  year: \"numeric\",\n                  month: \"long\",\n                  day: \"numeric\",\n                })}\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-300\" data-testid=\"text-user-email\">\n                  {authUser?.email || user?.email || \"User\"}\n                </span>\n                <button\n                  onClick={handleSignOut}\n                  className=\"flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                  data-testid=\"button-signout\"\n                >\n                  <LogOut className=\"h-4 w-4\" />\n                  Sign out\n                </button>\n              </div>\n            </header>\n\n            <main className=\"flex-1 overflow-auto\">\n              {children}\n            </main>\n            </div>\n          </div>\n        </div>\n    </OrgProvider>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}