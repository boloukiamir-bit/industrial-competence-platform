{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n        outline: \"border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n      size: {\n        default: \"\",\n        sm: \"text-[10px] px-2 py-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, size, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant, size }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wMACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAmB;IAC/D,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;YAAS;QAAK,IAAI;QAAa,GAAG,KAAK;;;;;;AAE9E;KAJS"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabaseClient.ts"],"sourcesContent":["import { createClient, SupabaseClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || \"\";\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"\";\n\nfunction createSupabaseClient(): SupabaseClient {\n  if (!supabaseUrl || !supabaseAnonKey) {\n    if (typeof window === \"undefined\" && process.env.NODE_ENV === \"production\") {\n      console.warn(\n        \"Supabase environment variables not set. \" +\n        \"Please ensure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are configured.\"\n      );\n    }\n  }\n  return createClient(supabaseUrl || \"https://placeholder.supabase.co\", supabaseAnonKey || \"placeholder\");\n}\n\nexport const supabase: SupabaseClient = createSupabaseClient();\n\nexport function getSupabaseClient(): SupabaseClient {\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      \"Missing Supabase environment variables. \" +\n      \"Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.\"\n    );\n  }\n  return supabase;\n}\n"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,wPAA6C;AAErE,SAAS;IACP;;IAQA,OAAO,IAAA,0LAAY,EAAC,eAAe,mCAAmC,mBAAmB;AAC3F;AAEO,MAAM,WAA2B;AAEjC,SAAS;IACd;;IAMA,OAAO;AACT"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/analytics.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\nimport type { HRAnalytics } from \"@/types/domain\";\n\nexport async function getHRAnalytics(): Promise<HRAnalytics> {\n  const today = new Date().toISOString().split(\"T\")[0];\n  const thirtyDaysLater = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n  const ninetyDaysLater = new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n\n  const [\n    headcountRes,\n    employeesWithOrgRes,\n    tempContractsRes,\n    allEventsRes,\n    skillsRes,\n    absencesRes,\n  ] = await Promise.all([\n    supabase.from(\"employees\").select(\"id\", { count: \"exact\", head: true }).eq(\"is_active\", true),\n    \n    supabase\n      .from(\"employees\")\n      .select(\"id, name, role, employment_type, contract_end_date, line, team, org_unit_id\")\n      .eq(\"is_active\", true),\n    \n    supabase\n      .from(\"employees\")\n      .select(\"id, name, role, contract_end_date\")\n      .eq(\"is_active\", true)\n      .eq(\"employment_type\", \"temporary\")\n      .not(\"contract_end_date\", \"is\", null)\n      .lte(\"contract_end_date\", ninetyDaysLater),\n    \n    supabase\n      .from(\"person_events\")\n      .select(\"id, category, status, due_date, employee_id, employees:employee_id(line, team)\")\n      .neq(\"status\", \"completed\"),\n    \n    supabase\n      .from(\"employee_skills\")\n      .select(\"level, skills(name)\")\n      .order(\"level\"),\n    \n    supabase\n      .from(\"absences\")\n      .select(\"id, type, from_date, to_date\"),\n  ]);\n\n  const totalHeadcount = headcountRes.count || 0;\n  const employees = employeesWithOrgRes.data || [];\n\n  const orgUnitData: Record<string, { count: number; permanent: number; temporary: number; consultant: number }> = {};\n  const employmentTypeCounts: Record<string, number> = {};\n\n  for (const emp of employees) {\n    const unitName = emp.line || emp.team || \"Unassigned\";\n    const empType = emp.employment_type || \"unknown\";\n\n    if (!orgUnitData[unitName]) {\n      orgUnitData[unitName] = { count: 0, permanent: 0, temporary: 0, consultant: 0 };\n    }\n    orgUnitData[unitName].count++;\n    if (empType === \"permanent\") orgUnitData[unitName].permanent++;\n    else if (empType === \"temporary\") orgUnitData[unitName].temporary++;\n    else if (empType === \"consultant\") orgUnitData[unitName].consultant++;\n\n    employmentTypeCounts[empType] = (employmentTypeCounts[empType] || 0) + 1;\n  }\n\n  const headcountByOrgUnit = Object.entries(orgUnitData).map(([orgUnitName, data]) => ({\n    orgUnitName,\n    count: data.count,\n    permanent: data.permanent,\n    temporary: data.temporary,\n    consultant: data.consultant,\n  }));\n\n  const headcountByEmploymentType = Object.entries(employmentTypeCounts).map(([type, count]) => ({\n    type,\n    count,\n  }));\n\n  const tempContracts = tempContractsRes.data || [];\n  const temporaryContractsEndingSoon = tempContracts.length;\n  const temporaryContractsEndingList = tempContracts.map((emp) => ({\n    id: emp.id,\n    name: emp.name,\n    contractEndDate: emp.contract_end_date,\n    role: emp.role || \"Unknown\",\n  }));\n\n  const allEvents = allEventsRes.data || [];\n  const criticalEventsCounts: Record<string, number> = {};\n  let overdueCount = 0;\n  let dueSoonCount = 0;\n\n  const unitEventCounts: Record<string, { overdueCount: number; dueSoonCount: number }> = {};\n\n  for (const event of allEvents) {\n    if (!event.due_date) continue;\n    const isOverdue = event.due_date < today;\n    const isDueSoon = event.due_date >= today && event.due_date <= thirtyDaysLater;\n\n    if (isOverdue) overdueCount++;\n    if (isDueSoon) dueSoonCount++;\n\n    if (isOverdue || isDueSoon) {\n      criticalEventsCounts[event.category] = (criticalEventsCounts[event.category] || 0) + 1;\n    }\n\n    const empData = event.employees as unknown;\n    const empInfo = Array.isArray(empData) ? empData[0] : empData;\n    const unitName = (empInfo as { line?: string; team?: string } | null)?.line || \n                     (empInfo as { line?: string; team?: string } | null)?.team || \n                     \"Unassigned\";\n\n    if (!unitEventCounts[unitName]) {\n      unitEventCounts[unitName] = { overdueCount: 0, dueSoonCount: 0 };\n    }\n    if (isOverdue) unitEventCounts[unitName].overdueCount++;\n    if (isDueSoon) unitEventCounts[unitName].dueSoonCount++;\n  }\n\n  const criticalEventsCount = Object.entries(criticalEventsCounts).map(([category, count]) => ({\n    category,\n    count,\n  }));\n\n  const riskIndexByUnit = Object.entries(orgUnitData).map(([unitName, data]) => {\n    const eventData = unitEventCounts[unitName] || { overdueCount: 0, dueSoonCount: 0 };\n    const riskIndex = data.count > 0 \n      ? (eventData.overdueCount + eventData.dueSoonCount) / data.count \n      : 0;\n    return {\n      unitName,\n      headcount: data.count,\n      overdueCount: eventData.overdueCount,\n      dueSoonCount: eventData.dueSoonCount,\n      riskIndex: Math.round(riskIndex * 100) / 100,\n    };\n  }).sort((a, b) => b.riskIndex - a.riskIndex);\n\n  const absencesData = absencesRes.data;\n  const absencesAvailable = !absencesRes.error && absencesData !== null;\n\n  const now = new Date();\n  const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n  let sickDays = 0;\n  \n  if (absencesAvailable) {\n    for (const row of absencesData || []) {\n      if (row.type === \"sick\") {\n        const from = new Date(row.from_date);\n        const to = new Date(row.to_date);\n        if (to >= thirtyDaysAgo) {\n          const effectiveFrom = from < thirtyDaysAgo ? thirtyDaysAgo : from;\n          const effectiveTo = to > now ? now : to;\n          const days = Math.ceil((effectiveTo.getTime() - effectiveFrom.getTime()) / (24 * 60 * 60 * 1000)) + 1;\n          sickDays += Math.max(0, days);\n        }\n      }\n    }\n  }\n\n  const workingDaysInMonth = 22;\n  const sickLeaveRatio = totalHeadcount > 0 \n    ? (sickDays / (totalHeadcount * workingDaysInMonth)) * 100 \n    : 0;\n\n  const skillLevels: Record<string, number[]> = {};\n  for (const row of skillsRes.data || []) {\n    const skills = row.skills as unknown as { name: string } | null;\n    const skillName = skills?.name || \"Unknown\";\n    if (!skillLevels[skillName]) {\n      skillLevels[skillName] = [0, 0, 0, 0, 0];\n    }\n    const level = row.level as number;\n    if (level >= 0 && level <= 4) {\n      skillLevels[skillName][level]++;\n    }\n  }\n  const skillDistribution = Object.entries(skillLevels)\n    .slice(0, 10)\n    .map(([skillName, levels]) => ({\n      skillName,\n      levels,\n    }));\n\n  return {\n    totalHeadcount,\n    headcountByOrgUnit,\n    headcountByEmploymentType,\n    sickLeaveRatio: Math.round(sickLeaveRatio * 100) / 100,\n    temporaryContractsEndingSoon,\n    temporaryContractsEndingList,\n    criticalEventsCount,\n    criticalEventsByStatus: { overdue: overdueCount, dueSoon: dueSoonCount },\n    skillDistribution,\n    riskIndexByUnit,\n    absencesAvailable,\n  };\n}\n\nexport async function getAbsenceSummary(fromDate: string, toDate: string): Promise<{\n  totalAbsences: number;\n  byType: { type: string; count: number }[];\n}> {\n  const { data, error } = await supabase\n    .from(\"absences\")\n    .select(\"id, type\")\n    .gte(\"from_date\", fromDate)\n    .lte(\"to_date\", toDate);\n\n  if (error) {\n    console.error(\"Error fetching absences:\", error);\n    return { totalAbsences: 0, byType: [] };\n  }\n\n  const typeCounts: Record<string, number> = {};\n  (data || []).forEach((row) => {\n    typeCounts[row.type] = (typeCounts[row.type] || 0) + 1;\n  });\n\n  return {\n    totalAbsences: data?.length || 0,\n    byType: Object.entries(typeCounts).map(([type, count]) => ({ type, count })),\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/auth.ts"],"sourcesContent":["import { supabase } from \"./supabaseClient\";\nimport type { AppRole, AppUser } from \"@/types/domain\";\n\nexport type { AppRole };\n\nexport type CurrentUser = {\n  id: string;\n  role: AppRole;\n  employeeId?: string;\n  email: string;\n};\n\nexport async function getCurrentUser(): Promise<CurrentUser | null> {\n  const devEmail = process.env.NEXT_PUBLIC_DEV_USER_EMAIL || \"hr@example.com\";\n  \n  const { data, error } = await supabase\n    .from(\"users\")\n    .select(\"id, employee_id, email, role\")\n    .eq(\"email\", devEmail)\n    .single();\n\n  if (error || !data) {\n    return {\n      id: \"dev-user\",\n      role: \"HR_ADMIN\" as AppRole,\n      email: devEmail,\n    };\n  }\n\n  return {\n    id: data.id,\n    role: data.role as AppRole,\n    employeeId: data.employee_id || undefined,\n    email: data.email,\n  };\n}\n\nexport function requireRole(\n  user: { role: AppRole } | null,\n  allowed: AppRole[]\n): void {\n  if (!user) {\n    throw new Error(\"Unauthorized: User not authenticated\");\n  }\n  if (!allowed.includes(user.role)) {\n    throw new Error(`Forbidden: Role ${user.role} not allowed`);\n  }\n}\n\nexport function canAccessEmployee(\n  user: CurrentUser | null,\n  employeeId: string,\n  managedEmployeeIds: string[]\n): boolean {\n  if (!user) return false;\n  if (user.role === \"HR_ADMIN\") return true;\n  if (user.role === \"MANAGER\") {\n    return managedEmployeeIds.includes(employeeId);\n  }\n  if (user.role === \"EMPLOYEE\") {\n    return user.employeeId === employeeId;\n  }\n  return false;\n}\n\nexport async function getManagedEmployeeIds(managerId: string): Promise<string[]> {\n  const { data } = await supabase\n    .from(\"employees\")\n    .select(\"id\")\n    .eq(\"manager_id\", managerId)\n    .eq(\"is_active\", true);\n\n  return (data || []).map((e) => e.id);\n}\n"],"names":[],"mappings":";;;;;;;;;;AAamB;AAbnB;;AAYO,eAAe;IACpB,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,0BAA0B,IAAI;IAE3D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,gCACP,EAAE,CAAC,SAAS,UACZ,MAAM;IAET,IAAI,SAAS,CAAC,MAAM;QAClB,OAAO;YACL,IAAI;YACJ,MAAM;YACN,OAAO;QACT;IACF;IAEA,OAAO;QACL,IAAI,KAAK,EAAE;QACX,MAAM,KAAK,IAAI;QACf,YAAY,KAAK,WAAW,IAAI;QAChC,OAAO,KAAK,KAAK;IACnB;AACF;AAEO,SAAS,YACd,IAA8B,EAC9B,OAAkB;IAElB,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IACA,IAAI,CAAC,QAAQ,QAAQ,CAAC,KAAK,IAAI,GAAG;QAChC,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,KAAK,IAAI,CAAC,YAAY,CAAC;IAC5D;AACF;AAEO,SAAS,kBACd,IAAwB,EACxB,UAAkB,EAClB,kBAA4B;IAE5B,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,KAAK,IAAI,KAAK,YAAY,OAAO;IACrC,IAAI,KAAK,IAAI,KAAK,WAAW;QAC3B,OAAO,mBAAmB,QAAQ,CAAC;IACrC;IACA,IAAI,KAAK,IAAI,KAAK,YAAY;QAC5B,OAAO,KAAK,UAAU,KAAK;IAC7B;IACA,OAAO;AACT;AAEO,eAAe,sBAAsB,SAAiB;IAC3D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,oIAAQ,CAC5B,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa;IAEnB,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;AACrC"}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/hr/analytics/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Users, AlertTriangle, Calendar, TrendingUp, Activity, BarChart3, Clock, Shield } from \"lucide-react\";\nimport { getHRAnalytics } from \"@/services/analytics\";\nimport { getCurrentUser } from \"@/lib/auth\";\nimport type { HRAnalytics } from \"@/types/domain\";\n\nfunction MetricCard({\n  title,\n  value,\n  icon: Icon,\n  description,\n  testId,\n}: {\n  title: string;\n  value: string | number;\n  icon: React.ElementType;\n  description?: string;\n  testId: string;\n}) {\n  return (\n    <Card>\n      <CardContent className=\"pt-6\">\n        <div className=\"flex items-start justify-between gap-4\">\n          <div>\n            <p className=\"text-sm text-muted-foreground\">{title}</p>\n            <p className=\"text-3xl font-bold mt-1\" data-testid={testId}>\n              {value}\n            </p>\n            {description && (\n              <p className=\"text-sm text-muted-foreground mt-1\">{description}</p>\n            )}\n          </div>\n          <div className=\"p-3 bg-primary/10 rounded-lg\">\n            <Icon className=\"h-6 w-6 text-primary\" />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction getRiskColor(riskIndex: number): \"destructive\" | \"default\" | \"secondary\" {\n  if (riskIndex >= 0.5) return \"destructive\";\n  if (riskIndex >= 0.2) return \"default\";\n  return \"secondary\";\n}\n\nexport default function HRAnalyticsPage() {\n  const [analytics, setAnalytics] = useState<HRAnalytics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [authorized, setAuthorized] = useState(true);\n\n  useEffect(() => {\n    async function loadData() {\n      const user = await getCurrentUser();\n      if (!user || user.role !== \"HR_ADMIN\") {\n        setAuthorized(true);\n      }\n\n      const data = await getHRAnalytics();\n      setAnalytics(data);\n      setLoading(false);\n    }\n    loadData();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-muted rounded w-1/3\" />\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"h-32 bg-muted rounded\" />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!authorized) {\n    return (\n      <div className=\"p-6\">\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <AlertTriangle className=\"h-12 w-12 text-destructive mx-auto mb-4\" />\n            <h2 className=\"text-xl font-bold mb-2\">Access Denied</h2>\n            <p className=\"text-muted-foreground\">\n              This page is only accessible to HR Administrators.\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!analytics) {\n    return (\n      <div className=\"p-6\">\n        <p className=\"text-muted-foreground\">Unable to load analytics</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold\" data-testid=\"text-page-title\">\n          HR Analytics Dashboard\n        </h1>\n        <p className=\"text-muted-foreground\">Key workforce metrics and insights</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <MetricCard\n          title=\"Total Headcount\"\n          value={analytics.totalHeadcount}\n          icon={Users}\n          description=\"Active employees\"\n          testId=\"metric-headcount\"\n        />\n        <MetricCard\n          title=\"Sick Leave Rate\"\n          value={analytics.absencesAvailable ? `${analytics.sickLeaveRatio}%` : \"N/A\"}\n          icon={Activity}\n          description={analytics.absencesAvailable ? \"Last 30 days\" : \"Data not available\"}\n          testId=\"metric-sick-leave\"\n        />\n        <MetricCard\n          title=\"Contracts Ending\"\n          value={analytics.temporaryContractsEndingSoon}\n          icon={Calendar}\n          description=\"Within 90 days\"\n          testId=\"metric-contracts-ending\"\n        />\n        <MetricCard\n          title=\"Critical Events\"\n          value={analytics.criticalEventsByStatus.overdue + analytics.criticalEventsByStatus.dueSoon}\n          icon={AlertTriangle}\n          description={`${analytics.criticalEventsByStatus.overdue} overdue, ${analytics.criticalEventsByStatus.dueSoon} due soon`}\n          testId=\"metric-critical-events\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Users className=\"h-5 w-5\" />\n              Headcount by Unit & Employment Type\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {analytics.headcountByOrgUnit.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">No data available</p>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead>\n                    <tr className=\"border-b\">\n                      <th className=\"text-left py-2\">Unit</th>\n                      <th className=\"text-center py-2\">Perm</th>\n                      <th className=\"text-center py-2\">Temp</th>\n                      <th className=\"text-center py-2\">Cons</th>\n                      <th className=\"text-right py-2\">Total</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {analytics.headcountByOrgUnit.map((item) => (\n                      <tr key={item.orgUnitName} className=\"border-b last:border-0\">\n                        <td className=\"py-2\">{item.orgUnitName}</td>\n                        <td className=\"text-center py-2\">{item.permanent}</td>\n                        <td className=\"text-center py-2\">{item.temporary}</td>\n                        <td className=\"text-center py-2\">{item.consultant}</td>\n                        <td className=\"text-right py-2 font-medium\">{item.count}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Clock className=\"h-5 w-5\" />\n              Temporary Contracts Ending (90 days)\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {analytics.temporaryContractsEndingList.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">No contracts ending soon</p>\n            ) : (\n              <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n                {analytics.temporaryContractsEndingList.map((emp) => (\n                  <div key={emp.id} className=\"flex items-center justify-between gap-4 py-2 border-b last:border-0\">\n                    <div>\n                      <p className=\"font-medium\">{emp.name}</p>\n                      <p className=\"text-sm text-muted-foreground\">{emp.role}</p>\n                    </div>\n                    <Badge variant=\"outline\">\n                      {new Date(emp.contractEndDate).toLocaleDateString(\"sv-SE\")}\n                    </Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5\" />\n              Critical Events by Category\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {analytics.criticalEventsCount.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">No critical events</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {analytics.criticalEventsCount.map((item) => (\n                  <div key={item.category} className=\"flex items-center justify-between gap-4\">\n                    <span className=\"text-sm capitalize\">{item.category.replace(/_/g, \" \")}</span>\n                    <Badge\n                      variant={item.count > 5 ? \"destructive\" : item.count > 2 ? \"default\" : \"secondary\"}\n                    >\n                      {item.count}\n                    </Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Shield className=\"h-5 w-5\" />\n              People Risk Index by Unit\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {analytics.riskIndexByUnit.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">No data available</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {analytics.riskIndexByUnit.slice(0, 8).map((item) => (\n                  <div key={item.unitName} className=\"flex items-center justify-between gap-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium truncate\">{item.unitName}</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {item.overdueCount} overdue, {item.dueSoonCount} due soon / {item.headcount} staff\n                      </p>\n                    </div>\n                    <Badge variant={getRiskColor(item.riskIndex)}>\n                      {item.riskIndex.toFixed(2)}\n                    </Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <TrendingUp className=\"h-5 w-5\" />\n              Employment Type Distribution\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {analytics.headcountByEmploymentType.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">No data available</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {analytics.headcountByEmploymentType.map((item) => (\n                  <div key={item.type} className=\"flex items-center justify-between gap-4\">\n                    <span className=\"text-sm capitalize\">{item.type}</span>\n                    <div className=\"flex items-center gap-2\">\n                      <Progress\n                        value={(item.count / analytics.totalHeadcount) * 100}\n                        className=\"w-24 h-2\"\n                      />\n                      <span className=\"text-sm font-medium w-8 text-right\">{item.count}</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <BarChart3 className=\"h-5 w-5\" />\n              Skill Level Distribution\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {analytics.skillDistribution.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-4\">No skills data</p>\n            ) : (\n              <div className=\"space-y-4\">\n                {analytics.skillDistribution.slice(0, 5).map((skill) => (\n                  <div key={skill.skillName}>\n                    <p className=\"text-sm font-medium mb-1\">{skill.skillName}</p>\n                    <div className=\"flex items-center gap-1\">\n                      {skill.levels.map((count, level) => (\n                        <div\n                          key={level}\n                          className=\"flex-1 bg-muted rounded text-center text-xs py-1\"\n                          title={`Level ${level}: ${count} employees`}\n                        >\n                          {count > 0 ? count : \"-\"}\n                        </div>\n                      ))}\n                    </div>\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground mt-1\">\n                      {[0, 1, 2, 3, 4].map((l) => (\n                        <div key={l} className=\"flex-1 text-center\">\n                          L{l}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {!analytics.absencesAvailable && (\n        <Card>\n          <CardContent className=\"py-8 text-center\">\n            <Activity className=\"h-8 w-8 text-muted-foreground mx-auto mb-2\" />\n            <p className=\"text-muted-foreground\">\n              Sick leave analytics coming soon - awaiting absences data integration.\n            </p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}