{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/competence.ts"],"sourcesContent":["// services/competence.ts\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nexport type EmployeeCompetenceItem = {\n  competenceId: string;\n  competenceName: string;\n  competenceCode: string | null;\n  groupName: string | null;\n  requiredLevel: number | null;\n  mandatory: boolean;\n  employeeLevel: number | null;\n  validTo: string | null;\n  status: \"OK\" | \"RISK\" | \"N/A\";\n  riskReason: string | null;\n  isSafetyCritical: boolean;\n};\n\nexport type EmployeeCompetenceSummary = {\n  riskLevel: \"LOW\" | \"MEDIUM\" | \"HIGH\";\n  gapCount: number;\n  totalRequired: number;\n  coveragePercent: number; // 0–100\n  expiredCount: number;\n};\n\nexport type EmployeeCompetenceProfile = {\n  employee: {\n    id: string;\n    name: string;\n    positionName: string | null;\n  };\n  summary: EmployeeCompetenceSummary;\n  items: EmployeeCompetenceItem[];\n};\n\nexport type PositionSummary = {\n  id: string;\n  name: string;\n  site: string | null;\n  department: string | null;\n};\n\nexport type SimpleEmployee = {\n  id: string;\n  name: string;\n};\n\nexport type MatrixColumn = {\n  competenceId: string;\n  label: string;\n  groupName: string | null;\n  requiredLevel: number | null;\n};\n\nexport type MatrixCellStatus = 'OK' | 'RISK' | 'N/A';\n\nexport type MatrixRow = {\n  employeeId: string;\n  employeeName: string;\n  riskLevel: 'LOW' | 'MEDIUM' | 'HIGH';\n  items: {\n    competenceId: string;\n    status: MatrixCellStatus;\n    level: number | null;\n  }[];\n};\n\nexport async function getAllPositions(): Promise<PositionSummary[]> {\n  const { data, error } = await supabase\n    .from('positions')\n    .select('id, name, site, department')\n    .order('name', { ascending: true });\n\n  if (error) throw error;\n  return (data ?? []) as PositionSummary[];\n}\n\nexport async function getEmployeesForPosition(positionId: string): Promise<SimpleEmployee[]> {\n  const { data, error } = await supabase\n    .from('employees')\n    .select('id, full_name, name')\n    .eq('position_id', positionId);\n\n  if (error) throw error;\n\n  return (data ?? []).map((row: any) => ({\n    id: row.id,\n    name: row.full_name ?? row.name ?? 'Employee',\n  }));\n}\n\ntype EmployeeRow = {\n  id: string;\n  full_name?: string | null;\n  name?: string | null;\n  position_id?: string | null;\n};\n\ntype RequirementRow = {\n  id: string;\n  position_id: string;\n  competence_id: string;\n  required_level: number;\n  mandatory: boolean;\n};\n\ntype EmployeeCompetenceRow = {\n  id: string;\n  employee_id: string;\n  competence_id: string;\n  level: number;\n  valid_from: string | null;\n  valid_to: string | null;\n};\n\ntype CompetenceRow = {\n  id: string;\n  name: string;\n  description?: string | null;\n  code?: string | null;\n  group_id?: string | null;\n  is_safety_critical: boolean;\n};\n\ntype GroupRow = {\n  id: string;\n  name: string;\n};\n\nexport async function getEmployeeCompetenceProfile(\n  employeeId: string,\n): Promise<EmployeeCompetenceProfile> {\n  // 1) Employee\n  const { data: employeeRow, error: empError } = await supabase\n    .from(\"employees\")\n    .select(\"id, full_name, name, position_id\")\n    .eq(\"id\", employeeId)\n    .single<EmployeeRow>();\n\n  if (empError || !employeeRow) {\n    console.error(empError);\n    throw empError ?? new Error(\"Employee not found\");\n  }\n\n  const employeeName = employeeRow.full_name ?? employeeRow.name ?? \"Employee\";\n\n  // 2) Position (optional)\n  let positionName: string | null = null;\n  const positionId = employeeRow.position_id ?? null;\n\n  if (positionId) {\n    const { data: posRows } = await supabase\n      .from(\"positions\")\n      .select(\"id, name\")\n      .eq(\"id\", positionId)\n      .limit(1);\n\n    const pos = posRows?.[0] as { id: string; name: string } | undefined;\n    if (pos) {\n      positionName = pos.name;\n    }\n  }\n\n  // 3) Requirements for this position\n  let requirementRows: RequirementRow[] = [];\n  if (positionId) {\n    const { data: reqData, error: reqError } = await supabase\n      .from(\"position_competence_requirements\")\n      .select(\"id, position_id, competence_id, required_level, mandatory\")\n      .eq(\"position_id\", positionId);\n\n    if (reqError) {\n      console.error(reqError);\n      throw reqError;\n    }\n    requirementRows = (reqData ?? []) as RequirementRow[];\n  }\n\n  // 4) Employee competences\n  const { data: empCompData, error: empCompError } = await supabase\n    .from(\"employee_competences\")\n    .select(\"id, employee_id, competence_id, level, valid_from, valid_to\")\n    .eq(\"employee_id\", employeeId);\n\n  if (empCompError) {\n    console.error(empCompError);\n    throw empCompError;\n  }\n\n  const employeeCompRows = (empCompData ?? []) as EmployeeCompetenceRow[];\n  const empCompByCompetenceId = new Map<string, EmployeeCompetenceRow>();\n  for (const row of employeeCompRows) {\n    empCompByCompetenceId.set(row.competence_id, row);\n  }\n\n  // 5) Load all involved competences + groups\n  const competenceIds = new Set<string>();\n  requirementRows.forEach((r) => competenceIds.add(r.competence_id));\n  employeeCompRows.forEach((r) => competenceIds.add(r.competence_id));\n\n  const competencesById = new Map<\n    string,\n    CompetenceRow & { groupName: string | null }\n  >();\n\n  if (competenceIds.size > 0) {\n    const { data: compData, error: compError } = await supabase\n      .from(\"competences\")\n      .select(\"id, name, description, code, group_id, is_safety_critical\")\n      .in(\"id\", Array.from(competenceIds));\n\n    if (compError) {\n      console.error(compError);\n      throw compError;\n    }\n\n    const comps = (compData ?? []) as CompetenceRow[];\n\n    const groupIds = new Set<string>();\n    comps.forEach((c) => {\n      if (c.group_id) groupIds.add(c.group_id);\n    });\n\n    let groupById = new Map<string, string>();\n    if (groupIds.size > 0) {\n      const { data: groupData, error: groupError } = await supabase\n        .from(\"competence_groups\")\n        .select(\"id, name\")\n        .in(\"id\", Array.from(groupIds));\n\n      if (groupError) {\n        console.error(groupError);\n      } else {\n        (groupData ?? []).forEach((g) => {\n          const gr = g as GroupRow;\n          groupById.set(gr.id, gr.name);\n        });\n      }\n    }\n\n    comps.forEach((c) => {\n      competencesById.set(c.id, {\n        ...c,\n        groupName: c.group_id ? (groupById.get(c.group_id) ?? null) : null,\n      });\n    });\n  }\n\n  const today = new Date();\n  const todayStr = today.toISOString().slice(0, 10);\n\n  function isExpired(validTo: string | null): boolean {\n    if (!validTo) return false;\n    // date-only compare\n    return validTo < todayStr;\n  }\n\n  const items: EmployeeCompetenceItem[] = [];\n  let totalRequired = 0;\n  let gapCount = 0;\n  let expiredCount = 0;\n\n  const usedCompetenceIds = new Set<string>();\n\n  // 6) Build items for all requirements (rollkrav)\n  for (const req of requirementRows) {\n    const compInfo = competencesById.get(req.competence_id);\n    if (!compInfo) continue;\n\n    const empComp = empCompByCompetenceId.get(req.competence_id) ?? null;\n\n    let status: \"OK\" | \"RISK\" | \"N/A\" = \"N/A\";\n    let riskReason: string | null = null;\n    let empLevel: number | null = empComp ? empComp.level : null;\n    const validTo = empComp?.valid_to ?? null;\n\n    if (req.mandatory) {\n      totalRequired += 1;\n\n      if (!empComp) {\n        status = \"RISK\";\n        riskReason = \"Saknar kompetens\";\n        gapCount += 1;\n      } else if (isExpired(validTo)) {\n        status = \"RISK\";\n        riskReason = \"Utgången giltighet\";\n        gapCount += 1;\n        expiredCount += 1;\n      } else if (empLevel! < req.required_level) {\n        status = \"RISK\";\n        riskReason = \"För låg nivå\";\n        gapCount += 1;\n      } else {\n        status = \"OK\";\n      }\n    } else {\n      // ej obligatorisk men definierad\n      status = empComp ? \"OK\" : \"N/A\";\n    }\n\n    items.push({\n      competenceId: compInfo.id,\n      competenceName: compInfo.name,\n      competenceCode: compInfo.code ?? null,\n      groupName: compInfo.groupName,\n      requiredLevel: req.required_level,\n      mandatory: req.mandatory,\n      employeeLevel: empLevel,\n      validTo,\n      status,\n      riskReason,\n      isSafetyCritical: compInfo.is_safety_critical,\n    });\n\n    usedCompetenceIds.add(compInfo.id);\n  }\n\n  // 7) Extra kompetenser som inte finns i rollkraven (nice-to-have / historik)\n  for (const empComp of employeeCompRows) {\n    if (usedCompetenceIds.has(empComp.competence_id)) continue;\n    const compInfo = competencesById.get(empComp.competence_id);\n    if (!compInfo) continue;\n\n    items.push({\n      competenceId: compInfo.id,\n      competenceName: compInfo.name,\n      competenceCode: compInfo.code ?? null,\n      groupName: compInfo.groupName,\n      requiredLevel: null,\n      mandatory: false,\n      employeeLevel: empComp.level,\n      validTo: empComp.valid_to,\n      status: isExpired(empComp.valid_to) ? \"RISK\" : \"N/A\",\n      riskReason: isExpired(empComp.valid_to) ? \"Utgången giltighet\" : null,\n      isSafetyCritical: compInfo.is_safety_critical,\n    });\n  }\n\n  // 8) Summary / risk score\n  const coveragePercent =\n    totalRequired === 0\n      ? 100\n      : Math.round(((totalRequired - gapCount) / totalRequired) * 100);\n\n  let riskLevel: \"LOW\" | \"MEDIUM\" | \"HIGH\" = \"LOW\";\n  if (gapCount === 0) {\n    riskLevel = \"LOW\";\n  } else if (gapCount <= 2) {\n    riskLevel = \"MEDIUM\";\n  } else {\n    riskLevel = \"HIGH\";\n  }\n\n  // Sortera per grupp + namn\n  items.sort((a, b) => {\n    const g1 = a.groupName ?? \"\";\n    const g2 = b.groupName ?? \"\";\n    if (g1 !== g2) return g1.localeCompare(g2);\n    return a.competenceName.localeCompare(b.competenceName);\n  });\n\n  return {\n    employee: {\n      id: employeeRow.id,\n      name: employeeName,\n      positionName,\n    },\n    summary: {\n      riskLevel,\n      gapCount,\n      totalRequired,\n      coveragePercent,\n      expiredCount,\n    },\n    items,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\nconst SelectGroup = SelectPrimitive.Group;\nconst SelectValue = SelectPrimitive.Value;\n\nfunction SelectTrigger({\n  className,\n  children,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>) {\n  return (\n    <SelectPrimitive.Trigger\n      className={cn(\n        \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDown className=\"h-4 w-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  );\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n      {...props}\n    >\n      <ChevronUp className=\"h-4 w-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  );\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n      {...props}\n    >\n      <ChevronDown className=\"h-4 w-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  );\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  ...props\n}: React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        className={cn(\n          \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  );\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      className={cn(\n        \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <Check className=\"h-4 w-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  );\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAMA,MAAM,SAAS,6KAAoB;AACnC,MAAM,cAAc,8KAAqB;AACzC,MAAM,cAAc,8KAAqB;AAEzC,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OAC4D;IAC/D,qBACE,6LAAC,gLAAuB;QACtB,WAAW,IAAA,qHAAE,EACX,2TACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI/B;KAnBS;AAqBT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACmE;IACtE,qBACE,6LAAC,uLAA8B;QAC7B,WAAW,IAAA,qHAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;AAG3B;MAZS;AAcT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OACqE;IACxE,qBACE,6LAAC,yLAAgC;QAC/B,WAAW,IAAA,qHAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;AAG7B;MAZS;AAcT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OAC4D;IAC/D,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,WAAW,IAAA,qHAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAhCS;AAkCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OAC0D;IAC7D,qBACE,6LAAC,8KAAqB;QACpB,WAAW,IAAA,qHAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACyD;IAC5D,qBACE,6LAAC,6KAAoB;QACnB,WAAW,IAAA,qHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MArBS;AAuBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OAC8D;IACjE,qBACE,6LAAC,kLAAyB;QACxB,WAAW,IAAA,qHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;MAVS"}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/competence/matrix/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport {\n  getAllPositions,\n  getEmployeesForPosition,\n  getEmployeeCompetenceProfile,\n  PositionSummary,\n  MatrixColumn,\n  MatrixRow,\n} from '@/services/competence';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\n\nexport default function CompetenceMatrixPage() {\n  const [positions, setPositions] = useState<PositionSummary[]>([]);\n  const [selectedPositionId, setSelectedPositionId] = useState<string | null>(null);\n  const [columns, setColumns] = useState<MatrixColumn[]>([]);\n  const [rows, setRows] = useState<MatrixRow[]>([]);\n  const [loadingPositions, setLoadingPositions] = useState(true);\n  const [loadingMatrix, setLoadingMatrix] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function loadPositions() {\n      try {\n        const posData = await getAllPositions();\n        setPositions(posData);\n      } catch (err) {\n        console.error(err);\n        setError('Failed to load positions');\n      } finally {\n        setLoadingPositions(false);\n      }\n    }\n    loadPositions();\n  }, []);\n\n  useEffect(() => {\n    if (!selectedPositionId) {\n      setColumns([]);\n      setRows([]);\n      return;\n    }\n\n    async function loadMatrix() {\n      setLoadingMatrix(true);\n      setError(null);\n      try {\n        const employees = await getEmployeesForPosition(selectedPositionId!);\n        \n        if (employees.length === 0) {\n          setColumns([]);\n          setRows([]);\n          setLoadingMatrix(false);\n          return;\n        }\n\n        const profiles = await Promise.all(\n          employees.map((emp) => getEmployeeCompetenceProfile(emp.id))\n        );\n\n        const firstProfile = profiles[0];\n        const mandatoryItems = firstProfile.items.filter((item) => item.mandatory);\n\n        const cols: MatrixColumn[] = mandatoryItems.map((item) => ({\n          competenceId: item.competenceId,\n          label: item.competenceName,\n          groupName: item.groupName,\n          requiredLevel: item.requiredLevel,\n        }));\n\n        const matrixRows: MatrixRow[] = profiles.map((profile) => {\n          const itemMap = new Map(\n            profile.items.map((item) => [item.competenceId, item])\n          );\n\n          return {\n            employeeId: profile.employee.id,\n            employeeName: profile.employee.name,\n            riskLevel: profile.summary.riskLevel,\n            items: cols.map((col) => {\n              const item = itemMap.get(col.competenceId);\n              return {\n                competenceId: col.competenceId,\n                status: item?.status ?? 'N/A',\n                level: item?.employeeLevel ?? null,\n              };\n            }),\n          };\n        });\n\n        setColumns(cols);\n        setRows(matrixRows);\n      } catch (err) {\n        console.error(err);\n        setError('Failed to load competence matrix');\n      } finally {\n        setLoadingMatrix(false);\n      }\n    }\n\n    loadMatrix();\n  }, [selectedPositionId]);\n\n  const selectedPosition = positions.find((p) => p.id === selectedPositionId);\n\n  return (\n    <main className=\"hr-page\" data-testid=\"competence-matrix-page\">\n      {error && (\n        <div className=\"hr-error mb-4\" data-testid=\"error-message\">\n          {error}\n        </div>\n      )}\n\n      <header className=\"hr-page__header\">\n        <div>\n          <h1 className=\"hr-page__title\">Competence Matrix</h1>\n          <p className=\"hr-page__subtitle\">\n            Compare all employees in a position against the required competences.\n          </p>\n        </div>\n      </header>\n\n      <div className=\"hr-matrix-controls\">\n        <div className=\"hr-matrix-controls__select\">\n          {loadingPositions ? (\n            <p className=\"hr-matrix-controls__count\">Loading positions...</p>\n          ) : (\n            <Select\n              value={selectedPositionId ?? ''}\n              onValueChange={(val) => setSelectedPositionId(val || null)}\n            >\n              <SelectTrigger data-testid=\"select-position\">\n                <SelectValue placeholder=\"Select a position...\" />\n              </SelectTrigger>\n              <SelectContent>\n                {positions.map((pos) => (\n                  <SelectItem key={pos.id} value={pos.id} data-testid={`option-position-${pos.id}`}>\n                    {pos.name}\n                    {pos.department && ` (${pos.department})`}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          )}\n        </div>\n\n        {selectedPosition && !loadingMatrix && (\n          <span className=\"hr-matrix-controls__count\" data-testid=\"text-employee-count\">\n            {rows.length} employee{rows.length !== 1 ? 's' : ''}\n          </span>\n        )}\n      </div>\n\n      {!selectedPositionId && !loadingPositions && (\n        <div className=\"hr-empty\">\n          <p>Select a position above to view the competence matrix.</p>\n        </div>\n      )}\n\n      {selectedPositionId && loadingMatrix && (\n        <div className=\"hr-empty\">\n          <p>Loading competence matrix...</p>\n        </div>\n      )}\n\n      {selectedPositionId && !loadingMatrix && rows.length === 0 && (\n        <div className=\"hr-empty\">\n          <p>No employees found for this position.</p>\n        </div>\n      )}\n\n      {selectedPositionId && !loadingMatrix && rows.length > 0 && columns.length > 0 && (\n        <div className=\"hr-matrix-wrapper\">\n          <table className=\"hr-competence-table\" data-testid=\"matrix-table\">\n            <thead>\n              <tr>\n                <th style={{ minWidth: 150 }}>Employee</th>\n                <th style={{ minWidth: 80 }}>Risk</th>\n                {columns.map((col) => (\n                  <th\n                    key={col.competenceId}\n                    style={{ minWidth: 100 }}\n                    title={col.label}\n                  >\n                    <div className=\"hr-competence-name\">\n                      <span style={{ maxWidth: 100, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', display: 'block' }}>\n                        {col.label.length > 15 ? col.label.slice(0, 15) + '...' : col.label}\n                      </span>\n                      {col.requiredLevel !== null && (\n                        <span className=\"hr-level-chip\">L{col.requiredLevel}</span>\n                      )}\n                    </div>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {rows.map((row) => (\n                <tr key={row.employeeId} data-testid={`row-employee-${row.employeeId}`}>\n                  <td>\n                    <span className=\"font-medium\">{row.employeeName}</span>\n                  </td>\n                  <td>\n                    <span className={`hr-risk-pill hr-risk-pill--${row.riskLevel.toLowerCase()}`}>\n                      {row.riskLevel}\n                    </span>\n                  </td>\n                  {row.items.map((cell, idx) => (\n                    <td key={columns[idx].competenceId}>\n                      <div className=\"hr-matrix-cell\">\n                        <span className=\"hr-matrix-cell__level\">\n                          {cell.level !== null ? cell.level : '-'}\n                        </span>\n                        <span\n                          className={`hr-status-badge hr-status-badge--${cell.status.toLowerCase()}`}\n                        >\n                          {cell.status}\n                        </span>\n                      </div>\n                    </td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {selectedPositionId && !loadingMatrix && rows.length > 0 && columns.length === 0 && (\n        <div className=\"hr-empty\">\n          <p>No mandatory competences defined for this position.</p>\n        </div>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}