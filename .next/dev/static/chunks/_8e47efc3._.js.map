{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/button.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive: \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline: \"border [border-color:var(--button-outline)] shadow-xs active:shadow-none\",\n        secondary: \"border bg-secondary text-secondary-foreground border-secondary-border\",\n        ghost: \"border border-transparent\",\n      },\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,sTACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;QACT;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n        outline: \"border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n      size: {\n        default: \"\",\n        sm: \"text-[10px] px-2 py-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, size, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant, size }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wMACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAmB;IAC/D,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;YAAS;QAAK,IAAI;QAAa,GAAG,KAAK;;;;;;AAE9E;KAJS"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/HrDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport Link from \"next/link\";\nimport { \n  Users, \n  AlertTriangle, \n  FileCheck, \n  Workflow,\n  ArrowRight,\n  Plus\n} from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\n\ntype DashboardData = {\n  totalHeadcount: number;\n  overdueEvents: number;\n  dueSoonEvents: number;\n  expiringContracts: number;\n  openWorkflows: number;\n  riskUnits: { unitName: string; riskIndex: number; criticalCount: number }[];\n};\n\nexport function HrDashboard() {\n  const [data, setData] = useState<DashboardData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadDashboard() {\n      const today = new Date().toISOString().split(\"T\")[0];\n      const thirtyDaysLater = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n      const ninetyDaysLater = new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n\n      const [headcountRes, eventsRes, contractsRes, workflowsRes] = await Promise.all([\n        supabase.from(\"employees\").select(\"id, line\", { count: \"exact\" }).eq(\"is_active\", true),\n        supabase.from(\"person_events\").select(\"id, due_date, category, employees:employee_id(line)\").neq(\"status\", \"completed\"),\n        supabase.from(\"employees\")\n          .select(\"id\")\n          .eq(\"is_active\", true)\n          .eq(\"employment_type\", \"temporary\")\n          .not(\"contract_end_date\", \"is\", null)\n          .lte(\"contract_end_date\", ninetyDaysLater),\n        supabase.from(\"hr_workflow_instances\").select(\"id\", { count: \"exact\" }).eq(\"status\", \"active\"),\n      ]);\n\n      const events = eventsRes.data || [];\n      let overdueCount = 0;\n      let dueSoonCount = 0;\n      const unitRisks: Record<string, { total: number; critical: number }> = {};\n\n      for (const event of events) {\n        if (!event.due_date) continue;\n        const isOverdue = event.due_date < today;\n        const isDueSoon = event.due_date >= today && event.due_date <= thirtyDaysLater;\n        \n        if (isOverdue) overdueCount++;\n        if (isDueSoon) dueSoonCount++;\n\n        const empData = event.employees as unknown as { line?: string } | null;\n        const unitName = empData?.line || \"Unassigned\";\n\n        if (!unitRisks[unitName]) {\n          unitRisks[unitName] = { total: 0, critical: 0 };\n        }\n        unitRisks[unitName].total++;\n        if (isOverdue || isDueSoon) {\n          unitRisks[unitName].critical++;\n        }\n      }\n\n      const employees = headcountRes.data || [];\n      const unitHeadcounts: Record<string, number> = {};\n      for (const emp of employees) {\n        const unit = emp.line || \"Unassigned\";\n        unitHeadcounts[unit] = (unitHeadcounts[unit] || 0) + 1;\n      }\n\n      const riskUnits = Object.entries(unitRisks)\n        .map(([unitName, r]) => ({\n          unitName,\n          riskIndex: unitHeadcounts[unitName] ? r.critical / unitHeadcounts[unitName] : 0,\n          criticalCount: r.critical,\n        }))\n        .sort((a, b) => b.riskIndex - a.riskIndex)\n        .slice(0, 5);\n\n      setData({\n        totalHeadcount: headcountRes.count || 0,\n        overdueEvents: overdueCount,\n        dueSoonEvents: dueSoonCount,\n        expiringContracts: contractsRes.data?.length || 0,\n        openWorkflows: workflowsRes.count || 0,\n        riskUnits,\n      });\n      setLoading(false);\n    }\n    loadDashboard();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {[1, 2, 3, 4].map((i) => (\n          <Card key={i}>\n            <CardContent className=\"pt-6\">\n              <div className=\"animate-pulse space-y-3\">\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24\" />\n                <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16\" />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  if (!data) return null;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card data-testid=\"card-headcount\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Active Headcount</p>\n                <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">{data.totalHeadcount}</p>\n              </div>\n              <Users className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-compliance\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Compliance Risk</p>\n                <div className=\"flex items-center gap-2 mt-1\">\n                  <span className=\"text-3xl font-bold text-red-600 dark:text-red-400\">{data.overdueEvents}</span>\n                  <span className=\"text-sm text-gray-400\">+{data.dueSoonEvents} soon</span>\n                </div>\n              </div>\n              <AlertTriangle className=\"h-8 w-8 text-red-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-contracts\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Contracts Ending</p>\n                <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-1\">{data.expiringContracts}</p>\n                <p className=\"text-xs text-gray-400 mt-1\">Next 90 days</p>\n              </div>\n              <FileCheck className=\"h-8 w-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-workflows\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Open Workflows</p>\n                <p className=\"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-1\">{data.openWorkflows}</p>\n              </div>\n              <Workflow className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base\">Quick Actions</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <Link href=\"/app/hr/workflows?action=start&template=sick_leave\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Sick Leave Follow-up\n                </Button>\n              </Link>\n              <Link href=\"/app/hr/workflows?action=start&template=rehab\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Rehab Process\n                </Button>\n              </Link>\n              <Link href=\"/app/hr/workflows?action=start&template=parental_leave\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Parental Leave\n                </Button>\n              </Link>\n              <Link href=\"/app/hr/workflows?action=start&template=reboarding\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Reboarding\n                </Button>\n              </Link>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between gap-4\">\n              <CardTitle className=\"text-base\">Top Risk Units</CardTitle>\n              <Link href=\"/app/hr/analytics\">\n                <Button variant=\"ghost\" size=\"sm\">\n                  View All <ArrowRight className=\"ml-1 h-4 w-4\" />\n                </Button>\n              </Link>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.riskUnits.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No risk data available</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.riskUnits.map((unit) => (\n                  <div key={unit.unitName} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">{unit.unitName}</span>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm text-gray-500\">{unit.criticalCount} events</span>\n                      <Badge \n                        variant={unit.riskIndex >= 0.5 ? \"destructive\" : unit.riskIndex >= 0.2 ? \"default\" : \"secondary\"}\n                      >\n                        {(unit.riskIndex * 100).toFixed(0)}%\n                      </Badge>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 944, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/ManagerDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport Link from \"next/link\";\nimport { Users, ClipboardList, Calendar, ArrowRight } from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport type { CurrentUser } from \"@/lib/auth\";\n\ntype ManagerDashboardData = {\n  teamHeadcount: number;\n  openTasks: number;\n  upcomingMeetings: number;\n  criticalItems: { id: string; title: string; employeeName: string; dueDate: string; isOverdue: boolean }[];\n  meetings: { id: string; employeeName: string; scheduledAt: string; status: string }[];\n};\n\nexport function ManagerDashboard({ user }: { user: CurrentUser }) {\n  const [data, setData] = useState<ManagerDashboardData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadDashboard() {\n      if (!user.employeeId) {\n        setLoading(false);\n        return;\n      }\n\n      const today = new Date().toISOString().split(\"T\")[0];\n      const fourteenDaysLater = new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n\n      const [teamRes, eventsRes, meetingsRes] = await Promise.all([\n        supabase.from(\"employees\").select(\"id, name\", { count: \"exact\" }).eq(\"manager_id\", user.employeeId).eq(\"is_active\", true),\n        supabase.from(\"person_events\")\n          .select(\"id, title, due_date, employees:employee_id(name)\")\n          .eq(\"owner_manager_id\", user.employeeId)\n          .neq(\"status\", \"completed\")\n          .order(\"due_date\"),\n        supabase.from(\"one_to_one_meetings\")\n          .select(\"id, scheduled_at, status, employees:employee_id(name)\")\n          .eq(\"manager_id\", user.employeeId)\n          .in(\"status\", [\"planned\", \"in_progress\"])\n          .gte(\"scheduled_at\", today)\n          .lte(\"scheduled_at\", fourteenDaysLater)\n          .order(\"scheduled_at\"),\n      ]);\n\n      const events = eventsRes.data || [];\n      const criticalItems = events\n        .filter((e) => e.due_date)\n        .map((e) => {\n          const empData = e.employees as unknown as { name?: string } | null;\n          return {\n            id: e.id,\n            title: e.title,\n            employeeName: empData?.name || \"Unknown\",\n            dueDate: e.due_date,\n            isOverdue: e.due_date < today,\n          };\n        })\n        .slice(0, 5);\n\n      const meetings = (meetingsRes.data || []).map((m) => {\n        const empData = m.employees as unknown as { name?: string } | null;\n        return {\n          id: m.id,\n          employeeName: empData?.name || \"Unknown\",\n          scheduledAt: m.scheduled_at,\n          status: m.status,\n        };\n      }).slice(0, 5);\n\n      setData({\n        teamHeadcount: teamRes.count || 0,\n        openTasks: events.length,\n        upcomingMeetings: meetingsRes.data?.length || 0,\n        criticalItems,\n        meetings,\n      });\n      setLoading(false);\n    }\n    loadDashboard();\n  }, [user.employeeId]);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {[1, 2, 3].map((i) => (\n          <Card key={i}>\n            <CardContent className=\"pt-6\">\n              <div className=\"animate-pulse space-y-3\">\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24\" />\n                <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16\" />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <p className=\"text-gray-500 dark:text-gray-400\">No manager data available. Please ensure your account is linked to an employee profile.</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card data-testid=\"card-team-headcount\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">My Team</p>\n                <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">{data.teamHeadcount}</p>\n              </div>\n              <Users className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-open-tasks\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Open Tasks</p>\n                <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-1\">{data.openTasks}</p>\n              </div>\n              <ClipboardList className=\"h-8 w-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-upcoming-meetings\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Upcoming 1:1s</p>\n                <p className=\"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-1\">{data.upcomingMeetings}</p>\n                <p className=\"text-xs text-gray-400 mt-1\">Next 14 days</p>\n              </div>\n              <Calendar className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between gap-4\">\n              <CardTitle className=\"text-base\">Critical Items</CardTitle>\n              <Link href=\"/app/manager/risks\">\n                <Button variant=\"ghost\" size=\"sm\">\n                  View All <ArrowRight className=\"ml-1 h-4 w-4\" />\n                </Button>\n              </Link>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.criticalItems.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No critical items</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.criticalItems.map((item) => (\n                  <div key={item.id} className=\"flex items-start justify-between gap-4\">\n                    <div className=\"min-w-0 flex-1\">\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">{item.title}</p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">{item.employeeName}</p>\n                    </div>\n                    <Badge variant={item.isOverdue ? \"destructive\" : \"default\"}>\n                      {item.isOverdue ? \"Overdue\" : item.dueDate}\n                    </Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between gap-4\">\n              <CardTitle className=\"text-base\">My 1:1 Meetings</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.meetings.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No upcoming meetings</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.meetings.map((meeting) => (\n                  <Link key={meeting.id} href={`/app/one-to-ones/${meeting.id}`}>\n                    <div className=\"flex items-center justify-between gap-4 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900 dark:text-white\">{meeting.employeeName}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                          {new Date(meeting.scheduledAt).toLocaleDateString(\"sv-SE\")}\n                        </p>\n                      </div>\n                      <Badge variant=\"secondary\">{meeting.status}</Badge>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1528, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/EmployeeDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { GraduationCap, Calendar, ClipboardList, FileText, Award } from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport type { CurrentUser } from \"@/lib/auth\";\n\ntype EmployeeDashboardData = {\n  upcomingTrainings: number;\n  nextMeeting: { id: string; scheduledAt: string; managerName: string } | null;\n  openTasks: number;\n  recentDocuments: { id: string; title: string; type: string }[];\n  topSkills: { skillName: string; level: number }[];\n};\n\nexport function EmployeeDashboard({ user }: { user: CurrentUser }) {\n  const [data, setData] = useState<EmployeeDashboardData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadDashboard() {\n      if (!user.employeeId) {\n        setLoading(false);\n        return;\n      }\n\n      const today = new Date().toISOString().split(\"T\")[0];\n\n      const [trainingsRes, meetingRes, tasksRes, docsRes, skillsRes] = await Promise.all([\n        supabase.from(\"person_events\")\n          .select(\"id\", { count: \"exact\" })\n          .eq(\"employee_id\", user.employeeId)\n          .in(\"category\", [\"training\", \"certificate\"])\n          .neq(\"status\", \"completed\")\n          .gte(\"due_date\", today),\n        supabase.from(\"one_to_one_meetings\")\n          .select(\"id, scheduled_at, manager:manager_id(name)\")\n          .eq(\"employee_id\", user.employeeId)\n          .in(\"status\", [\"planned\", \"in_progress\"])\n          .gte(\"scheduled_at\", today)\n          .order(\"scheduled_at\")\n          .limit(1),\n        supabase.from(\"person_events\")\n          .select(\"id\", { count: \"exact\" })\n          .eq(\"employee_id\", user.employeeId)\n          .neq(\"status\", \"completed\"),\n        supabase.from(\"documents\")\n          .select(\"id, title, type\")\n          .eq(\"employee_id\", user.employeeId)\n          .order(\"created_at\", { ascending: false })\n          .limit(3),\n        supabase.from(\"employee_skills\")\n          .select(\"level, skills(name)\")\n          .eq(\"employee_id\", user.employeeId)\n          .order(\"level\", { ascending: false })\n          .limit(5),\n      ]);\n\n      const meetingData = meetingRes.data?.[0];\n      let nextMeeting = null;\n      if (meetingData) {\n        const mgrData = meetingData.manager as unknown as { name?: string } | null;\n        nextMeeting = {\n          id: meetingData.id,\n          scheduledAt: meetingData.scheduled_at,\n          managerName: mgrData?.name || \"Unknown\",\n        };\n      }\n\n      const topSkills = (skillsRes.data || []).map((s) => {\n        const skillInfo = s.skills as unknown as { name: string } | null;\n        return {\n          skillName: skillInfo?.name || \"Unknown\",\n          level: s.level as number,\n        };\n      });\n\n      setData({\n        upcomingTrainings: trainingsRes.count || 0,\n        nextMeeting,\n        openTasks: tasksRes.count || 0,\n        recentDocuments: docsRes.data || [],\n        topSkills,\n      });\n      setLoading(false);\n    }\n    loadDashboard();\n  }, [user.employeeId]);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {[1, 2, 3].map((i) => (\n          <Card key={i}>\n            <CardContent className=\"pt-6\">\n              <div className=\"animate-pulse space-y-3\">\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24\" />\n                <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16\" />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <p className=\"text-gray-500 dark:text-gray-400\">No employee data available. Please ensure your account is linked to an employee profile.</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const levelLabels = [\"None\", \"Basic\", \"Intermediate\", \"Advanced\", \"Expert\"];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card data-testid=\"card-trainings\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Upcoming Trainings</p>\n                <p className=\"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-1\">{data.upcomingTrainings}</p>\n              </div>\n              <GraduationCap className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-next-meeting\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Next 1:1</p>\n                {data.nextMeeting ? (\n                  <>\n                    <p className=\"text-lg font-bold text-gray-900 dark:text-white mt-1\">\n                      {new Date(data.nextMeeting.scheduledAt).toLocaleDateString(\"sv-SE\")}\n                    </p>\n                    <p className=\"text-xs text-gray-400\">with {data.nextMeeting.managerName}</p>\n                  </>\n                ) : (\n                  <p className=\"text-sm text-gray-400 mt-1\">None scheduled</p>\n                )}\n              </div>\n              <Calendar className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-tasks\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Open Tasks</p>\n                <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-1\">{data.openTasks}</p>\n              </div>\n              <ClipboardList className=\"h-8 w-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <FileText className=\"h-4 w-4 text-gray-400\" />\n              <CardTitle className=\"text-base\">My Documents</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.recentDocuments.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No documents available</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.recentDocuments.map((doc) => (\n                  <div key={doc.id} className=\"flex items-center justify-between gap-4\">\n                    <span className=\"text-sm text-gray-900 dark:text-white truncate\">{doc.title}</span>\n                    <Badge variant=\"secondary\">{doc.type}</Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <Award className=\"h-4 w-4 text-gray-400\" />\n              <CardTitle className=\"text-base\">My Competencies</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.topSkills.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No competencies recorded</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.topSkills.map((skill, index) => (\n                  <div key={index} className=\"flex items-center justify-between gap-4\">\n                    <span className=\"text-sm text-gray-900 dark:text-white\">{skill.skillName}</span>\n                    <Badge variant=\"default\">{levelLabels[skill.level] || `Level ${skill.level}`}</Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2084, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { getCurrentUser, type CurrentUser } from \"@/lib/auth\";\nimport { HrDashboard } from \"@/components/dashboard/HrDashboard\";\nimport { ManagerDashboard } from \"@/components/dashboard/ManagerDashboard\";\nimport { EmployeeDashboard } from \"@/components/dashboard/EmployeeDashboard\";\n\nexport default function DashboardPage() {\n  const [user, setUser] = useState<CurrentUser | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getCurrentUser().then((u) => {\n      setUser(u);\n      setLoading(false);\n    });\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48\" />\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"h-32 bg-gray-200 dark:bg-gray-700 rounded\" />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return \"Good morning\";\n    if (hour < 18) return \"Good afternoon\";\n    return \"Good evening\";\n  };\n\n  const getRoleLabel = () => {\n    switch (user?.role) {\n      case \"HR_ADMIN\":\n        return \"HR Administrator\";\n      case \"MANAGER\":\n        return \"Manager\";\n      case \"EMPLOYEE\":\n        return \"Employee\";\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <div className=\"p-8\" data-testid=\"dashboard-page\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n          {getGreeting()}\n        </h1>\n        <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\n          {getRoleLabel()} Dashboard\n        </p>\n      </div>\n\n      {user?.role === \"HR_ADMIN\" && <HrDashboard />}\n      {user?.role === \"MANAGER\" && <ManagerDashboard user={user} />}\n      {user?.role === \"EMPLOYEE\" && <EmployeeDashboard user={user} />}\n      {!user?.role && (\n        <div className=\"text-center py-12 text-gray-500 dark:text-gray-400\">\n          Unable to determine user role. Please contact support.\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAqB;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;mCAAC;YACR,IAAA,gIAAc,IAAG,IAAI;2CAAC,CAAC;oBACrB,QAAQ;oBACR,WAAW;gBACb;;QACF;kCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACjB,6LAAC;gCAAY,WAAU;+BAAb;;;;;;;;;;;;;;;;;;;;;IAMtB;IAEA,MAAM,cAAc;QAClB,MAAM,OAAO,IAAI,OAAO,QAAQ;QAChC,IAAI,OAAO,IAAI,OAAO;QACtB,IAAI,OAAO,IAAI,OAAO;QACtB,OAAO;IACT;IAEA,MAAM,eAAe;QACnB,OAAQ,MAAM;YACZ,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;QAAM,eAAY;;0BAC/B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACX;;;;;;kCAEH,6LAAC;wBAAE,WAAU;;4BACV;4BAAe;;;;;;;;;;;;;YAInB,MAAM,SAAS,4BAAc,6LAAC,yJAAW;;;;;YACzC,MAAM,SAAS,2BAAa,6LAAC,mKAAgB;gBAAC,MAAM;;;;;;YACpD,MAAM,SAAS,4BAAc,6LAAC,qKAAiB;gBAAC,MAAM;;;;;;YACtD,CAAC,MAAM,sBACN,6LAAC;gBAAI,WAAU;0BAAqD;;;;;;;;;;;;AAM5E;GAnEwB;KAAA"}}]
}