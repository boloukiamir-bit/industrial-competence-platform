{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/button.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive: \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline: \"border [border-color:var(--button-outline)] shadow-xs active:shadow-none\",\n        secondary: \"border bg-secondary text-secondary-foreground border-secondary-border\",\n        ghost: \"border border-transparent\",\n      },\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,sTACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;QACT;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n        outline: \"border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n      size: {\n        default: \"\",\n        sm: \"text-[10px] px-2 py-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, size, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant, size }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,wMACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAmB;IAC/D,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;YAAS;QAAK,IAAI;QAAa,GAAG,KAAK;;;;;;AAE9E"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/demoData.ts"],"sourcesContent":["export interface DemoEmployee {\n  id: string;\n  employeeNumber: string;\n  name: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  role: string;\n  line: string;\n  team: string;\n  startDate: string;\n  isActive: boolean;\n}\n\nexport interface DemoSkill {\n  id: string;\n  code: string;\n  name: string;\n  groupId: string;\n  groupName: string;\n}\n\nexport interface DemoPosition {\n  id: string;\n  name: string;\n  line: string;\n  minHeadcount: number;\n}\n\nexport interface DemoOrgUnit {\n  id: string;\n  name: string;\n  code: string;\n  type: string;\n  parentId: string | null;\n  employeeCount: number;\n}\n\nexport interface DemoRequirement {\n  positionId: string;\n  skillId: string;\n  requiredLevel: number;\n}\n\nexport interface DemoEmployeeSkill {\n  employeeId: string;\n  skillId: string;\n  level: number;\n}\n\nexport const DEMO_EMPLOYEES: DemoEmployee[] = [\n  { id: \"E1001\", employeeNumber: \"E1001\", name: \"Anna Lindberg\", firstName: \"Anna\", lastName: \"Lindberg\", email: \"anna.lindberg@example.com\", role: \"Operator\", line: \"Pressline 1\", team: \"Day Shift\", startDate: \"2020-03-15\", isActive: true },\n  { id: \"E1002\", employeeNumber: \"E1002\", name: \"Erik Johansson\", firstName: \"Erik\", lastName: \"Johansson\", email: \"erik.johansson@example.com\", role: \"Operator\", line: \"Pressline 1\", team: \"Day Shift\", startDate: \"2019-06-01\", isActive: true },\n  { id: \"E1003\", employeeNumber: \"E1003\", name: \"Maria Svensson\", firstName: \"Maria\", lastName: \"Svensson\", email: \"maria.svensson@example.com\", role: \"Team Lead\", line: \"Pressline 1\", team: \"Day Shift\", startDate: \"2018-01-10\", isActive: true },\n  { id: \"E1004\", employeeNumber: \"E1004\", name: \"Karl Andersson\", firstName: \"Karl\", lastName: \"Andersson\", email: \"karl.andersson@example.com\", role: \"Operator\", line: \"Pressline 1\", team: \"Night Shift\", startDate: \"2021-09-20\", isActive: true },\n  { id: \"E1005\", employeeNumber: \"E1005\", name: \"Sofia Nilsson\", firstName: \"Sofia\", lastName: \"Nilsson\", email: \"sofia.nilsson@example.com\", role: \"Operator\", line: \"Pressline 2\", team: \"Day Shift\", startDate: \"2022-02-14\", isActive: true },\n  { id: \"E1006\", employeeNumber: \"E1006\", name: \"Lars Pettersson\", firstName: \"Lars\", lastName: \"Pettersson\", email: \"lars.pettersson@example.com\", role: \"Team Lead\", line: \"Pressline 2\", team: \"Day Shift\", startDate: \"2017-05-22\", isActive: true },\n  { id: \"E1007\", employeeNumber: \"E1007\", name: \"Emma Gustafsson\", firstName: \"Emma\", lastName: \"Gustafsson\", email: \"emma.gustafsson@example.com\", role: \"Quality Inspector\", line: \"Quality Control\", team: \"Day Shift\", startDate: \"2020-11-03\", isActive: true },\n  { id: \"E1008\", employeeNumber: \"E1008\", name: \"Oscar Eriksson\", firstName: \"Oscar\", lastName: \"Eriksson\", email: \"oscar.eriksson@example.com\", role: \"Operator\", line: \"Assembly\", team: \"Day Shift\", startDate: \"2021-04-18\", isActive: true },\n  { id: \"E1009\", employeeNumber: \"E1009\", name: \"Maja Larsson\", firstName: \"Maja\", lastName: \"Larsson\", email: \"maja.larsson@example.com\", role: \"Operator\", line: \"Assembly\", team: \"Night Shift\", startDate: \"2019-08-25\", isActive: true },\n  { id: \"E1010\", employeeNumber: \"E1010\", name: \"Viktor Olsson\", firstName: \"Viktor\", lastName: \"Olsson\", email: \"viktor.olsson@example.com\", role: \"Logistics Coordinator\", line: \"Logistics\", team: \"Day Shift\", startDate: \"2018-12-01\", isActive: true },\n];\n\nexport const DEMO_SKILLS: DemoSkill[] = [\n  { id: \"SK001\", code: \"PRESS_A\", name: \"Pressline A Operation\", groupId: \"G1\", groupName: \"Production\" },\n  { id: \"SK002\", code: \"PRESS_B\", name: \"Pressline B Operation\", groupId: \"G1\", groupName: \"Production\" },\n  { id: \"SK003\", code: \"SAFETY_BASIC\", name: \"Safety Basic\", groupId: \"G2\", groupName: \"Safety\" },\n  { id: \"SK004\", code: \"SAFETY_ADV\", name: \"Safety Advanced\", groupId: \"G2\", groupName: \"Safety\" },\n  { id: \"SK005\", code: \"TRUCK_A1\", name: \"Truck A1 License\", groupId: \"G3\", groupName: \"Certifications\" },\n  { id: \"SK006\", code: \"TRUCK_B1\", name: \"Truck B1 License\", groupId: \"G3\", groupName: \"Certifications\" },\n  { id: \"SK007\", code: \"QUALITY_INSP\", name: \"Quality Inspection\", groupId: \"G4\", groupName: \"Quality\" },\n  { id: \"SK008\", code: \"FIRST_AID\", name: \"First Aid Certified\", groupId: \"G2\", groupName: \"Safety\" },\n];\n\nexport const DEMO_POSITIONS: DemoPosition[] = [\n  { id: \"P1\", name: \"Pressline 1 Operator\", line: \"Pressline 1\", minHeadcount: 4 },\n  { id: \"P2\", name: \"Pressline 2 Operator\", line: \"Pressline 2\", minHeadcount: 3 },\n  { id: \"P3\", name: \"Assembly Operator\", line: \"Assembly\", minHeadcount: 3 },\n  { id: \"P4\", name: \"Quality Inspector\", line: \"Quality Control\", minHeadcount: 2 },\n  { id: \"P5\", name: \"Logistics Coordinator\", line: \"Logistics\", minHeadcount: 2 },\n];\n\nexport const DEMO_ORG_UNITS: DemoOrgUnit[] = [\n  { id: \"OU1\", name: \"Manufacturing Division\", code: \"MFG\", type: \"Division\", parentId: null, employeeCount: 10 },\n  { id: \"OU2\", name: \"Pressline Department\", code: \"PRESS\", type: \"Department\", parentId: \"OU1\", employeeCount: 6 },\n  { id: \"OU3\", name: \"Assembly Department\", code: \"ASSY\", type: \"Department\", parentId: \"OU1\", employeeCount: 2 },\n  { id: \"OU4\", name: \"Quality Department\", code: \"QC\", type: \"Department\", parentId: \"OU1\", employeeCount: 1 },\n  { id: \"OU5\", name: \"Logistics Department\", code: \"LOG\", type: \"Department\", parentId: \"OU1\", employeeCount: 1 },\n];\n\nexport const DEMO_REQUIREMENTS: DemoRequirement[] = [\n  { positionId: \"P1\", skillId: \"SK001\", requiredLevel: 3 },\n  { positionId: \"P1\", skillId: \"SK002\", requiredLevel: 2 },\n  { positionId: \"P1\", skillId: \"SK003\", requiredLevel: 3 },\n  { positionId: \"P1\", skillId: \"SK005\", requiredLevel: 2 },\n  { positionId: \"P2\", skillId: \"SK001\", requiredLevel: 2 },\n  { positionId: \"P2\", skillId: \"SK002\", requiredLevel: 3 },\n  { positionId: \"P2\", skillId: \"SK003\", requiredLevel: 3 },\n  { positionId: \"P3\", skillId: \"SK003\", requiredLevel: 2 },\n  { positionId: \"P3\", skillId: \"SK008\", requiredLevel: 2 },\n  { positionId: \"P4\", skillId: \"SK007\", requiredLevel: 4 },\n  { positionId: \"P4\", skillId: \"SK003\", requiredLevel: 3 },\n  { positionId: \"P5\", skillId: \"SK005\", requiredLevel: 3 },\n  { positionId: \"P5\", skillId: \"SK006\", requiredLevel: 2 },\n];\n\nexport const DEMO_EMPLOYEE_SKILLS: DemoEmployeeSkill[] = [\n  { employeeId: \"E1001\", skillId: \"SK001\", level: 4 },\n  { employeeId: \"E1001\", skillId: \"SK002\", level: 2 },\n  { employeeId: \"E1001\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1001\", skillId: \"SK005\", level: 1 },\n  { employeeId: \"E1002\", skillId: \"SK001\", level: 3 },\n  { employeeId: \"E1002\", skillId: \"SK002\", level: 1 },\n  { employeeId: \"E1002\", skillId: \"SK003\", level: 2 },\n  { employeeId: \"E1002\", skillId: \"SK005\", level: 0 },\n  { employeeId: \"E1003\", skillId: \"SK001\", level: 4 },\n  { employeeId: \"E1003\", skillId: \"SK002\", level: 4 },\n  { employeeId: \"E1003\", skillId: \"SK003\", level: 4 },\n  { employeeId: \"E1003\", skillId: \"SK005\", level: 3 },\n  { employeeId: \"E1004\", skillId: \"SK001\", level: 2 },\n  { employeeId: \"E1004\", skillId: \"SK002\", level: 0 },\n  { employeeId: \"E1004\", skillId: \"SK003\", level: 1 },\n  { employeeId: \"E1004\", skillId: \"SK005\", level: 2 },\n  { employeeId: \"E1005\", skillId: \"SK001\", level: 2 },\n  { employeeId: \"E1005\", skillId: \"SK002\", level: 3 },\n  { employeeId: \"E1005\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1006\", skillId: \"SK001\", level: 3 },\n  { employeeId: \"E1006\", skillId: \"SK002\", level: 4 },\n  { employeeId: \"E1006\", skillId: \"SK003\", level: 4 },\n  { employeeId: \"E1007\", skillId: \"SK007\", level: 4 },\n  { employeeId: \"E1007\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1008\", skillId: \"SK003\", level: 2 },\n  { employeeId: \"E1008\", skillId: \"SK008\", level: 2 },\n  { employeeId: \"E1009\", skillId: \"SK003\", level: 3 },\n  { employeeId: \"E1009\", skillId: \"SK008\", level: 3 },\n  { employeeId: \"E1010\", skillId: \"SK005\", level: 4 },\n  { employeeId: \"E1010\", skillId: \"SK006\", level: 3 },\n];\n\nexport function isDemoMode(): boolean {\n  if (typeof window !== \"undefined\") {\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.get(\"demo\") === \"true\") return true;\n  }\n  return process.env.NEXT_PUBLIC_DEMO_MODE === \"true\";\n}\n\nexport function getDemoMetrics() {\n  const employeesAtRisk = 3;\n  const totalGaps = 5;\n  const criticalGaps = 2;\n  \n  return {\n    totalEmployees: DEMO_EMPLOYEES.length,\n    activeEmployees: DEMO_EMPLOYEES.filter(e => e.isActive).length,\n    totalSkills: DEMO_SKILLS.length,\n    totalPositions: DEMO_POSITIONS.length,\n    totalOrgUnits: DEMO_ORG_UNITS.length,\n    employeesAtRisk,\n    totalGaps,\n    criticalGaps,\n    topGapSkill: \"Truck A1 License\",\n    averageReadiness: 78,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 777, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/SetupProgressCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { CheckCircle2, ArrowRight } from \"lucide-react\";\nimport { COPY } from \"@/lib/copy\";\nimport { isDemoMode, DEMO_EMPLOYEES, DEMO_SKILLS, DEMO_POSITIONS, DEMO_ORG_UNITS } from \"@/lib/demoData\";\n\nconst SETUP_STORAGE_KEY = \"nadiplan_setup_progress\";\n\ninterface SetupProgressCardProps {\n  className?: string;\n}\n\nexport function SetupProgressCard({ className }: SetupProgressCardProps) {\n  const router = useRouter();\n  const [progress, setProgress] = useState<Record<string, boolean>>({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    \n    try {\n      const stored = localStorage.getItem(SETUP_STORAGE_KEY);\n      const storedProgress = stored ? JSON.parse(stored) : {};\n      \n      if (isDemoMode()) {\n        setProgress({\n          orgUnit: DEMO_ORG_UNITS.length >= 1,\n          employees: DEMO_EMPLOYEES.length >= 1,\n          skills: DEMO_SKILLS.length >= 3,\n          positions: DEMO_POSITIONS.length >= 1,\n          gaps: storedProgress.gaps ?? false,\n        });\n      } else {\n        setProgress(storedProgress);\n      }\n    } catch {\n      setProgress({});\n    }\n    setLoading(false);\n  }, []);\n\n  const steps = [\"orgUnit\", \"employees\", \"skills\", \"positions\", \"gaps\"];\n  const completedCount = steps.filter((s) => progress[s]).length;\n  const allComplete = completedCount === steps.length;\n  const progressPercent = (completedCount / steps.length) * 100;\n\n  if (loading) {\n    return (\n      <Card className={className}>\n        <CardContent className=\"py-6\">\n          <div className=\"animate-pulse h-16 bg-gray-200 dark:bg-gray-700 rounded\" />\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (allComplete) {\n    return (\n      <Card className={`border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 ${className}`}>\n        <CardContent className=\"py-4\">\n          <div className=\"flex items-center gap-3\">\n            <CheckCircle2 className=\"h-6 w-6 text-green-600 dark:text-green-400\" />\n            <span className=\"font-medium text-green-700 dark:text-green-300\" data-testid=\"text-setup-complete\">\n              {COPY.setup.complete}\n            </span>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className={className} data-testid=\"card-setup-progress\">\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-center justify-between gap-2 flex-wrap\">\n          <CardTitle className=\"text-lg\">{COPY.setup.title}</CardTitle>\n          <Badge variant=\"secondary\">\n            {completedCount} / {steps.length}\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <Progress value={progressPercent} className=\"mb-4\" />\n        <p className=\"text-sm text-muted-foreground mb-4\">\n          {COPY.setup.description}\n        </p>\n        <Button onClick={() => router.push(\"/app/setup\")} data-testid=\"button-go-to-setup\">\n          Continue Setup\n          <ArrowRight className=\"h-4 w-4 ml-1\" />\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAVA;;;;;;;;;;;AAYA,MAAM,oBAAoB;AAMnB,SAAS,kBAAkB,EAAE,SAAS,EAA0B;IACrE,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAA0B,CAAC;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,wCAAmC;;;IAqBrC,GAAG,EAAE;IAEL,MAAM,QAAQ;QAAC;QAAW;QAAa;QAAU;QAAa;KAAO;IACrE,MAAM,iBAAiB,MAAM,MAAM,CAAC,CAAC,IAAM,QAAQ,CAAC,EAAE,EAAE,MAAM;IAC9D,MAAM,cAAc,mBAAmB,MAAM,MAAM;IACnD,MAAM,kBAAkB,AAAC,iBAAiB,MAAM,MAAM,GAAI;IAE1D,IAAI,SAAS;QACX,qBACE,8OAAC,iIAAI;YAAC,WAAW;sBACf,cAAA,8OAAC,wIAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;IAIvB;IAEA,IAAI,aAAa;QACf,qBACE,8OAAC,iIAAI;YAAC,WAAW,CAAC,wEAAwE,EAAE,WAAW;sBACrG,cAAA,8OAAC,wIAAW;gBAAC,WAAU;0BACrB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qOAAY;4BAAC,WAAU;;;;;;sCACxB,8OAAC;4BAAK,WAAU;4BAAiD,eAAY;sCAC1E,mHAAI,CAAC,KAAK,CAAC,QAAQ;;;;;;;;;;;;;;;;;;;;;;IAMhC;IAEA,qBACE,8OAAC,iIAAI;QAAC,WAAW;QAAW,eAAY;;0BACtC,8OAAC,uIAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,sIAAS;4BAAC,WAAU;sCAAW,mHAAI,CAAC,KAAK,CAAC,KAAK;;;;;;sCAChD,8OAAC,mIAAK;4BAAC,SAAQ;;gCACZ;gCAAe;gCAAI,MAAM,MAAM;;;;;;;;;;;;;;;;;;0BAItC,8OAAC,wIAAW;;kCACV,8OAAC,yIAAQ;wBAAC,OAAO;wBAAiB,WAAU;;;;;;kCAC5C,8OAAC;wBAAE,WAAU;kCACV,mHAAI,CAAC,KAAK,CAAC,WAAW;;;;;;kCAEzB,8OAAC,qIAAM;wBAAC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAAe,eAAY;;4BAAqB;0CAEjF,8OAAC,gOAAU;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKhC"}},
    {"offset": {"line": 980, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/HrDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport Link from \"next/link\";\nimport { \n  Users, \n  AlertTriangle, \n  FileCheck, \n  Workflow,\n  ArrowRight,\n  Plus\n} from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport { SetupProgressCard } from \"@/components/SetupProgressCard\";\n\ntype DashboardData = {\n  totalHeadcount: number;\n  overdueEvents: number;\n  dueSoonEvents: number;\n  expiringContracts: number;\n  openWorkflows: number;\n  riskUnits: { unitName: string; riskIndex: number; criticalCount: number }[];\n};\n\nexport function HrDashboard() {\n  const [data, setData] = useState<DashboardData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadDashboard() {\n      const today = new Date().toISOString().split(\"T\")[0];\n      const thirtyDaysLater = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n      const ninetyDaysLater = new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n\n      const [headcountRes, eventsRes, contractsRes, workflowsRes] = await Promise.all([\n        supabase.from(\"employees\").select(\"id, line\", { count: \"exact\" }).eq(\"is_active\", true),\n        supabase.from(\"person_events\").select(\"id, due_date, category, employees:employee_id(line)\").neq(\"status\", \"completed\"),\n        supabase.from(\"employees\")\n          .select(\"id\")\n          .eq(\"is_active\", true)\n          .eq(\"employment_type\", \"temporary\")\n          .not(\"contract_end_date\", \"is\", null)\n          .lte(\"contract_end_date\", ninetyDaysLater),\n        supabase.from(\"hr_workflow_instances\").select(\"id\", { count: \"exact\" }).eq(\"status\", \"active\"),\n      ]);\n\n      const events = eventsRes.data || [];\n      let overdueCount = 0;\n      let dueSoonCount = 0;\n      const unitRisks: Record<string, { total: number; critical: number }> = {};\n\n      for (const event of events) {\n        if (!event.due_date) continue;\n        const isOverdue = event.due_date < today;\n        const isDueSoon = event.due_date >= today && event.due_date <= thirtyDaysLater;\n        \n        if (isOverdue) overdueCount++;\n        if (isDueSoon) dueSoonCount++;\n\n        const empData = event.employees as unknown as { line?: string } | null;\n        const unitName = empData?.line || \"Unassigned\";\n\n        if (!unitRisks[unitName]) {\n          unitRisks[unitName] = { total: 0, critical: 0 };\n        }\n        unitRisks[unitName].total++;\n        if (isOverdue || isDueSoon) {\n          unitRisks[unitName].critical++;\n        }\n      }\n\n      const employees = headcountRes.data || [];\n      const unitHeadcounts: Record<string, number> = {};\n      for (const emp of employees) {\n        const unit = emp.line || \"Unassigned\";\n        unitHeadcounts[unit] = (unitHeadcounts[unit] || 0) + 1;\n      }\n\n      const riskUnits = Object.entries(unitRisks)\n        .map(([unitName, r]) => ({\n          unitName,\n          riskIndex: unitHeadcounts[unitName] ? r.critical / unitHeadcounts[unitName] : 0,\n          criticalCount: r.critical,\n        }))\n        .sort((a, b) => b.riskIndex - a.riskIndex)\n        .slice(0, 5);\n\n      setData({\n        totalHeadcount: headcountRes.count || 0,\n        overdueEvents: overdueCount,\n        dueSoonEvents: dueSoonCount,\n        expiringContracts: contractsRes.data?.length || 0,\n        openWorkflows: workflowsRes.count || 0,\n        riskUnits,\n      });\n      setLoading(false);\n    }\n    loadDashboard();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {[1, 2, 3, 4].map((i) => (\n          <Card key={i}>\n            <CardContent className=\"pt-6\">\n              <div className=\"animate-pulse space-y-3\">\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24\" />\n                <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16\" />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  if (!data) return null;\n\n  return (\n    <div className=\"space-y-6\">\n      <SetupProgressCard className=\"mb-2\" />\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card data-testid=\"card-headcount\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Active Headcount</p>\n                <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">{data.totalHeadcount}</p>\n              </div>\n              <Users className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-compliance\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Compliance Risk</p>\n                <div className=\"flex items-center gap-2 mt-1\">\n                  <span className=\"text-3xl font-bold text-red-600 dark:text-red-400\">{data.overdueEvents}</span>\n                  <span className=\"text-sm text-gray-400\">+{data.dueSoonEvents} soon</span>\n                </div>\n              </div>\n              <AlertTriangle className=\"h-8 w-8 text-red-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-contracts\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Contracts Ending</p>\n                <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-1\">{data.expiringContracts}</p>\n                <p className=\"text-xs text-gray-400 mt-1\">Next 90 days</p>\n              </div>\n              <FileCheck className=\"h-8 w-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-workflows\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Open Workflows</p>\n                <p className=\"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-1\">{data.openWorkflows}</p>\n              </div>\n              <Workflow className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base\">Quick Actions</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <Link href=\"/app/hr/workflows?action=start&template=sick_leave\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Sick Leave Follow-up\n                </Button>\n              </Link>\n              <Link href=\"/app/hr/workflows?action=start&template=rehab\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Rehab Process\n                </Button>\n              </Link>\n              <Link href=\"/app/hr/workflows?action=start&template=parental_leave\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Parental Leave\n                </Button>\n              </Link>\n              <Link href=\"/app/hr/workflows?action=start&template=reboarding\">\n                <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                  <Plus className=\"h-4 w-4\" />\n                  Reboarding\n                </Button>\n              </Link>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between gap-4\">\n              <CardTitle className=\"text-base\">Top Risk Units</CardTitle>\n              <Link href=\"/app/hr/analytics\">\n                <Button variant=\"ghost\" size=\"sm\">\n                  View All <ArrowRight className=\"ml-1 h-4 w-4\" />\n                </Button>\n              </Link>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.riskUnits.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No risk data available</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.riskUnits.map((unit) => (\n                  <div key={unit.unitName} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">{unit.unitName}</span>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm text-gray-500\">{unit.criticalCount} events</span>\n                      <Badge \n                        variant={unit.riskIndex >= 0.5 ? \"destructive\" : unit.riskIndex >= 0.2 ? \"default\" : \"secondary\"}\n                      >\n                        {(unit.riskIndex * 100).toFixed(0)}%\n                      </Badge>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1668, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/ManagerDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport Link from \"next/link\";\nimport { Users, ClipboardList, Calendar, ArrowRight } from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport type { CurrentUser } from \"@/lib/auth\";\n\ntype ManagerDashboardData = {\n  teamHeadcount: number;\n  openTasks: number;\n  upcomingMeetings: number;\n  criticalItems: { id: string; title: string; employeeName: string; dueDate: string; isOverdue: boolean }[];\n  meetings: { id: string; employeeName: string; scheduledAt: string; status: string }[];\n};\n\nexport function ManagerDashboard({ user }: { user: CurrentUser }) {\n  const [data, setData] = useState<ManagerDashboardData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadDashboard() {\n      if (!user.employeeId) {\n        setLoading(false);\n        return;\n      }\n\n      const today = new Date().toISOString().split(\"T\")[0];\n      const fourteenDaysLater = new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n\n      const [teamRes, eventsRes, meetingsRes] = await Promise.all([\n        supabase.from(\"employees\").select(\"id, name\", { count: \"exact\" }).eq(\"manager_id\", user.employeeId).eq(\"is_active\", true),\n        supabase.from(\"person_events\")\n          .select(\"id, title, due_date, employees:employee_id(name)\")\n          .eq(\"owner_manager_id\", user.employeeId)\n          .neq(\"status\", \"completed\")\n          .order(\"due_date\"),\n        supabase.from(\"one_to_one_meetings\")\n          .select(\"id, scheduled_at, status, employees:employee_id(name)\")\n          .eq(\"manager_id\", user.employeeId)\n          .in(\"status\", [\"planned\", \"in_progress\"])\n          .gte(\"scheduled_at\", today)\n          .lte(\"scheduled_at\", fourteenDaysLater)\n          .order(\"scheduled_at\"),\n      ]);\n\n      const events = eventsRes.data || [];\n      const criticalItems = events\n        .filter((e) => e.due_date)\n        .map((e) => {\n          const empData = e.employees as unknown as { name?: string } | null;\n          return {\n            id: e.id,\n            title: e.title,\n            employeeName: empData?.name || \"Unknown\",\n            dueDate: e.due_date,\n            isOverdue: e.due_date < today,\n          };\n        })\n        .slice(0, 5);\n\n      const meetings = (meetingsRes.data || []).map((m) => {\n        const empData = m.employees as unknown as { name?: string } | null;\n        return {\n          id: m.id,\n          employeeName: empData?.name || \"Unknown\",\n          scheduledAt: m.scheduled_at,\n          status: m.status,\n        };\n      }).slice(0, 5);\n\n      setData({\n        teamHeadcount: teamRes.count || 0,\n        openTasks: events.length,\n        upcomingMeetings: meetingsRes.data?.length || 0,\n        criticalItems,\n        meetings,\n      });\n      setLoading(false);\n    }\n    loadDashboard();\n  }, [user.employeeId]);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {[1, 2, 3].map((i) => (\n          <Card key={i}>\n            <CardContent className=\"pt-6\">\n              <div className=\"animate-pulse space-y-3\">\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24\" />\n                <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16\" />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <p className=\"text-gray-500 dark:text-gray-400\">No manager data available. Please ensure your account is linked to an employee profile.</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card data-testid=\"card-team-headcount\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">My Team</p>\n                <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">{data.teamHeadcount}</p>\n              </div>\n              <Users className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-open-tasks\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Open Tasks</p>\n                <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-1\">{data.openTasks}</p>\n              </div>\n              <ClipboardList className=\"h-8 w-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-upcoming-meetings\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Upcoming 1:1s</p>\n                <p className=\"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-1\">{data.upcomingMeetings}</p>\n                <p className=\"text-xs text-gray-400 mt-1\">Next 14 days</p>\n              </div>\n              <Calendar className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between gap-4\">\n              <CardTitle className=\"text-base\">Critical Items</CardTitle>\n              <Link href=\"/app/manager/risks\">\n                <Button variant=\"ghost\" size=\"sm\">\n                  View All <ArrowRight className=\"ml-1 h-4 w-4\" />\n                </Button>\n              </Link>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.criticalItems.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No critical items</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.criticalItems.map((item) => (\n                  <div key={item.id} className=\"flex items-start justify-between gap-4\">\n                    <div className=\"min-w-0 flex-1\">\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">{item.title}</p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">{item.employeeName}</p>\n                    </div>\n                    <Badge variant={item.isOverdue ? \"destructive\" : \"default\"}>\n                      {item.isOverdue ? \"Overdue\" : item.dueDate}\n                    </Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between gap-4\">\n              <CardTitle className=\"text-base\">My 1:1 Meetings</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.meetings.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No upcoming meetings</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.meetings.map((meeting) => (\n                  <Link key={meeting.id} href={`/app/one-to-ones/${meeting.id}`}>\n                    <div className=\"flex items-center justify-between gap-4 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900 dark:text-white\">{meeting.employeeName}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                          {new Date(meeting.scheduledAt).toLocaleDateString(\"sv-SE\")}\n                        </p>\n                      </div>\n                      <Badge variant=\"secondary\">{meeting.status}</Badge>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2235, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/EmployeeDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { GraduationCap, Calendar, ClipboardList, FileText, Award } from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport type { CurrentUser } from \"@/lib/auth\";\n\ntype EmployeeDashboardData = {\n  upcomingTrainings: number;\n  nextMeeting: { id: string; scheduledAt: string; managerName: string } | null;\n  openTasks: number;\n  recentDocuments: { id: string; title: string; type: string }[];\n  topSkills: { skillName: string; level: number }[];\n};\n\nexport function EmployeeDashboard({ user }: { user: CurrentUser }) {\n  const [data, setData] = useState<EmployeeDashboardData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadDashboard() {\n      if (!user.employeeId) {\n        setLoading(false);\n        return;\n      }\n\n      const today = new Date().toISOString().split(\"T\")[0];\n\n      const [trainingsRes, meetingRes, tasksRes, docsRes, skillsRes] = await Promise.all([\n        supabase.from(\"person_events\")\n          .select(\"id\", { count: \"exact\" })\n          .eq(\"employee_id\", user.employeeId)\n          .in(\"category\", [\"training\", \"certificate\"])\n          .neq(\"status\", \"completed\")\n          .gte(\"due_date\", today),\n        supabase.from(\"one_to_one_meetings\")\n          .select(\"id, scheduled_at, manager:manager_id(name)\")\n          .eq(\"employee_id\", user.employeeId)\n          .in(\"status\", [\"planned\", \"in_progress\"])\n          .gte(\"scheduled_at\", today)\n          .order(\"scheduled_at\")\n          .limit(1),\n        supabase.from(\"person_events\")\n          .select(\"id\", { count: \"exact\" })\n          .eq(\"employee_id\", user.employeeId)\n          .neq(\"status\", \"completed\"),\n        supabase.from(\"documents\")\n          .select(\"id, title, type\")\n          .eq(\"employee_id\", user.employeeId)\n          .order(\"created_at\", { ascending: false })\n          .limit(3),\n        supabase.from(\"employee_skills\")\n          .select(\"level, skills(name)\")\n          .eq(\"employee_id\", user.employeeId)\n          .order(\"level\", { ascending: false })\n          .limit(5),\n      ]);\n\n      const meetingData = meetingRes.data?.[0];\n      let nextMeeting = null;\n      if (meetingData) {\n        const mgrData = meetingData.manager as unknown as { name?: string } | null;\n        nextMeeting = {\n          id: meetingData.id,\n          scheduledAt: meetingData.scheduled_at,\n          managerName: mgrData?.name || \"Unknown\",\n        };\n      }\n\n      const topSkills = (skillsRes.data || []).map((s) => {\n        const skillInfo = s.skills as unknown as { name: string } | null;\n        return {\n          skillName: skillInfo?.name || \"Unknown\",\n          level: s.level as number,\n        };\n      });\n\n      setData({\n        upcomingTrainings: trainingsRes.count || 0,\n        nextMeeting,\n        openTasks: tasksRes.count || 0,\n        recentDocuments: docsRes.data || [],\n        topSkills,\n      });\n      setLoading(false);\n    }\n    loadDashboard();\n  }, [user.employeeId]);\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {[1, 2, 3].map((i) => (\n          <Card key={i}>\n            <CardContent className=\"pt-6\">\n              <div className=\"animate-pulse space-y-3\">\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24\" />\n                <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16\" />\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <p className=\"text-gray-500 dark:text-gray-400\">No employee data available. Please ensure your account is linked to an employee profile.</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const levelLabels = [\"None\", \"Basic\", \"Intermediate\", \"Advanced\", \"Expert\"];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card data-testid=\"card-trainings\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Upcoming Trainings</p>\n                <p className=\"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-1\">{data.upcomingTrainings}</p>\n              </div>\n              <GraduationCap className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-next-meeting\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Next 1:1</p>\n                {data.nextMeeting ? (\n                  <>\n                    <p className=\"text-lg font-bold text-gray-900 dark:text-white mt-1\">\n                      {new Date(data.nextMeeting.scheduledAt).toLocaleDateString(\"sv-SE\")}\n                    </p>\n                    <p className=\"text-xs text-gray-400\">with {data.nextMeeting.managerName}</p>\n                  </>\n                ) : (\n                  <p className=\"text-sm text-gray-400 mt-1\">None scheduled</p>\n                )}\n              </div>\n              <Calendar className=\"h-8 w-8 text-purple-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-tasks\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Open Tasks</p>\n                <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-1\">{data.openTasks}</p>\n              </div>\n              <ClipboardList className=\"h-8 w-8 text-orange-500\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <FileText className=\"h-4 w-4 text-gray-400\" />\n              <CardTitle className=\"text-base\">My Documents</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.recentDocuments.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No documents available</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.recentDocuments.map((doc) => (\n                  <div key={doc.id} className=\"flex items-center justify-between gap-4\">\n                    <span className=\"text-sm text-gray-900 dark:text-white truncate\">{doc.title}</span>\n                    <Badge variant=\"secondary\">{doc.type}</Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <Award className=\"h-4 w-4 text-gray-400\" />\n              <CardTitle className=\"text-base\">My Competencies</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            {data.topSkills.length === 0 ? (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No competencies recorded</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {data.topSkills.map((skill, index) => (\n                  <div key={index} className=\"flex items-center justify-between gap-4\">\n                    <span className=\"text-sm text-gray-900 dark:text-white\">{skill.skillName}</span>\n                    <Badge variant=\"default\">{levelLabels[skill.level] || `Level ${skill.level}`}</Badge>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2778, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { getCurrentUser, type CurrentUser } from \"@/lib/auth\";\nimport { HrDashboard } from \"@/components/dashboard/HrDashboard\";\nimport { ManagerDashboard } from \"@/components/dashboard/ManagerDashboard\";\nimport { EmployeeDashboard } from \"@/components/dashboard/EmployeeDashboard\";\n\nexport default function DashboardPage() {\n  const [user, setUser] = useState<CurrentUser | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getCurrentUser().then((u) => {\n      setUser(u);\n      setLoading(false);\n    });\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-48\" />\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"h-32 bg-gray-200 dark:bg-gray-700 rounded\" />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return \"Good morning\";\n    if (hour < 18) return \"Good afternoon\";\n    return \"Good evening\";\n  };\n\n  const getRoleLabel = () => {\n    switch (user?.role) {\n      case \"HR_ADMIN\":\n        return \"HR Administrator\";\n      case \"MANAGER\":\n        return \"Manager\";\n      case \"EMPLOYEE\":\n        return \"Employee\";\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <div className=\"p-8\" data-testid=\"dashboard-page\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n          {getGreeting()}\n        </h1>\n        <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\n          {getRoleLabel()} Dashboard\n        </p>\n      </div>\n\n      {user?.role === \"HR_ADMIN\" && <HrDashboard />}\n      {user?.role === \"MANAGER\" && <ManagerDashboard user={user} />}\n      {user?.role === \"EMPLOYEE\" && <EmployeeDashboard user={user} />}\n      {!user?.role && (\n        <div className=\"text-center py-12 text-gray-500 dark:text-gray-400\">\n          Unable to determine user role. Please contact support.\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAqB;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAA,6HAAc,IAAG,IAAI,CAAC,CAAC;YACrB,QAAQ;YACR,WAAW;QACb;IACF,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACjB,8OAAC;gCAAY,WAAU;+BAAb;;;;;;;;;;;;;;;;;;;;;IAMtB;IAEA,MAAM,cAAc;QAClB,MAAM,OAAO,IAAI,OAAO,QAAQ;QAChC,IAAI,OAAO,IAAI,OAAO;QACtB,IAAI,OAAO,IAAI,OAAO;QACtB,OAAO;IACT;IAEA,MAAM,eAAe;QACnB,OAAQ,MAAM;YACZ,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAM,eAAY;;0BAC/B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX;;;;;;kCAEH,8OAAC;wBAAE,WAAU;;4BACV;4BAAe;;;;;;;;;;;;;YAInB,MAAM,SAAS,4BAAc,8OAAC,sJAAW;;;;;YACzC,MAAM,SAAS,2BAAa,8OAAC,gKAAgB;gBAAC,MAAM;;;;;;YACpD,MAAM,SAAS,4BAAc,8OAAC,kKAAiB;gBAAC,MAAM;;;;;;YACtD,CAAC,MAAM,sBACN,8OAAC;gBAAI,WAAU;0BAAqD;;;;;;;;;;;;AAM5E"}}]
}