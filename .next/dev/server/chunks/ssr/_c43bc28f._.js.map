{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/hrWorkflows.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\nimport type { \n  HRWorkflowTemplate, \n  HRWorkflowTemplateId, \n  HRWorkflowInstance, \n  HRWorkflowStep,\n  HRWorkflowStatus \n} from \"@/types/domain\";\n\nexport const WORKFLOW_TEMPLATES: HRWorkflowTemplate[] = [\n  {\n    id: \"sick_leave\",\n    name: \"Sick Leave Follow-up\",\n    description: \"Structured follow-up process for employees on sick leave according to Swedish labor law\",\n    category: \"health\",\n    defaultSteps: [\n      { title: \"Day 1 Contact\", description: \"Manager contacts employee to check in\", daysFromStart: 1, responsibleRole: \"manager\" },\n      { title: \"Week 1 Review\", description: \"Assess if return-to-work plan needed\", daysFromStart: 7, responsibleRole: \"hr\" },\n      { title: \"Day 14 Coordination\", description: \"Evaluate need for rehab coordination with Försäkringskassan\", daysFromStart: 14, responsibleRole: \"hr\" },\n      { title: \"Day 30 Meeting\", description: \"Formal meeting to discuss return or continued leave\", daysFromStart: 30, responsibleRole: \"manager\" },\n      { title: \"Day 60 Rehab Plan\", description: \"If applicable, create detailed rehabilitation plan\", daysFromStart: 60, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"rehab\",\n    name: \"Rehabilitation Process\",\n    description: \"Comprehensive rehabilitation plan for returning employees to full capacity\",\n    category: \"health\",\n    defaultSteps: [\n      { title: \"Initial Assessment\", description: \"Assess current capacity and restrictions\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Doctor Consultation\", description: \"Review medical recommendations\", daysFromStart: 3, responsibleRole: \"hr\" },\n      { title: \"Workplace Adjustment\", description: \"Implement necessary workplace adjustments\", daysFromStart: 7, responsibleRole: \"manager\" },\n      { title: \"Week 2 Check-in\", description: \"Review progress and adjust if needed\", daysFromStart: 14, responsibleRole: \"manager\" },\n      { title: \"Week 4 Evaluation\", description: \"Formal evaluation of rehab progress\", daysFromStart: 28, responsibleRole: \"hr\" },\n      { title: \"Completion Review\", description: \"Final assessment and closure\", daysFromStart: 56, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"parental_leave\",\n    name: \"Parental Leave\",\n    description: \"Manage parental leave transitions smoothly for both departure and return\",\n    category: \"leave\",\n    defaultSteps: [\n      { title: \"Notification Received\", description: \"Record parental leave request and planned dates\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Handover Planning\", description: \"Plan work handover and coverage\", daysFromStart: 7, responsibleRole: \"manager\" },\n      { title: \"Backfill Decision\", description: \"Determine if temporary replacement needed\", daysFromStart: 14, responsibleRole: \"hr\" },\n      { title: \"Pre-departure Meeting\", description: \"Final handover meeting before leave\", daysFromStart: -7, responsibleRole: \"manager\" },\n      { title: \"Return Contact\", description: \"Contact employee 30 days before planned return\", daysFromStart: -30, responsibleRole: \"hr\" },\n      { title: \"Return Planning\", description: \"Plan reboarding activities\", daysFromStart: -14, responsibleRole: \"manager\" },\n    ],\n  },\n  {\n    id: \"reboarding\",\n    name: \"Reboarding\",\n    description: \"Re-integrate employees returning from extended leave\",\n    category: \"lifecycle\",\n    defaultSteps: [\n      { title: \"Welcome Back Meeting\", description: \"Discuss changes and expectations\", daysFromStart: 0, responsibleRole: \"manager\" },\n      { title: \"System Access Check\", description: \"Verify all system access is active\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Training Update\", description: \"Review and schedule any required training updates\", daysFromStart: 3, responsibleRole: \"manager\" },\n      { title: \"Week 1 Check-in\", description: \"Discuss how re-integration is going\", daysFromStart: 7, responsibleRole: \"manager\" },\n      { title: \"30-day Review\", description: \"Formal review of reboarding success\", daysFromStart: 30, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"onboarding\",\n    name: \"New Employee Onboarding\",\n    description: \"Standard onboarding process for new employees\",\n    category: \"lifecycle\",\n    defaultSteps: [\n      { title: \"Pre-start Preparation\", description: \"Prepare equipment, accounts, and workspace\", daysFromStart: -7, responsibleRole: \"hr\" },\n      { title: \"Day 1 Welcome\", description: \"Welcome meeting and office tour\", daysFromStart: 0, responsibleRole: \"manager\" },\n      { title: \"HR Introduction\", description: \"Policies, benefits, and compliance training\", daysFromStart: 1, responsibleRole: \"hr\" },\n      { title: \"Week 1 Check-in\", description: \"Review first week experience\", daysFromStart: 5, responsibleRole: \"manager\" },\n      { title: \"30-day Review\", description: \"Formal review of onboarding progress\", daysFromStart: 30, responsibleRole: \"manager\" },\n      { title: \"90-day Review\", description: \"End of probation review\", daysFromStart: 90, responsibleRole: \"hr\" },\n    ],\n  },\n  {\n    id: \"offboarding\",\n    name: \"Employee Offboarding\",\n    description: \"Standard offboarding process for departing employees\",\n    category: \"lifecycle\",\n    defaultSteps: [\n      { title: \"Exit Notice Received\", description: \"Document resignation or termination details\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Handover Planning\", description: \"Plan knowledge transfer and handover\", daysFromStart: 1, responsibleRole: \"manager\" },\n      { title: \"Exit Interview Scheduled\", description: \"Schedule exit interview if applicable\", daysFromStart: 7, responsibleRole: \"hr\" },\n      { title: \"Equipment Return\", description: \"Collect company equipment and access cards\", daysFromStart: -2, responsibleRole: \"hr\" },\n      { title: \"Final Day Procedures\", description: \"System access revocation, final paperwork\", daysFromStart: 0, responsibleRole: \"hr\" },\n      { title: \"Post-departure Cleanup\", description: \"Archive data, update org charts\", daysFromStart: 1, responsibleRole: \"hr\" },\n    ],\n  },\n];\n\nexport function getWorkflowTemplates(): HRWorkflowTemplate[] {\n  return WORKFLOW_TEMPLATES;\n}\n\nexport function getTemplateById(id: HRWorkflowTemplateId): HRWorkflowTemplate | undefined {\n  return WORKFLOW_TEMPLATES.find((t) => t.id === id);\n}\n\nexport async function startWorkflow(\n  templateId: HRWorkflowTemplateId,\n  employeeId: string,\n  createdBy?: string,\n  notes?: string\n): Promise<HRWorkflowInstance | null> {\n  const template = getTemplateById(templateId);\n  if (!template) return null;\n\n  const { data: employee } = await supabase\n    .from(\"employees\")\n    .select(\"name\")\n    .eq(\"id\", employeeId)\n    .single();\n\n  const now = new Date();\n  const steps: HRWorkflowStep[] = template.defaultSteps.map((step, index) => ({\n    id: `step-${index + 1}`,\n    title: step.title,\n    description: step.description,\n    daysFromStart: step.daysFromStart,\n    responsibleRole: step.responsibleRole,\n    isCompleted: false,\n  }));\n\n  const maxDays = Math.max(...template.defaultSteps.map((s) => s.daysFromStart));\n  const dueDate = new Date(now.getTime() + maxDays * 24 * 60 * 60 * 1000);\n\n  const instanceData = {\n    template_id: templateId,\n    template_name: template.name,\n    employee_id: employeeId,\n    employee_name: employee?.name || null,\n    started_at: now.toISOString(),\n    due_date: dueDate.toISOString().split(\"T\")[0],\n    status: \"active\" as HRWorkflowStatus,\n    steps: steps,\n    created_by: createdBy || null,\n    notes: notes || null,\n  };\n\n  const { data, error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .insert(instanceData)\n    .select()\n    .single();\n\n  if (error || !data) {\n    console.error(\"Failed to start workflow:\", error);\n    return null;\n  }\n\n  return mapInstanceFromDb(data);\n}\n\nexport async function getWorkflowInstances(\n  filters?: { status?: HRWorkflowStatus; employeeId?: string; templateId?: string }\n): Promise<HRWorkflowInstance[]> {\n  let query = supabase\n    .from(\"hr_workflow_instances\")\n    .select(\"*\")\n    .order(\"started_at\", { ascending: false });\n\n  if (filters?.status) {\n    query = query.eq(\"status\", filters.status);\n  }\n  if (filters?.employeeId) {\n    query = query.eq(\"employee_id\", filters.employeeId);\n  }\n  if (filters?.templateId) {\n    query = query.eq(\"template_id\", filters.templateId);\n  }\n\n  const { data, error } = await query;\n  if (error || !data) return [];\n\n  return data.map(mapInstanceFromDb);\n}\n\nexport async function getWorkflowById(id: string): Promise<HRWorkflowInstance | null> {\n  const { data, error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .select(\"*\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error || !data) return null;\n  return mapInstanceFromDb(data);\n}\n\nexport async function completeWorkflowStep(\n  instanceId: string,\n  stepId: string,\n  completedBy?: string,\n  notes?: string\n): Promise<boolean> {\n  const instance = await getWorkflowById(instanceId);\n  if (!instance) return false;\n\n  const updatedSteps = instance.steps.map((step) => {\n    if (step.id === stepId) {\n      return {\n        ...step,\n        isCompleted: true,\n        completedAt: new Date().toISOString(),\n        completedBy,\n        notes,\n      };\n    }\n    return step;\n  });\n\n  const allCompleted = updatedSteps.every((s) => s.isCompleted);\n\n  const { error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .update({\n      steps: updatedSteps,\n      status: allCompleted ? \"completed\" : \"active\",\n      completed_at: allCompleted ? new Date().toISOString() : null,\n    })\n    .eq(\"id\", instanceId);\n\n  return !error;\n}\n\nexport async function cancelWorkflow(instanceId: string): Promise<boolean> {\n  const { error } = await supabase\n    .from(\"hr_workflow_instances\")\n    .update({ status: \"cancelled\" })\n    .eq(\"id\", instanceId);\n\n  return !error;\n}\n\nfunction mapInstanceFromDb(row: Record<string, unknown>): HRWorkflowInstance {\n  return {\n    id: row.id as string,\n    templateId: row.template_id as HRWorkflowTemplateId,\n    templateName: row.template_name as string,\n    employeeId: row.employee_id as string,\n    employeeName: row.employee_name as string | undefined,\n    startedAt: row.started_at as string,\n    dueDate: row.due_date as string | undefined,\n    status: row.status as HRWorkflowStatus,\n    steps: (row.steps as HRWorkflowStep[]) || [],\n    createdBy: row.created_by as string | undefined,\n    completedAt: row.completed_at as string | undefined,\n    notes: row.notes as string | undefined,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/hrTasks.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\nimport { getWorkflowInstances, WORKFLOW_TEMPLATES } from \"./hrWorkflows\";\nimport type { HRWorkflowInstance } from \"@/types/domain\";\n\nexport type HrTask = {\n  id: string;\n  stepTitle: string;\n  status: string;\n  dueDate: string | null;\n  workflowInstanceId: string;\n  workflowName: string;\n  workflowCategory: string | null;\n  employeeId: string | null;\n  employeeName: string | null;\n};\n\nexport type HrTaskBuckets = {\n  overdue: HrTask[];\n  today: HrTask[];\n  upcoming: HrTask[];\n};\n\nfunction normalize(d: string) {\n  return new Date(`${d}T00:00:00`);\n}\n\nexport async function getHrTaskBuckets(): Promise<HrTaskBuckets> {\n  const instances = await getWorkflowInstances({ status: \"active\" });\n  \n  const today = new Date();\n  const todayStr = today.toISOString().slice(0, 10);\n  const todayDate = new Date(`${todayStr}T00:00:00`);\n  const sevenDaysAhead = new Date(todayDate);\n  sevenDaysAhead.setDate(sevenDaysAhead.getDate() + 7);\n\n  const overdue: HrTask[] = [];\n  const todayBucket: HrTask[] = [];\n  const upcoming: HrTask[] = [];\n\n  for (const instance of instances) {\n    const template = WORKFLOW_TEMPLATES.find((t) => t.id === instance.templateId);\n    \n    for (const step of instance.steps) {\n      if (step.isCompleted) continue;\n\n      const dueDate = instance.startedAt\n        ? calculateStepDueDate(instance.startedAt, step.daysFromStart)\n        : null;\n\n      const task: HrTask = {\n        id: step.id,\n        stepTitle: step.title,\n        status: step.isCompleted ? \"done\" : \"not_started\",\n        dueDate,\n        workflowInstanceId: instance.id,\n        workflowName: instance.templateName || template?.name || \"Workflow\",\n        workflowCategory: template?.category || null,\n        employeeId: instance.employeeId,\n        employeeName: instance.employeeName || null,\n      };\n\n      if (!dueDate) continue;\n\n      const due = normalize(dueDate);\n\n      if (due < todayDate) {\n        overdue.push(task);\n      } else if (due.getTime() === todayDate.getTime()) {\n        todayBucket.push(task);\n      } else if (due > todayDate && due <= sevenDaysAhead) {\n        upcoming.push(task);\n      }\n    }\n  }\n\n  overdue.sort((a, b) => (a.dueDate || \"\").localeCompare(b.dueDate || \"\"));\n  todayBucket.sort((a, b) => a.stepTitle.localeCompare(b.stepTitle));\n  upcoming.sort((a, b) => (a.dueDate || \"\").localeCompare(b.dueDate || \"\"));\n\n  return {\n    overdue,\n    today: todayBucket,\n    upcoming,\n  };\n}\n\nfunction calculateStepDueDate(startDate: string, daysFromStart: number): string {\n  const start = new Date(startDate);\n  start.setDate(start.getDate() + daysFromStart);\n  return start.toISOString().slice(0, 10);\n}\n"],"names":[],"mappings":";;;;AACA;;AAqBA,SAAS,UAAU,CAAS;IAC1B,OAAO,IAAI,KAAK,GAAG,EAAE,SAAS,CAAC;AACjC;AAEO,eAAe;IACpB,MAAM,YAAY,MAAM,IAAA,+IAAoB,EAAC;QAAE,QAAQ;IAAS;IAEhE,MAAM,QAAQ,IAAI;IAClB,MAAM,WAAW,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG;IAC9C,MAAM,YAAY,IAAI,KAAK,GAAG,SAAS,SAAS,CAAC;IACjD,MAAM,iBAAiB,IAAI,KAAK;IAChC,eAAe,OAAO,CAAC,eAAe,OAAO,KAAK;IAElD,MAAM,UAAoB,EAAE;IAC5B,MAAM,cAAwB,EAAE;IAChC,MAAM,WAAqB,EAAE;IAE7B,KAAK,MAAM,YAAY,UAAW;QAChC,MAAM,WAAW,6IAAkB,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,SAAS,UAAU;QAE5E,KAAK,MAAM,QAAQ,SAAS,KAAK,CAAE;YACjC,IAAI,KAAK,WAAW,EAAE;YAEtB,MAAM,UAAU,SAAS,SAAS,GAC9B,qBAAqB,SAAS,SAAS,EAAE,KAAK,aAAa,IAC3D;YAEJ,MAAM,OAAe;gBACnB,IAAI,KAAK,EAAE;gBACX,WAAW,KAAK,KAAK;gBACrB,QAAQ,KAAK,WAAW,GAAG,SAAS;gBACpC;gBACA,oBAAoB,SAAS,EAAE;gBAC/B,cAAc,SAAS,YAAY,IAAI,UAAU,QAAQ;gBACzD,kBAAkB,UAAU,YAAY;gBACxC,YAAY,SAAS,UAAU;gBAC/B,cAAc,SAAS,YAAY,IAAI;YACzC;YAEA,IAAI,CAAC,SAAS;YAEd,MAAM,MAAM,UAAU;YAEtB,IAAI,MAAM,WAAW;gBACnB,QAAQ,IAAI,CAAC;YACf,OAAO,IAAI,IAAI,OAAO,OAAO,UAAU,OAAO,IAAI;gBAChD,YAAY,IAAI,CAAC;YACnB,OAAO,IAAI,MAAM,aAAa,OAAO,gBAAgB;gBACnD,SAAS,IAAI,CAAC;YAChB;QACF;IACF;IAEA,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,OAAO,IAAI,EAAE,EAAE,aAAa,CAAC,EAAE,OAAO,IAAI;IACpE,YAAY,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,CAAC,aAAa,CAAC,EAAE,SAAS;IAChE,SAAS,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,OAAO,IAAI,EAAE,EAAE,aAAa,CAAC,EAAE,OAAO,IAAI;IAErE,OAAO;QACL;QACA,OAAO;QACP;IACF;AACF;AAEA,SAAS,qBAAqB,SAAiB,EAAE,aAAqB;IACpE,MAAM,QAAQ,IAAI,KAAK;IACvB,MAAM,OAAO,CAAC,MAAM,OAAO,KAAK;IAChC,OAAO,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG;AACtC"}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/hooks/useAuthGuard.ts"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { getAuthUser } from '@/services/auth';\n\nexport function useAuthGuard() {\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function check() {\n      try {\n        const user = await getAuthUser();\n        if (!user && isMounted) {\n          router.replace('/login');\n        } else if (isMounted) {\n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error checking auth', err);\n        if (isMounted) {\n          router.replace('/login');\n        }\n      }\n    }\n\n    check();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [router]);\n\n  return { loading };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;AAMO,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAEhB,eAAe;YACb,IAAI;gBACF,MAAM,OAAO,MAAM,IAAA,+HAAW;gBAC9B,IAAI,CAAC,QAAQ,WAAW;oBACtB,OAAO,OAAO,CAAC;gBACjB,OAAO,IAAI,WAAW;oBACpB,WAAW;gBACb;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,IAAI,WAAW;oBACb,OAAO,OAAO,CAAC;gBACjB;YACF;QACF;QAEA;QAEA,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;KAAO;IAEX,OAAO;QAAE;IAAQ;AACnB"}},
    {"offset": {"line": 601, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/hr/tasks/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertTriangle } from \"lucide-react\";\nimport { getCurrentUser } from \"@/lib/auth\";\nimport { getHrTaskBuckets, HrTaskBuckets, HrTask } from \"@/services/hrTasks\";\nimport { useAuthGuard } from \"@/hooks/useAuthGuard\";\n\nexport default function HrTasksPage() {\n  const { loading: authLoading } = useAuthGuard();\n\n  if (authLoading) {\n    return (\n      <main className=\"hr-page\">\n        <p>Checking access...</p>\n      </main>\n    );\n  }\n\n  return <HrTasksContent />;\n}\n\nfunction HrTasksContent() {\n  const [buckets, setBuckets] = useState<HrTaskBuckets | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [authorized, setAuthorized] = useState(true);\n\n  useEffect(() => {\n    async function load() {\n      const user = await getCurrentUser();\n      if (!user || user.role !== \"HR_ADMIN\") {\n        setAuthorized(false);\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const data = await getHrTaskBuckets();\n        setBuckets(data);\n      } catch (err) {\n        console.error(err);\n        setError(\"Could not load HR tasks.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    load();\n  }, []);\n\n  const totalTasks =\n    (buckets?.overdue.length ?? 0) +\n    (buckets?.today.length ?? 0) +\n    (buckets?.upcoming.length ?? 0);\n\n  if (loading) {\n    return (\n      <main className=\"hr-page\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3\" />\n          <div className=\"hr-kpi-grid\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"h-20 bg-gray-200 dark:bg-gray-700 rounded-xl\" />\n            ))}\n          </div>\n          <div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\" />\n        </div>\n      </main>\n    );\n  }\n\n  if (!authorized) {\n    return (\n      <main className=\"hr-page\">\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">Access Denied</h2>\n            <p className=\"text-gray-500 dark:text-gray-400\">\n              This page is only accessible to HR Administrators.\n            </p>\n          </CardContent>\n        </Card>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"hr-page\" data-testid=\"hr-tasks-page\">\n      <header className=\"hr-page__header\">\n        <div>\n          <h1 className=\"hr-page__title\">HR Tasks</h1>\n          <p className=\"hr-page__subtitle\">\n            All open workflow steps, sorted by urgency - overdue, today and the coming week.\n          </p>\n        </div>\n      </header>\n\n      {error && <p className=\"hr-error\">{error}</p>}\n\n      {!error && buckets && (\n        <>\n          <section className=\"hr-kpi-grid\" data-testid=\"kpi-grid\">\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Active tasks</div>\n              <div className=\"hr-kpi__value\" data-testid=\"kpi-active\">{totalTasks}</div>\n            </div>\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Overdue</div>\n              <div className=\"hr-kpi__value hr-kpi__value--danger\" data-testid=\"kpi-overdue\">\n                {buckets.overdue.length}\n              </div>\n            </div>\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Due today</div>\n              <div className=\"hr-kpi__value hr-kpi__value--warn\" data-testid=\"kpi-today\">\n                {buckets.today.length}\n              </div>\n            </div>\n            <div className=\"hr-kpi\">\n              <div className=\"hr-kpi__label\">Next 7 days</div>\n              <div className=\"hr-kpi__value hr-kpi__value--ok\" data-testid=\"kpi-upcoming\">\n                {buckets.upcoming.length}\n              </div>\n            </div>\n          </section>\n\n          <TaskSection\n            title=\"Overdue\"\n            description=\"Tasks that should already have been completed.\"\n            tasks={buckets.overdue}\n            badgeClass=\"hr-pill--danger\"\n            testId=\"section-overdue\"\n          />\n\n          <TaskSection\n            title=\"Due today\"\n            description=\"Tasks that must be handled today.\"\n            tasks={buckets.today}\n            badgeClass=\"hr-pill--warn\"\n            testId=\"section-today\"\n          />\n\n          <TaskSection\n            title=\"Coming 7 days\"\n            description=\"Tasks with deadlines within the next week.\"\n            tasks={buckets.upcoming}\n            badgeClass=\"hr-pill--ok\"\n            testId=\"section-upcoming\"\n          />\n        </>\n      )}\n    </main>\n  );\n}\n\ntype TaskSectionProps = {\n  title: string;\n  description: string;\n  tasks: HrTask[];\n  badgeClass: string;\n  testId: string;\n};\n\nfunction TaskSection({ title, description, tasks, badgeClass, testId }: TaskSectionProps) {\n  return (\n    <section className=\"hr-task-section\" data-testid={testId}>\n      <header className=\"hr-task-section__header\">\n        <div>\n          <h2 className=\"hr-section__title\">{title}</h2>\n          <p className=\"hr-task-section__description\">{description}</p>\n        </div>\n        <span className={`hr-pill ${badgeClass}`}>{tasks.length}</span>\n      </header>\n\n      {tasks.length === 0 ? (\n        <p className=\"hr-task-empty\">No tasks in this bucket.</p>\n      ) : (\n        <div className=\"hr-task-list\">\n          {tasks.map((task) => (\n            <TaskRow key={task.id} task={task} />\n          ))}\n        </div>\n      )}\n    </section>\n  );\n}\n\nfunction TaskRow({ task }: { task: HrTask }) {\n  const dueLabel = task.dueDate\n    ? new Date(task.dueDate).toLocaleDateString(\"sv-SE\")\n    : \"No due date\";\n\n  const href = `/app/hr/workflows`;\n\n  const statusLabel =\n    task.status === \"not_started\"\n      ? \"Not started\"\n      : task.status === \"in_progress\"\n      ? \"In progress\"\n      : task.status === \"done\"\n      ? \"Done\"\n      : task.status;\n\n  return (\n    <Link href={href} className=\"hr-task-row\" data-testid={`task-row-${task.id}`}>\n      <div className=\"hr-task-row__main\">\n        <h3 className=\"hr-task-row__title\">{task.stepTitle}</h3>\n        <p className=\"hr-task-row__subtitle\">\n          {task.employeeName ?? \"Unknown employee\"} - {task.workflowName}\n        </p>\n      </div>\n      <div className=\"hr-task-row__meta\">\n        <span className=\"hr-task-row__date\">{dueLabel}</span>\n        <span className=\"hr-task-row__status\">{statusLabel}</span>\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}