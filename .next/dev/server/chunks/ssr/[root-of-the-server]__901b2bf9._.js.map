{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/env.ts"],"sourcesContent":["/**\n * Environment variable helper with fail-fast behavior\n * Ensures Supabase credentials are always available\n */\n\nexport interface PublicEnv {\n  supabaseUrl: string;\n  supabaseAnonKey: string;\n}\n\n// Hardcoded fallback values for production builds\nconst FALLBACK_SUPABASE_URL = \"https://bmvawfrnlpdvcmffqrzc.supabase.co\";\nconst FALLBACK_SUPABASE_ANON_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJtdmF3ZnJubHBkdmNtZmZxcnpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MTEwOTAsImV4cCI6MjA4MTA4NzA5MH0.DHLJ4aMn1dORfbNPt1XrJtcdIjYN81YQbJ19Q89A_pM\";\n\n/**\n * Get public environment variables with fail-fast behavior\n * Throws if credentials are not available\n */\nexport function getPublicEnv(): PublicEnv {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || FALLBACK_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || FALLBACK_SUPABASE_ANON_KEY;\n\n  const missing: string[] = [];\n  \n  if (!supabaseUrl || supabaseUrl.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_URL');\n  }\n  if (!supabaseAnonKey || supabaseAnonKey.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_ANON_KEY');\n  }\n\n  if (missing.length > 0) {\n    throw new Error(`Supabase env missing: ${missing.join(', ')}`);\n  }\n\n  return {\n    supabaseUrl,\n    supabaseAnonKey,\n  };\n}\n\n/**\n * Check if public environment is properly configured\n * Returns validation result without throwing\n */\nexport function validatePublicEnv(): { valid: boolean; missing: string[] } {\n  const missing: string[] = [];\n  \n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || FALLBACK_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || FALLBACK_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || supabaseUrl.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_URL');\n  }\n  if (!supabaseAnonKey || supabaseAnonKey.includes('placeholder')) {\n    missing.push('NEXT_PUBLIC_SUPABASE_ANON_KEY');\n  }\n\n  return {\n    valid: missing.length === 0,\n    missing,\n  };\n}\n\n/**\n * Get the service role key (server-side only)\n * Never expose this to client code\n */\nexport function getServiceRoleKey(): string {\n  if (typeof window !== 'undefined') {\n    throw new Error('Service role key must never be accessed on the client');\n  }\n  \n  const key = process.env.SUPABASE_SERVICE_ROLE_KEY;\n  if (!key) {\n    throw new Error('SUPABASE_SERVICE_ROLE_KEY is not configured');\n  }\n  \n  return key;\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;AAOD,kDAAkD;AAClD,MAAM,wBAAwB;AAC9B,MAAM,6BAA6B;AAM5B,SAAS;IACd,MAAM,cAAc,gFAAwC;IAC5D,MAAM,kBAAkB,wPAA6C;IAErE,MAAM,UAAoB,EAAE;IAE5B,IAAI,CAAC,eAAe,YAAY,QAAQ,CAAC,gBAAgB;QACvD,QAAQ,IAAI,CAAC;IACf;IACA,IAAI,CAAC,mBAAmB,gBAAgB,QAAQ,CAAC,gBAAgB;QAC/D,QAAQ,IAAI,CAAC;IACf;IAEA,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,QAAQ,IAAI,CAAC,OAAO;IAC/D;IAEA,OAAO;QACL;QACA;IACF;AACF;AAMO,SAAS;IACd,MAAM,UAAoB,EAAE;IAE5B,MAAM,cAAc,gFAAwC;IAC5D,MAAM,kBAAkB,wPAA6C;IAErE,IAAI,CAAC,eAAe,YAAY,QAAQ,CAAC,gBAAgB;QACvD,QAAQ,IAAI,CAAC;IACf;IACA,IAAI,CAAC,mBAAmB,gBAAgB,QAAQ,CAAC,gBAAgB;QAC/D,QAAQ,IAAI,CAAC;IACf;IAEA,OAAO;QACL,OAAO,QAAQ,MAAM,KAAK;QAC1B;IACF;AACF;AAMO,SAAS;IACd;;IAIA,MAAM,MAAM,QAAQ,GAAG,CAAC,yBAAyB;IACjD,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabaseClient.ts"],"sourcesContent":["import { createClient, SupabaseClient } from \"@supabase/supabase-js\";\nimport { getPublicEnv, validatePublicEnv } from \"./env\";\n\nlet supabaseInstance: SupabaseClient | null = null;\n\nfunction createSupabaseClient(): SupabaseClient {\n  const env = getPublicEnv();\n  return createClient(env.supabaseUrl, env.supabaseAnonKey, {\n    auth: {\n      persistSession: true,\n      autoRefreshToken: true,\n      detectSessionInUrl: true,\n    },\n  });\n}\n\nexport function getSupabaseClient(): SupabaseClient {\n  if (!supabaseInstance) {\n    supabaseInstance = createSupabaseClient();\n  }\n  return supabaseInstance;\n}\n\nexport const supabase: SupabaseClient = createSupabaseClient();\n\nexport function isSupabaseReady(): boolean {\n  const validation = validatePublicEnv();\n  return validation.valid;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,IAAI,mBAA0C;AAE9C,SAAS;IACP,MAAM,MAAM,IAAA,0HAAY;IACxB,OAAO,IAAA,uLAAY,EAAC,IAAI,WAAW,EAAE,IAAI,eAAe,EAAE;QACxD,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF;AACF;AAEO,SAAS;IACd,IAAI,CAAC,kBAAkB;QACrB,mBAAmB;IACrB;IACA,OAAO;AACT;AAEO,MAAM,WAA2B;AAEjC,SAAS;IACd,MAAM,aAAa,IAAA,+HAAiB;IACpC,OAAO,WAAW,KAAK;AACzB"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/auth.ts"],"sourcesContent":["import { supabase } from \"./supabaseClient\";\nimport type { AppRole, AppUser } from \"@/types/domain\";\n\nexport type { AppRole };\n\nexport type CurrentUser = {\n  id: string;\n  role: AppRole;\n  employeeId?: string;\n  email: string;\n};\n\nexport async function getCurrentUser(): Promise<CurrentUser | null> {\n  const devEmail = process.env.NEXT_PUBLIC_DEV_USER_EMAIL || \"hr@example.com\";\n  \n  try {\n    const { data, error } = await supabase\n      .from(\"users\")\n      .select(\"id, employee_id, email, role\")\n      .eq(\"email\", devEmail)\n      .single();\n\n    if (error || !data) {\n      return {\n        id: \"dev-user\",\n        role: \"HR_ADMIN\" as AppRole,\n        email: devEmail,\n      };\n    }\n\n    return {\n      id: data.id,\n      role: data.role as AppRole,\n      employeeId: data.employee_id || undefined,\n      email: data.email,\n    };\n  } catch {\n    return {\n      id: \"dev-user\",\n      role: \"HR_ADMIN\" as AppRole,\n      email: devEmail,\n    };\n  }\n}\n\nexport function requireRole(\n  user: { role: AppRole } | null,\n  allowed: AppRole[]\n): void {\n  if (!user) {\n    throw new Error(\"Unauthorized: User not authenticated\");\n  }\n  if (!allowed.includes(user.role)) {\n    throw new Error(`Forbidden: Role ${user.role} not allowed`);\n  }\n}\n\nexport function canAccessEmployee(\n  user: CurrentUser | null,\n  employeeId: string,\n  managedEmployeeIds: string[]\n): boolean {\n  if (!user) return false;\n  if (user.role === \"HR_ADMIN\") return true;\n  if (user.role === \"MANAGER\") {\n    return managedEmployeeIds.includes(employeeId);\n  }\n  if (user.role === \"EMPLOYEE\") {\n    return user.employeeId === employeeId;\n  }\n  return false;\n}\n\nexport async function getManagedEmployeeIds(managerId: string): Promise<string[]> {\n  const { data } = await supabase\n    .from(\"employees\")\n    .select(\"id\")\n    .eq(\"manager_id\", managerId)\n    .eq(\"is_active\", true);\n\n  return (data || []).map((e) => e.id);\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAYO,eAAe;IACpB,MAAM,WAAW,QAAQ,GAAG,CAAC,0BAA0B,IAAI;IAE3D,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,gCACP,EAAE,CAAC,SAAS,UACZ,MAAM;QAET,IAAI,SAAS,CAAC,MAAM;YAClB,OAAO;gBACL,IAAI;gBACJ,MAAM;gBACN,OAAO;YACT;QACF;QAEA,OAAO;YACL,IAAI,KAAK,EAAE;YACX,MAAM,KAAK,IAAI;YACf,YAAY,KAAK,WAAW,IAAI;YAChC,OAAO,KAAK,KAAK;QACnB;IACF,EAAE,OAAM;QACN,OAAO;YACL,IAAI;YACJ,MAAM;YACN,OAAO;QACT;IACF;AACF;AAEO,SAAS,YACd,IAA8B,EAC9B,OAAkB;IAElB,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IACA,IAAI,CAAC,QAAQ,QAAQ,CAAC,KAAK,IAAI,GAAG;QAChC,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,KAAK,IAAI,CAAC,YAAY,CAAC;IAC5D;AACF;AAEO,SAAS,kBACd,IAAwB,EACxB,UAAkB,EAClB,kBAA4B;IAE5B,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,KAAK,IAAI,KAAK,YAAY,OAAO;IACrC,IAAI,KAAK,IAAI,KAAK,WAAW;QAC3B,OAAO,mBAAmB,QAAQ,CAAC;IACrC;IACA,IAAI,KAAK,IAAI,KAAK,YAAY;QAC5B,OAAO,KAAK,UAAU,KAAK;IAC7B;IACA,OAAO;AACT;AAEO,eAAe,sBAAsB,SAAiB;IAC3D,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,iIAAQ,CAC5B,IAAI,CAAC,aACL,MAAM,CAAC,MACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa;IAEnB,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;AACrC"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/auth.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\n\nexport async function signInWithEmail(email: string, password: string) {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut();\n  if (error) throw error;\n}\n\nexport async function getAuthUser() {\n  const { data, error } = await supabase.auth.getUser();\n  if (error) return null;\n  return data.user;\n}\n\nexport async function getSession() {\n  const { data, error } = await supabase.auth.getSession();\n  if (error) return null;\n  return data.session;\n}\n\nexport function onAuthStateChange(callback: (event: string, session: unknown) => void) {\n  return supabase.auth.onAuthStateChange(callback);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,eAAe,gBAAgB,KAAa,EAAE,QAAgB;IACnE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;QAC7D;QACA;IACF;IAEA,IAAI,OAAO,MAAM;IACjB,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;IAC7C,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;IACnD,IAAI,OAAO,OAAO;IAClB,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,UAAU;IACtD,IAAI,OAAO,OAAO;IAClB,OAAO,KAAK,OAAO;AACrB;AAEO,SAAS,kBAAkB,QAAmD;IACnF,OAAO,iIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC;AACzC"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/hooks/useAuth.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { getAuthUser, getSession, onAuthStateChange } from \"@/services/auth\";\nimport type { User } from \"@supabase/supabase-js\";\n\ntype AuthState = {\n  user: User | null;\n  loading: boolean;\n  isAuthenticated: boolean;\n};\n\nexport function useAuth(requireAuth = true): AuthState {\n  const router = useRouter();\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let mounted = true;\n\n    async function checkAuth() {\n      try {\n        const session = await getSession();\n        if (mounted) {\n          if (session?.user) {\n            setUser(session.user);\n          } else if (requireAuth) {\n            router.push(\"/login\");\n          }\n        }\n      } catch {\n        if (mounted && requireAuth) {\n          router.push(\"/login\");\n        }\n      } finally {\n        if (mounted) {\n          setLoading(false);\n        }\n      }\n    }\n\n    checkAuth();\n\n    const { data: { subscription } } = onAuthStateChange((event, session) => {\n      if (mounted) {\n        const typedSession = session as { user?: User } | null;\n        if (event === \"SIGNED_OUT\") {\n          setUser(null);\n          if (requireAuth) {\n            router.push(\"/login\");\n          }\n        } else if (event === \"SIGNED_IN\" && typedSession?.user) {\n          setUser(typedSession.user);\n        }\n      }\n    });\n\n    return () => {\n      mounted = false;\n      subscription.unsubscribe();\n    };\n  }, [requireAuth, router]);\n\n  return {\n    user,\n    loading,\n    isAuthenticated: !!user,\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;AAaO,SAAS,QAAQ,cAAc,IAAI;IACxC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;QAEd,eAAe;YACb,IAAI;gBACF,MAAM,UAAU,MAAM,IAAA,8HAAU;gBAChC,IAAI,SAAS;oBACX,IAAI,SAAS,MAAM;wBACjB,QAAQ,QAAQ,IAAI;oBACtB,OAAO,IAAI,aAAa;wBACtB,OAAO,IAAI,CAAC;oBACd;gBACF;YACF,EAAE,OAAM;gBACN,IAAI,WAAW,aAAa;oBAC1B,OAAO,IAAI,CAAC;gBACd;YACF,SAAU;gBACR,IAAI,SAAS;oBACX,WAAW;gBACb;YACF;QACF;QAEA;QAEA,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,IAAA,qIAAiB,EAAC,CAAC,OAAO;YAC3D,IAAI,SAAS;gBACX,MAAM,eAAe;gBACrB,IAAI,UAAU,cAAc;oBAC1B,QAAQ;oBACR,IAAI,aAAa;wBACf,OAAO,IAAI,CAAC;oBACd;gBACF,OAAO,IAAI,UAAU,eAAe,cAAc,MAAM;oBACtD,QAAQ,aAAa,IAAI;gBAC3B;YACF;QACF;QAEA,OAAO;YACL,UAAU;YACV,aAAa,WAAW;QAC1B;IACF,GAAG;QAAC;QAAa;KAAO;IAExB,OAAO;QACL;QACA;QACA,iBAAiB,CAAC,CAAC;IACrB;AACF"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/hooks/useOrg.ts"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\n\nexport interface Organization {\n  id: string;\n  name: string;\n  slug: string;\n  created_at: string;\n}\n\nexport interface Membership {\n  org_id: string;\n  user_id: string;\n  role: 'admin' | 'hr' | 'manager' | 'user';\n  status: 'active' | 'disabled';\n  created_at: string;\n  organization?: Organization;\n}\n\ninterface OrgContextType {\n  currentOrg: Organization | null;\n  currentRole: Membership['role'] | null;\n  memberships: Membership[];\n  isLoading: boolean;\n  error: string | null;\n  selectOrg: (orgId: string) => void;\n  refreshMemberships: () => Promise<void>;\n  isAdmin: boolean;\n}\n\nconst ORG_STORAGE_KEY = 'nadiplan_current_org';\n\nexport function useOrgState() {\n  const [currentOrg, setCurrentOrg] = useState<Organization | null>(null);\n  const [currentRole, setCurrentRole] = useState<Membership['role'] | null>(null);\n  const [memberships, setMemberships] = useState<Membership[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const refreshMemberships = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        setMemberships([]);\n        setCurrentOrg(null);\n        setCurrentRole(null);\n        setIsLoading(false);\n        return;\n      }\n\n      // Get all active memberships with org details\n      const { data: membershipData, error: membershipError } = await supabase\n        .from('memberships')\n        .select(`\n          org_id,\n          user_id,\n          role,\n          status,\n          created_at,\n          organization:organizations(id, name, slug, created_at)\n        `)\n        .eq('user_id', user.id)\n        .eq('status', 'active');\n\n      if (membershipError) {\n        console.error('Error fetching memberships:', membershipError);\n        setError('Failed to load organizations');\n        setIsLoading(false);\n        return;\n      }\n\n      const formattedMemberships: Membership[] = (membershipData || []).map((m: {\n        org_id: string;\n        user_id: string;\n        role: 'admin' | 'hr' | 'manager' | 'user';\n        status: 'active' | 'disabled';\n        created_at: string;\n        organization: Organization | Organization[] | null;\n      }) => ({\n        ...m,\n        organization: Array.isArray(m.organization) ? m.organization[0] : (m.organization || undefined),\n      }));\n\n      setMemberships(formattedMemberships);\n\n      // Try to restore previously selected org\n      const storedOrgId = localStorage.getItem(ORG_STORAGE_KEY);\n      if (storedOrgId) {\n        const membership = formattedMemberships.find(m => m.org_id === storedOrgId);\n        if (membership && membership.organization) {\n          setCurrentOrg(membership.organization);\n          setCurrentRole(membership.role);\n        } else if (formattedMemberships.length === 1 && formattedMemberships[0].organization) {\n          // Auto-select if only one org\n          setCurrentOrg(formattedMemberships[0].organization);\n          setCurrentRole(formattedMemberships[0].role);\n          localStorage.setItem(ORG_STORAGE_KEY, formattedMemberships[0].org_id);\n        }\n      } else if (formattedMemberships.length === 1 && formattedMemberships[0].organization) {\n        // Auto-select if only one org\n        setCurrentOrg(formattedMemberships[0].organization);\n        setCurrentRole(formattedMemberships[0].role);\n        localStorage.setItem(ORG_STORAGE_KEY, formattedMemberships[0].org_id);\n      }\n    } catch (err) {\n      console.error('Error in refreshMemberships:', err);\n      setError('Failed to load organizations');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const selectOrg = useCallback((orgId: string) => {\n    const membership = memberships.find(m => m.org_id === orgId);\n    if (membership && membership.organization) {\n      setCurrentOrg(membership.organization);\n      setCurrentRole(membership.role);\n      localStorage.setItem(ORG_STORAGE_KEY, orgId);\n    }\n  }, [memberships]);\n\n  useEffect(() => {\n    refreshMemberships();\n  }, [refreshMemberships]);\n\n  return {\n    currentOrg,\n    currentRole,\n    memberships,\n    isLoading,\n    error,\n    selectOrg,\n    refreshMemberships,\n    isAdmin: currentRole === 'admin',\n  };\n}\n\nexport const OrgContext = createContext<OrgContextType | null>(null);\n\nexport function useOrg() {\n  const context = useContext(OrgContext);\n  if (!context) {\n    throw new Error('useOrg must be used within an OrgProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/OrgProvider.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport { OrgContext, useOrgState } from '@/hooks/useOrg';\n\ninterface OrgProviderProps {\n  children: ReactNode;\n}\n\nexport function OrgProvider({ children }: OrgProviderProps) {\n  const orgState = useOrgState();\n\n  return (\n    <OrgContext.Provider value={orgState}>\n      {children}\n    </OrgContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASO,SAAS,YAAY,EAAE,QAAQ,EAAoB;IACxD,MAAM,WAAW,IAAA,8HAAW;IAE5B,qBACE,8OAAC,6HAAU,CAAC,QAAQ;QAAC,OAAO;kBACzB;;;;;;AAGP"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/DemoModeBanner.tsx"],"sourcesContent":["\"use client\";\n\nimport { AlertCircle } from \"lucide-react\";\nimport Link from \"next/link\";\n\nexport function isDemoMode(): boolean {\n  if (typeof window !== \"undefined\") {\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.get(\"demo\") === \"true\") return true;\n  }\n  return process.env.NEXT_PUBLIC_DEMO_MODE === \"true\";\n}\n\nexport function DemoModeBanner() {\n  const demoEnabled = isDemoMode();\n\n  if (!demoEnabled) return null;\n\n  return (\n    <div \n      className=\"bg-amber-50 dark:bg-amber-950 border-b border-amber-200 dark:border-amber-800 px-4 py-2\"\n      data-testid=\"banner-demo-mode\"\n    >\n      <div className=\"flex items-center justify-center gap-2 text-sm text-amber-800 dark:text-amber-200\">\n        <AlertCircle className=\"h-4 w-4\" />\n        <span>Demo Mode: using sample data</span>\n        <span className=\"text-amber-600 dark:text-amber-400\">|</span>\n        <Link \n          href=\"/app/demo\" \n          className=\"underline hover:no-underline\"\n          data-testid=\"link-demo-script\"\n        >\n          View Demo Script\n        </Link>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd;;IAIA,OAAO,QAAQ,GAAG,CAAC,qBAAqB,KAAK;AAC/C;AAEO,SAAS;IACd,MAAM,cAAc;IAEpB,IAAI,CAAC,aAAa,OAAO;IAEzB,qBACE,8OAAC;QACC,WAAU;QACV,eAAY;kBAEZ,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mOAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;8BAAK;;;;;;8BACN,8OAAC;oBAAK,WAAU;8BAAqC;;;;;;8BACrD,8OAAC,uKAAI;oBACH,MAAK;oBACL,WAAU;oBACV,eAAY;8BACb;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/copy.ts"],"sourcesContent":["export const COPY = {\n  emptyStates: {\n    employees: {\n      title: \"No employees yet\",\n      description: \"Get started by importing employees from a CSV file or adding them manually.\",\n    },\n    organization: {\n      title: \"No organization units defined\",\n      description: \"Create your first organization unit to structure your company.\",\n    },\n    competenceMatrix: {\n      noRequirements: {\n        title: \"No requirements defined\",\n        description: \"Define position requirements to see skill gaps and risk levels.\",\n      },\n      noEmployees: {\n        title: \"No employees found\",\n        description: \"Add employees to see the competence matrix.\",\n      },\n    },\n    gaps: {\n      noRequirements: {\n        title: \"Cannot calculate gaps\",\n        description: \"Define position requirements first to identify skill gaps.\",\n      },\n      noEmployees: {\n        title: \"No employees to analyze\",\n        description: \"Add employees before generating gap analysis.\",\n      },\n      noGaps: {\n        title: \"No skill gaps found\",\n        description: \"All employees meet the position requirements.\",\n      },\n    },\n    risks: {\n      empty: {\n        title: \"No events to display\",\n        description: \"The system will automatically create events based on employment data.\",\n      },\n    },\n  },\n  actions: {\n    importCsv: \"Import CSV\",\n    addEmployee: \"Add Employee\",\n    createUnit: \"Create Unit\",\n    importOrgStructure: \"Import Org Structure (CSV)\",\n    editRequirements: \"Edit Requirements\",\n    exportCsv: \"Export CSV\",\n    defineRequirements: \"Define Requirements\",\n    goToSetup: \"Go to Setup\",\n    generateGaps: \"Generate Gaps\",\n  },\n  setup: {\n    title: \"Setup Progress\",\n    description: \"Complete these steps to get the most out of your platform.\",\n    steps: {\n      orgUnit: {\n        title: \"Create at least 1 Organization Unit\",\n        button: \"Create Unit\",\n      },\n      employees: {\n        title: \"Add employees (at least 1)\",\n        buttonPrimary: \"Import CSV\",\n        buttonSecondary: \"Add Employee\",\n      },\n      skills: {\n        title: \"Create skills (at least 3)\",\n        button: \"Add Skills\",\n      },\n      positions: {\n        title: \"Create position with requirements\",\n        button: \"Define Requirements\",\n      },\n      gaps: {\n        title: \"Generate Tomorrow's Gaps once\",\n        button: \"Generate Gaps\",\n      },\n    },\n    complete: \"Setup complete\",\n  },\n  nav: {\n    core: \"Core\",\n    comingSoon: \"Coming Soon\",\n  },\n  sections: {\n    overdue: \"Overdue\",\n    dueSoon: \"Due Soon\",\n    upcoming: \"Upcoming\",\n  },\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,OAAO;IAClB,aAAa;QACX,WAAW;YACT,OAAO;YACP,aAAa;QACf;QACA,cAAc;YACZ,OAAO;YACP,aAAa;QACf;QACA,kBAAkB;YAChB,gBAAgB;gBACd,OAAO;gBACP,aAAa;YACf;YACA,aAAa;gBACX,OAAO;gBACP,aAAa;YACf;QACF;QACA,MAAM;YACJ,gBAAgB;gBACd,OAAO;gBACP,aAAa;YACf;YACA,aAAa;gBACX,OAAO;gBACP,aAAa;YACf;YACA,QAAQ;gBACN,OAAO;gBACP,aAAa;YACf;QACF;QACA,OAAO;YACL,OAAO;gBACL,OAAO;gBACP,aAAa;YACf;QACF;IACF;IACA,SAAS;QACP,WAAW;QACX,aAAa;QACb,YAAY;QACZ,oBAAoB;QACpB,kBAAkB;QAClB,WAAW;QACX,oBAAoB;QACpB,WAAW;QACX,cAAc;IAChB;IACA,OAAO;QACL,OAAO;QACP,aAAa;QACb,OAAO;YACL,SAAS;gBACP,OAAO;gBACP,QAAQ;YACV;YACA,WAAW;gBACT,OAAO;gBACP,eAAe;gBACf,iBAAiB;YACnB;YACA,QAAQ;gBACN,OAAO;gBACP,QAAQ;YACV;YACA,WAAW;gBACT,OAAO;gBACP,QAAQ;YACV;YACA,MAAM;gBACJ,OAAO;gBACP,QAAQ;YACV;QACF;QACA,UAAU;IACZ;IACA,KAAK;QACH,MAAM;QACN,YAAY;IACd;IACA,UAAU;QACR,SAAS;QACT,SAAS;QACT,UAAU;IACZ;AACF"}},
    {"offset": {"line": 615, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\nimport { \n  LayoutDashboard, \n  Grid3X3, \n  Upload, \n  Users, \n  Settings,\n  ShieldAlert,\n  Package,\n  Newspaper,\n  FileText,\n  BookOpen,\n  Shield,\n  Building2,\n  BarChart3,\n  Workflow,\n  LogOut,\n  Wrench,\n  TrendingUp,\n  Clipboard,\n  Bug\n} from \"lucide-react\";\nimport { getCurrentUser, type CurrentUser } from \"@/lib/auth\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { signOut } from \"@/services/auth\";\nimport { OrgProvider } from \"@/components/OrgProvider\";\nimport { DemoModeBanner } from \"@/components/DemoModeBanner\";\nimport { COPY } from \"@/lib/copy\";\n\ntype NavItem = {\n  name: string;\n  href: string;\n  icon: React.ComponentType<{ className?: string }>;\n  hrAdminOnly?: boolean;\n};\n\nconst coreNavItems: NavItem[] = [\n  { name: \"Dashboard\", href: \"/app/dashboard\", icon: LayoutDashboard },\n  { name: \"Setup\", href: \"/app/setup\", icon: Clipboard },\n  { name: \"Employees\", href: \"/app/employees\", icon: Users },\n  { name: \"Organization\", href: \"/app/org/overview\", icon: Building2 },\n  { name: \"Competence Matrix\", href: \"/app/competence-matrix\", icon: Grid3X3 },\n  { name: \"Tomorrow's Gaps\", href: \"/app/gaps\", icon: TrendingUp },\n  { name: \"Admin\", href: \"/app/admin\", icon: Wrench, hrAdminOnly: true },\n];\n\nconst hrNavItems: NavItem[] = [\n  { name: \"Manager Risks\", href: \"/app/manager/risks\", icon: ShieldAlert },\n  { name: \"HR Analytics\", href: \"/app/hr/analytics\", icon: BarChart3, hrAdminOnly: true },\n  { name: \"HR Workflows\", href: \"/app/hr/workflows\", icon: Workflow, hrAdminOnly: true },\n  { name: \"Import Employees\", href: \"/app/import-employees\", icon: Upload, hrAdminOnly: true },\n];\n\nconst moreNavItems: NavItem[] = [\n  { name: \"Safety / Certificates\", href: \"/app/safety/certificates\", icon: Shield },\n  { name: \"Equipment\", href: \"/app/equipment\", icon: Package },\n  { name: \"Handbooks\", href: \"/app/handbooks\", icon: BookOpen },\n  { name: \"Documents\", href: \"/app/documents\", icon: FileText },\n  { name: \"News\", href: \"/app/news\", icon: Newspaper },\n];\n\nconst settingsNavItems: NavItem[] = [\n  { name: \"Settings\", href: \"/app/settings\", icon: Settings },\n  { name: \"Debug\", href: \"/app/debug\", icon: Bug },\n];\n\nexport default function AppLayout({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { user: authUser, loading: authLoading, isAuthenticated } = useAuth(true);\n  const [user, setUser] = useState<CurrentUser | null>(null);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getCurrentUser().then(setUser);\n    }\n  }, [isAuthenticated]);\n\n  async function handleSignOut() {\n    try {\n      await signOut();\n      router.push(\"/login\");\n    } catch (err) {\n      console.error(\"Sign out failed:\", err);\n    }\n  }\n\n  if (authLoading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-gray-50 dark:bg-gray-900\">\n        <div className=\"text-gray-500 dark:text-gray-400\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  const filterItems = (items: NavItem[]) => \n    items.filter((item) => {\n      if (item.hrAdminOnly && user?.role !== \"HR_ADMIN\") return false;\n      return true;\n    });\n\n  const visibleCoreItems = filterItems(coreNavItems);\n  const visibleHrItems = filterItems(hrNavItems);\n  const visibleSettingsItems = filterItems(settingsNavItems);\n\n  const renderNavItem = (item: NavItem) => {\n    const isActive = pathname === item.href || pathname?.startsWith(item.href + \"/\");\n    const Icon = item.icon;\n\n    return (\n      <li key={item.name}>\n        <Link\n          href={item.href}\n          className={`flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n            isActive\n              ? \"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white\"\n              : \"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50\"\n          }`}\n          data-testid={`nav-${item.name.toLowerCase().replace(/\\s+/g, \"-\")}`}\n        >\n          <Icon className=\"h-4 w-4\" />\n          {item.name}\n        </Link>\n      </li>\n    );\n  };\n\n  return (\n    <OrgProvider>\n      <div className=\"flex flex-col h-screen bg-gray-50 dark:bg-gray-900\">\n        <DemoModeBanner />\n          <div className=\"flex flex-1 overflow-hidden\">\n          <aside className=\"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n              <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                Industrial Competence\n              </h1>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Platform</p>\n            </div>\n            <nav className=\"flex-1 p-4 overflow-y-auto\">\n              <div className=\"mb-4\">\n                <p className=\"px-3 mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider\">\n                  {COPY.nav.core}\n                </p>\n                <ul className=\"space-y-1\">\n                  {visibleCoreItems.map(renderNavItem)}\n                </ul>\n              </div>\n\n              {visibleHrItems.length > 0 && (\n                <div className=\"mb-4\">\n                  <p className=\"px-3 mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider\">\n                    HR Tools\n                  </p>\n                  <ul className=\"space-y-1\">\n                    {visibleHrItems.map(renderNavItem)}\n                  </ul>\n                </div>\n              )}\n\n              <div className=\"mb-4\">\n                <p className=\"px-3 mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider\">\n                  More\n                </p>\n                <ul className=\"space-y-1\">\n                  {moreNavItems.map(renderNavItem)}\n                </ul>\n              </div>\n\n              <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                <ul className=\"space-y-1\">\n                  {visibleSettingsItems.map(renderNavItem)}\n                </ul>\n              </div>\n            </nav>\n          </aside>\n\n          <div className=\"flex-1 flex flex-col overflow-hidden\">\n            <header className=\"h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6\">\n              <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                {new Date().toLocaleDateString(\"en-US\", {\n                  weekday: \"long\",\n                  year: \"numeric\",\n                  month: \"long\",\n                  day: \"numeric\",\n                })}\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-300\" data-testid=\"text-user-email\">\n                  {authUser?.email || user?.email || \"User\"}\n                </span>\n                <button\n                  onClick={handleSignOut}\n                  className=\"flex items-center gap-1.5 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n                  data-testid=\"button-signout\"\n                >\n                  <LogOut className=\"h-4 w-4\" />\n                  Sign out\n                </button>\n              </div>\n            </header>\n\n            <main className=\"flex-1 overflow-auto\">\n              {children}\n            </main>\n            </div>\n          </div>\n        </div>\n    </OrgProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA;AACA;AACA;AACA;AACA;AACA;AA/BA;;;;;;;;;;;;AAwCA,MAAM,eAA0B;IAC9B;QAAE,MAAM;QAAa,MAAM;QAAkB,MAAM,+OAAe;IAAC;IACnE;QAAE,MAAM;QAAS,MAAM;QAAc,MAAM,yNAAS;IAAC;IACrD;QAAE,MAAM;QAAa,MAAM;QAAkB,MAAM,6MAAK;IAAC;IACzD;QAAE,MAAM;QAAgB,MAAM;QAAqB,MAAM,6NAAS;IAAC;IACnE;QAAE,MAAM;QAAqB,MAAM;QAA0B,MAAM,uNAAO;IAAC;IAC3E;QAAE,MAAM;QAAmB,MAAM;QAAa,MAAM,gOAAU;IAAC;IAC/D;QAAE,MAAM;QAAS,MAAM;QAAc,MAAM,gNAAM;QAAE,aAAa;IAAK;CACtE;AAED,MAAM,aAAwB;IAC5B;QAAE,MAAM;QAAiB,MAAM;QAAsB,MAAM,mOAAW;IAAC;IACvE;QAAE,MAAM;QAAgB,MAAM;QAAqB,MAAM,+NAAS;QAAE,aAAa;IAAK;IACtF;QAAE,MAAM;QAAgB,MAAM;QAAqB,MAAM,sNAAQ;QAAE,aAAa;IAAK;IACrF;QAAE,MAAM;QAAoB,MAAM;QAAyB,MAAM,gNAAM;QAAE,aAAa;IAAK;CAC5F;AAED,MAAM,eAA0B;IAC9B;QAAE,MAAM;QAAyB,MAAM;QAA4B,MAAM,gNAAM;IAAC;IAChF;QAAE,MAAM;QAAa,MAAM;QAAkB,MAAM,mNAAO;IAAC;IAC3D;QAAE,MAAM;QAAa,MAAM;QAAkB,MAAM,0NAAQ;IAAC;IAC5D;QAAE,MAAM;QAAa,MAAM;QAAkB,MAAM,0NAAQ;IAAC;IAC5D;QAAE,MAAM;QAAQ,MAAM;QAAa,MAAM,yNAAS;IAAC;CACpD;AAED,MAAM,mBAA8B;IAClC;QAAE,MAAM;QAAY,MAAM;QAAiB,MAAM,sNAAQ;IAAC;IAC1D;QAAE,MAAM;QAAS,MAAM;QAAc,MAAM,uMAAG;IAAC;CAChD;AAEc,SAAS,UAAU,EAAE,QAAQ,EAAiC;IAC3E,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,MAAM,QAAQ,EAAE,SAAS,WAAW,EAAE,eAAe,EAAE,GAAG,IAAA,2HAAO,EAAC;IAC1E,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAqB;IAErD,IAAA,kNAAS,EAAC;QACR,IAAI,iBAAiB;YACnB,IAAA,6HAAc,IAAG,IAAI,CAAC;QACxB;IACF,GAAG;QAAC;KAAgB;IAEpB,eAAe;QACb,IAAI;YACF,MAAM,IAAA,2HAAO;YACb,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,oBAAoB;QACpC;IACF;IAEA,IAAI,aAAa;QACf,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAmC;;;;;;;;;;;IAGxD;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,MAAM,cAAc,CAAC,QACnB,MAAM,MAAM,CAAC,CAAC;YACZ,IAAI,KAAK,WAAW,IAAI,MAAM,SAAS,YAAY,OAAO;YAC1D,OAAO;QACT;IAEF,MAAM,mBAAmB,YAAY;IACrC,MAAM,iBAAiB,YAAY;IACnC,MAAM,uBAAuB,YAAY;IAEzC,MAAM,gBAAgB,CAAC;QACrB,MAAM,WAAW,aAAa,KAAK,IAAI,IAAI,UAAU,WAAW,KAAK,IAAI,GAAG;QAC5E,MAAM,OAAO,KAAK,IAAI;QAEtB,qBACE,8OAAC;sBACC,cAAA,8OAAC,uKAAI;gBACH,MAAM,KAAK,IAAI;gBACf,WAAW,CAAC,mFAAmF,EAC7F,WACI,+DACA,+EACJ;gBACF,eAAa,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,QAAQ,MAAM;;kCAElE,8OAAC;wBAAK,WAAU;;;;;;oBACf,KAAK,IAAI;;;;;;;WAXL,KAAK,IAAI;;;;;IAetB;IAEA,qBACE,8OAAC,yIAAW;kBACV,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,+IAAc;;;;;8BACb,8OAAC;oBAAI,WAAU;;sCACf,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAsD;;;;;;sDAGpE,8OAAC;4CAAE,WAAU;sDAAgD;;;;;;;;;;;;8CAE/D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DACV,mHAAI,CAAC,GAAG,CAAC,IAAI;;;;;;8DAEhB,8OAAC;oDAAG,WAAU;8DACX,iBAAiB,GAAG,CAAC;;;;;;;;;;;;wCAIzB,eAAe,MAAM,GAAG,mBACvB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAA4F;;;;;;8DAGzG,8OAAC;oDAAG,WAAU;8DACX,eAAe,GAAG,CAAC;;;;;;;;;;;;sDAK1B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAA4F;;;;;;8DAGzG,8OAAC;oDAAG,WAAU;8DACX,aAAa,GAAG,CAAC;;;;;;;;;;;;sDAItB,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAG,WAAU;0DACX,qBAAqB,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;sCAMlC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAO,WAAU;;sDAChB,8OAAC;4CAAI,WAAU;sDACZ,IAAI,OAAO,kBAAkB,CAAC,SAAS;gDACtC,SAAS;gDACT,MAAM;gDACN,OAAO;gDACP,KAAK;4CACP;;;;;;sDAEF,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;oDAA2C,eAAY;8DACpE,UAAU,SAAS,MAAM,SAAS;;;;;;8DAErC,8OAAC;oDACC,SAAS;oDACT,WAAU;oDACV,eAAY;;sEAEZ,8OAAC,oNAAM;4DAAC,WAAU;;;;;;wDAAY;;;;;;;;;;;;;;;;;;;8CAMpC,8OAAC;oCAAK,WAAU;8CACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOf"}}]
}