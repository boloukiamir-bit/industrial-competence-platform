{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabaseClient.ts"],"sourcesContent":["import { createClient, SupabaseClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || \"\";\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \"\";\n\nfunction createSupabaseClient(): SupabaseClient {\n  const hasCredentials = supabaseUrl && supabaseAnonKey;\n  \n  if (!hasCredentials) {\n    console.warn(\n      \"Supabase environment variables not set. \" +\n      \"Please ensure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are configured.\",\n      { urlSet: !!supabaseUrl, keySet: !!supabaseAnonKey }\n    );\n  }\n  \n  return createClient(\n    supabaseUrl || \"https://placeholder.supabase.co\", \n    supabaseAnonKey || \"placeholder\"\n  );\n}\n\nexport const supabase: SupabaseClient = createSupabaseClient();\n\nexport function getSupabaseClient(): SupabaseClient {\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      \"Missing Supabase environment variables. \" +\n      \"Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.\"\n    );\n  }\n  return supabase;\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,wPAA6C;AAErE,SAAS;IACP,MAAM,iBAAiB,eAAe;IAEtC;;IAQA,OAAO,IAAA,uLAAY,EACjB,eAAe,mCACf,mBAAmB;AAEvB;AAEO,MAAM,WAA2B;AAEjC,SAAS;IACd;;IAMA,OAAO;AACT"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/auth.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\n\nexport async function signInWithEmail(email: string, password: string) {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n\n  if (error) throw error;\n  return data;\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut();\n  if (error) throw error;\n}\n\nexport async function getAuthUser() {\n  const { data, error } = await supabase.auth.getUser();\n  if (error) return null;\n  return data.user;\n}\n\nexport async function getSession() {\n  const { data, error } = await supabase.auth.getSession();\n  if (error) return null;\n  return data.session;\n}\n\nexport function onAuthStateChange(callback: (event: string, session: unknown) => void) {\n  return supabase.auth.onAuthStateChange(callback);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,eAAe,gBAAgB,KAAa,EAAE,QAAgB;IACnE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;QAC7D;QACA;IACF;IAEA,IAAI,OAAO,MAAM;IACjB,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;IAC7C,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;IACnD,IAAI,OAAO,OAAO;IAClB,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,UAAU;IACtD,IAAI,OAAO,OAAO;IAClB,OAAO,KAAK,OAAO;AACrB;AAEO,SAAS,kBAAkB,QAAmD;IACnF,OAAO,iIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC;AACzC"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/hooks/useAuthGuard.ts"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { getAuthUser } from '@/services/auth';\n\nexport function useAuthGuard() {\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function check() {\n      try {\n        const user = await getAuthUser();\n        if (!user && isMounted) {\n          router.replace('/login');\n        } else if (isMounted) {\n          setLoading(false);\n        }\n      } catch (err) {\n        console.error('Error checking auth', err);\n        if (isMounted) {\n          router.replace('/login');\n        }\n      }\n    }\n\n    check();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [router]);\n\n  return { loading };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;AAMO,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAEhB,eAAe;YACb,IAAI;gBACF,MAAM,OAAO,MAAM,IAAA,+HAAW;gBAC9B,IAAI,CAAC,QAAQ,WAAW;oBACtB,OAAO,OAAO,CAAC;gBACjB,OAAO,IAAI,WAAW;oBACpB,WAAW;gBACb;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,IAAI,WAAW;oBACb,OAAO,OAAO,CAAC;gBACjB;YACF;QACF;QAEA;QAEA,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;KAAO;IAEX,OAAO;QAAE;IAAQ;AACnB"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/adminCompetence.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\n\nexport type CompetenceGroup = {\n  id: string;\n  name: string;\n  description: string | null;\n  sort_order?: number;\n};\n\nexport type Competence = {\n  id: string;\n  group_id: string | null;\n  code: string | null;\n  name: string;\n  description: string | null;\n  is_safety_critical: boolean;\n  active: boolean;\n};\n\nexport type PositionAdmin = {\n  id: string;\n  name: string;\n  description: string | null;\n  site: string | null;\n  department: string | null;\n  min_headcount: number | null;\n};\n\nexport type PositionRequirementAdmin = {\n  id: string;\n  competence_id: string;\n  required_level: number;\n  mandatory: boolean;\n  notes?: string | null;\n};\n\nexport type PositionRequirementWithCompetence = PositionRequirementAdmin & {\n  competence_name: string;\n  competence_code: string | null;\n  group_name: string | null;\n};\n\nexport async function listCompetenceGroups(): Promise<CompetenceGroup[]> {\n  const { data, error } = await supabase\n    .from('competence_groups')\n    .select('id, name, description, sort_order')\n    .order('sort_order', { ascending: true })\n    .order('name', { ascending: true });\n\n  if (error) throw error;\n  return (data ?? []) as CompetenceGroup[];\n}\n\nexport async function createCompetenceGroup(payload: {\n  name: string;\n  description?: string;\n}): Promise<void> {\n  const { error } = await supabase.from('competence_groups').insert({\n    name: payload.name,\n    description: payload.description ?? null,\n  });\n\n  if (error) throw error;\n}\n\nexport async function updateCompetenceGroup(id: string, payload: {\n  name?: string;\n  description?: string | null;\n  sort_order?: number;\n}): Promise<void> {\n  const { error } = await supabase\n    .from('competence_groups')\n    .update(payload)\n    .eq('id', id);\n\n  if (error) throw error;\n}\n\nexport async function deleteCompetenceGroup(id: string): Promise<void> {\n  const { error } = await supabase\n    .from(\"competence_groups\")\n    .delete()\n    .eq(\"id\", id);\n\n  if (error) throw error;\n}\n\nexport async function listCompetences(): Promise<Competence[]> {\n  const { data, error } = await supabase\n    .from('competences')\n    .select(\n      'id, group_id, code, name, description, is_safety_critical, active'\n    )\n    .order('name', { ascending: true });\n\n  if (error) throw error;\n  return (data ?? []) as Competence[];\n}\n\nexport async function getCompetencesByGroup(groupId: string): Promise<Competence[]> {\n  const { data, error } = await supabase\n    .from(\"competences\")\n    .select(\"id, group_id, code, name, description, is_safety_critical, active\")\n    .eq(\"group_id\", groupId)\n    .order(\"name\", { ascending: true });\n\n  if (error) throw error;\n  return data || [];\n}\n\nexport async function createCompetence(payload: {\n  name: string;\n  code?: string;\n  group_id?: string | null;\n  description?: string;\n  is_safety_critical?: boolean;\n}): Promise<void> {\n  const { error } = await supabase.from('competences').insert({\n    name: payload.name,\n    code: payload.code ?? null,\n    group_id: payload.group_id ?? null,\n    description: payload.description ?? null,\n    is_safety_critical: payload.is_safety_critical ?? false,\n    active: true,\n  });\n\n  if (error) throw error;\n}\n\nexport async function updateCompetence(id: string, payload: {\n  name?: string;\n  code?: string | null;\n  group_id?: string | null;\n  description?: string | null;\n  is_safety_critical?: boolean;\n  active?: boolean;\n}): Promise<void> {\n  const { error } = await supabase\n    .from('competences')\n    .update(payload)\n    .eq('id', id);\n\n  if (error) throw error;\n}\n\nexport async function deleteCompetence(id: string): Promise<void> {\n  const { error } = await supabase\n    .from(\"competences\")\n    .delete()\n    .eq(\"id\", id);\n\n  if (error) throw error;\n}\n\nexport async function listPositions(): Promise<PositionAdmin[]> {\n  // Note: min_headcount excluded due to Supabase schema cache issue\n  // The column exists but PostgREST doesn't recognize it until cache refresh\n  const { data, error } = await supabase\n    .from('positions')\n    .select('id, name, description, site, department')\n    .order('name', { ascending: true });\n\n  if (error) throw error;\n  return (data ?? []).map((row) => ({\n    ...row,\n    min_headcount: null, // Will be null until schema cache is refreshed\n  })) as PositionAdmin[];\n}\n\nexport async function getPositionById(\n  id: string\n): Promise<PositionAdmin | null> {\n  // Note: min_headcount excluded due to Supabase schema cache issue\n  const { data, error } = await supabase\n    .from('positions')\n    .select('id, name, description, site, department')\n    .eq('id', id)\n    .single();\n\n  if (error) {\n    if ((error as any).code === 'PGRST116') {\n      return null;\n    }\n    throw error;\n  }\n  return {\n    ...data,\n    min_headcount: null,\n  } as PositionAdmin;\n}\n\nexport async function createPosition(payload: {\n  name: string;\n  description?: string;\n  site?: string;\n  department?: string;\n  min_headcount?: number;\n}): Promise<void> {\n  // Note: min_headcount excluded from insert due to Supabase schema cache issue\n  // The UI allows setting it, but it won't be saved until schema cache is refreshed\n  const { error } = await supabase.from('positions').insert({\n    name: payload.name,\n    description: payload.description ?? null,\n    site: payload.site ?? null,\n    department: payload.department ?? null,\n  });\n\n  if (error) throw error;\n}\n\nexport async function updatePosition(id: string, payload: {\n  name?: string;\n  description?: string | null;\n  site?: string | null;\n  department?: string | null;\n}): Promise<void> {\n  const { error } = await supabase\n    .from('positions')\n    .update(payload)\n    .eq('id', id);\n\n  if (error) throw error;\n}\n\nexport async function deletePosition(id: string): Promise<void> {\n  const { error } = await supabase\n    .from(\"positions\")\n    .delete()\n    .eq(\"id\", id);\n\n  if (error) throw error;\n}\n\nexport async function listPositionRequirements(\n  positionId: string\n): Promise<PositionRequirementAdmin[]> {\n  const { data, error } = await supabase\n    .from('position_competence_requirements')\n    .select(\n      'id, competence_id, required_level, mandatory, notes'\n    )\n    .eq('position_id', positionId)\n    .order('required_level', { ascending: false });\n\n  if (error) throw error;\n  return (data ?? []) as PositionRequirementAdmin[];\n}\n\nexport async function getPositionRequirements(\n  positionId: string\n): Promise<PositionRequirementWithCompetence[]> {\n  const { data, error } = await supabase\n    .from(\"position_competence_requirements\")\n    .select(`\n      id,\n      competence_id,\n      required_level,\n      mandatory,\n      notes,\n      competences (\n        name,\n        code,\n        competence_groups (\n          name\n        )\n      )\n    `)\n    .eq(\"position_id\", positionId);\n\n  if (error) throw error;\n\n  return (data || []).map((row: any) => ({\n    id: row.id,\n    competence_id: row.competence_id,\n    required_level: row.required_level,\n    mandatory: row.mandatory,\n    notes: row.notes,\n    competence_name: row.competences?.name || \"Unknown\",\n    competence_code: row.competences?.code || null,\n    group_name: row.competences?.competence_groups?.name || null,\n  }));\n}\n\nexport async function createPositionRequirement(payload: {\n  position_id: string;\n  competence_id: string;\n  required_level: number;\n  mandatory: boolean;\n  notes?: string;\n}): Promise<void> {\n  const { error } = await supabase\n    .from('position_competence_requirements')\n    .insert({\n      position_id: payload.position_id,\n      competence_id: payload.competence_id,\n      required_level: payload.required_level,\n      mandatory: payload.mandatory,\n      notes: payload.notes ?? null,\n    });\n\n  if (error) throw error;\n}\n\nexport async function updatePositionRequirement(\n  id: string,\n  payload: {\n    required_level?: number;\n    mandatory?: boolean;\n    notes?: string | null;\n  }\n): Promise<void> {\n  const { error } = await supabase\n    .from('position_competence_requirements')\n    .update(payload)\n    .eq('id', id);\n\n  if (error) throw error;\n}\n\nexport async function deletePositionRequirement(id: string): Promise<void> {\n  const { error } = await supabase\n    .from('position_competence_requirements')\n    .delete()\n    .eq('id', id);\n\n  if (error) throw error;\n}\n\n// Legacy aliases for backward compatibility\nexport const getCompetenceGroups = listCompetenceGroups;\nexport const getCompetences = listCompetences;\nexport const getPositions = listPositions;\nexport const getPosition = getPositionById;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/competence/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useAuthGuard } from \"@/hooks/useAuthGuard\";\nimport Link from \"next/link\";\nimport {\n  listCompetenceGroups,\n  listCompetences,\n  createCompetenceGroup,\n  updateCompetenceGroup,\n  createCompetence,\n  updateCompetence,\n  CompetenceGroup,\n  Competence,\n} from \"@/services/adminCompetence\";\nimport { Plus, Pencil, Shield, Check, X } from \"lucide-react\";\n\nexport default function CompetenceAdminPage() {\n  const { loading: authLoading } = useAuthGuard();\n  const [groups, setGroups] = useState<CompetenceGroup[]>([]);\n  const [competences, setCompetences] = useState<Competence[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const [selectedGroupFilter, setSelectedGroupFilter] = useState<string>(\"all\");\n\n  const [editingGroupId, setEditingGroupId] = useState<string | null>(null);\n  const [groupForm, setGroupForm] = useState({ name: \"\", description: \"\" });\n  const [showAddGroup, setShowAddGroup] = useState(false);\n\n  const [editingCompetenceId, setEditingCompetenceId] = useState<string | null>(null);\n  const [competenceForm, setCompetenceForm] = useState({\n    name: \"\",\n    code: \"\",\n    group_id: \"\",\n    description: \"\",\n    is_safety_critical: false,\n  });\n  const [showAddCompetence, setShowAddCompetence] = useState(false);\n\n  useEffect(() => {\n    if (!authLoading) {\n      loadData();\n    }\n  }, [authLoading]);\n\n  async function loadData() {\n    try {\n      setLoading(true);\n      const [groupsData, competencesData] = await Promise.all([\n        listCompetenceGroups(),\n        listCompetences(),\n      ]);\n      setGroups(groupsData);\n      setCompetences(competencesData);\n    } catch (err) {\n      setError(\"Failed to load data\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function startEditGroup(group: CompetenceGroup) {\n    setEditingGroupId(group.id);\n    setGroupForm({ name: group.name, description: group.description || \"\" });\n  }\n\n  function cancelEditGroup() {\n    setEditingGroupId(null);\n    setGroupForm({ name: \"\", description: \"\" });\n  }\n\n  async function handleSaveGroup() {\n    try {\n      if (editingGroupId) {\n        await updateCompetenceGroup(editingGroupId, {\n          name: groupForm.name,\n          description: groupForm.description || null,\n        });\n        setEditingGroupId(null);\n      } else {\n        await createCompetenceGroup({\n          name: groupForm.name,\n          description: groupForm.description || undefined,\n        });\n        setShowAddGroup(false);\n      }\n      setGroupForm({ name: \"\", description: \"\" });\n      loadData();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to save group\");\n    }\n  }\n\n  function startEditCompetence(comp: Competence) {\n    setEditingCompetenceId(comp.id);\n    setCompetenceForm({\n      name: comp.name,\n      code: comp.code || \"\",\n      group_id: comp.group_id || \"\",\n      description: comp.description || \"\",\n      is_safety_critical: comp.is_safety_critical,\n    });\n  }\n\n  function cancelEditCompetence() {\n    setEditingCompetenceId(null);\n    setCompetenceForm({ name: \"\", code: \"\", group_id: \"\", description: \"\", is_safety_critical: false });\n  }\n\n  async function handleSaveCompetence() {\n    try {\n      if (editingCompetenceId) {\n        await updateCompetence(editingCompetenceId, {\n          name: competenceForm.name,\n          code: competenceForm.code || null,\n          group_id: competenceForm.group_id || null,\n          description: competenceForm.description || null,\n          is_safety_critical: competenceForm.is_safety_critical,\n        });\n        setEditingCompetenceId(null);\n      } else {\n        await createCompetence({\n          name: competenceForm.name,\n          code: competenceForm.code || undefined,\n          group_id: competenceForm.group_id || null,\n          description: competenceForm.description || undefined,\n          is_safety_critical: competenceForm.is_safety_critical,\n        });\n        setShowAddCompetence(false);\n      }\n      setCompetenceForm({ name: \"\", code: \"\", group_id: \"\", description: \"\", is_safety_critical: false });\n      loadData();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to save competence\");\n    }\n  }\n\n  async function handleToggleActive(comp: Competence) {\n    try {\n      await updateCompetence(comp.id, { active: !comp.active });\n      loadData();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to update competence\");\n    }\n  }\n\n  if (authLoading) {\n    return (\n      <main className=\"hr-page\">\n        <p>Checking accessâ€¦</p>\n      </main>\n    );\n  }\n\n  if (loading) {\n    return (\n      <main className=\"hr-page\">\n        <p className=\"hr-page__subtitle\">Loading...</p>\n      </main>\n    );\n  }\n\n  if (error) {\n    return (\n      <main className=\"hr-page\">\n        <p className=\"hr-error\">{error}</p>\n      </main>\n    );\n  }\n\n  const filteredCompetences = selectedGroupFilter === \"all\"\n    ? competences\n    : selectedGroupFilter === \"ungrouped\"\n    ? competences.filter((c) => !c.group_id)\n    : competences.filter((c) => c.group_id === selectedGroupFilter);\n\n  const getGroupName = (groupId: string | null) => {\n    if (!groupId) return \"-\";\n    const group = groups.find((g) => g.id === groupId);\n    return group?.name || \"-\";\n  };\n\n  return (\n    <main className=\"hr-page\">\n      <div className=\"hr-page__header\">\n        <div>\n          <h1 className=\"hr-page__title\">Competence Admin</h1>\n          <p className=\"hr-page__subtitle\">Manage competence groups and competences used in matrices and gaps.</p>\n        </div>\n      </div>\n\n      <nav className=\"hr-breadcrumb\" style={{ marginBottom: 16 }}>\n        <Link href=\"/app/hr/tasks\" className=\"hr-breadcrumb__link\">Dashboard</Link>\n        <span className=\"hr-breadcrumb__separator\">/</span>\n        <span>Competence Admin</span>\n      </nav>\n\n      <div className=\"admin-grid\">\n        <div className=\"hr-card\" data-testid=\"panel-groups\">\n          <div className=\"hr-section__title\" style={{ padding: \"12px 16px\", borderBottom: \"1px solid var(--hr-border)\" }}>\n            Groups\n          </div>\n          <div style={{ padding: 16 }}>\n            {groups.map((group) => (\n              <div key={group.id} data-testid={`group-row-${group.id}`}>\n                {editingGroupId === group.id ? (\n                  <div style={{ marginBottom: 12, padding: 12, background: \"var(--hr-bg-secondary)\", borderRadius: 8 }}>\n                    <div className=\"hr-form-field\">\n                      <input\n                        type=\"text\"\n                        className=\"hr-input\"\n                        value={groupForm.name}\n                        onChange={(e) => setGroupForm({ ...groupForm, name: e.target.value })}\n                        placeholder=\"Group name\"\n                        data-testid=\"input-edit-group-name\"\n                      />\n                    </div>\n                    <div className=\"hr-form-field\">\n                      <input\n                        type=\"text\"\n                        className=\"hr-input\"\n                        value={groupForm.description}\n                        onChange={(e) => setGroupForm({ ...groupForm, description: e.target.value })}\n                        placeholder=\"Description (optional)\"\n                        data-testid=\"input-edit-group-description\"\n                      />\n                    </div>\n                    <div style={{ display: \"flex\", gap: 8 }}>\n                      <button className=\"hr-button hr-button--primary hr-button--sm\" onClick={handleSaveGroup} data-testid=\"button-save-edit-group\">\n                        <Check size={14} /> Save\n                      </button>\n                      <button className=\"hr-button hr-button--ghost hr-button--sm\" onClick={cancelEditGroup}>\n                        <X size={14} /> Cancel\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  <div\n                    style={{ display: \"flex\", alignItems: \"center\", gap: 8, padding: \"10px 0\", borderBottom: \"1px solid var(--hr-border-light)\" }}\n                  >\n                    <div style={{ flex: 1 }}>\n                      <div style={{ fontWeight: 500 }}>{group.name}</div>\n                      {group.description && <div className=\"hr-muted\" style={{ fontSize: 13 }}>{group.description}</div>}\n                    </div>\n                    <button\n                      className=\"hr-button hr-button--ghost hr-button--sm\"\n                      onClick={() => startEditGroup(group)}\n                      data-testid={`button-edit-group-${group.id}`}\n                    >\n                      <Pencil size={14} />\n                    </button>\n                  </div>\n                )}\n              </div>\n            ))}\n\n            {groups.length === 0 && !showAddGroup && (\n              <p className=\"hr-muted\" style={{ padding: \"12px 0\" }}>No groups yet.</p>\n            )}\n\n            {showAddGroup ? (\n              <div style={{ marginTop: 12, padding: 12, background: \"var(--hr-bg-secondary)\", borderRadius: 8 }}>\n                <div className=\"hr-form-field\">\n                  <input\n                    type=\"text\"\n                    className=\"hr-input\"\n                    value={groupForm.name}\n                    onChange={(e) => setGroupForm({ ...groupForm, name: e.target.value })}\n                    placeholder=\"Group name\"\n                    data-testid=\"input-new-group-name\"\n                  />\n                </div>\n                <div className=\"hr-form-field\">\n                  <input\n                    type=\"text\"\n                    className=\"hr-input\"\n                    value={groupForm.description}\n                    onChange={(e) => setGroupForm({ ...groupForm, description: e.target.value })}\n                    placeholder=\"Description (optional)\"\n                    data-testid=\"input-new-group-description\"\n                  />\n                </div>\n                <div style={{ display: \"flex\", gap: 8 }}>\n                  <button className=\"hr-button hr-button--primary hr-button--sm\" onClick={handleSaveGroup} data-testid=\"button-save-new-group\">\n                    <Check size={14} /> Add\n                  </button>\n                  <button className=\"hr-button hr-button--ghost hr-button--sm\" onClick={() => { setShowAddGroup(false); setGroupForm({ name: \"\", description: \"\" }); }}>\n                    <X size={14} /> Cancel\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <button\n                className=\"hr-button hr-button--secondary hr-button--sm\"\n                onClick={() => setShowAddGroup(true)}\n                style={{ marginTop: 12 }}\n                data-testid=\"button-new-group\"\n              >\n                <Plus size={14} /> Add Group\n              </button>\n            )}\n          </div>\n        </div>\n\n        <div className=\"hr-card\" data-testid=\"panel-competences\">\n          <div className=\"hr-section__title\" style={{ padding: \"12px 16px\", borderBottom: \"1px solid var(--hr-border)\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", gap: 16 }}>\n            <span>Competences</span>\n            <select\n              className=\"hr-select\"\n              value={selectedGroupFilter}\n              onChange={(e) => setSelectedGroupFilter(e.target.value)}\n              style={{ width: \"auto\", minWidth: 150 }}\n              data-testid=\"select-group-filter\"\n            >\n              <option value=\"all\">All Groups</option>\n              <option value=\"ungrouped\">Ungrouped</option>\n              {groups.map((g) => (\n                <option key={g.id} value={g.id}>{g.name}</option>\n              ))}\n            </select>\n          </div>\n          <div style={{ padding: 16 }}>\n            <table className=\"hr-table\">\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Code</th>\n                  <th>Group</th>\n                  <th>Safety</th>\n                  <th>Active</th>\n                  <th style={{ width: 60 }}>Edit</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredCompetences.map((comp) => (\n                  <tr key={comp.id} data-testid={`competence-row-${comp.id}`}>\n                    {editingCompetenceId === comp.id ? (\n                      <td colSpan={6}>\n                        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12, padding: \"8px 0\" }}>\n                          <div className=\"hr-form-field\">\n                            <label className=\"hr-form-label\">Name</label>\n                            <input\n                              type=\"text\"\n                              className=\"hr-input\"\n                              value={competenceForm.name}\n                              onChange={(e) => setCompetenceForm({ ...competenceForm, name: e.target.value })}\n                              data-testid=\"input-edit-competence-name\"\n                            />\n                          </div>\n                          <div className=\"hr-form-field\">\n                            <label className=\"hr-form-label\">Code</label>\n                            <input\n                              type=\"text\"\n                              className=\"hr-input\"\n                              value={competenceForm.code}\n                              onChange={(e) => setCompetenceForm({ ...competenceForm, code: e.target.value })}\n                              data-testid=\"input-edit-competence-code\"\n                            />\n                          </div>\n                          <div className=\"hr-form-field\">\n                            <label className=\"hr-form-label\">Group</label>\n                            <select\n                              className=\"hr-select\"\n                              value={competenceForm.group_id}\n                              onChange={(e) => setCompetenceForm({ ...competenceForm, group_id: e.target.value })}\n                              data-testid=\"select-edit-competence-group\"\n                            >\n                              <option value=\"\">No Group</option>\n                              {groups.map((g) => (\n                                <option key={g.id} value={g.id}>{g.name}</option>\n                              ))}\n                            </select>\n                          </div>\n                          <div className=\"hr-form-field\">\n                            <label className=\"hr-form-label\">Description</label>\n                            <input\n                              type=\"text\"\n                              className=\"hr-input\"\n                              value={competenceForm.description}\n                              onChange={(e) => setCompetenceForm({ ...competenceForm, description: e.target.value })}\n                              data-testid=\"input-edit-competence-description\"\n                            />\n                          </div>\n                          <div className=\"hr-form-field hr-form-field--inline\">\n                            <input\n                              type=\"checkbox\"\n                              id=\"edit-safety-critical\"\n                              checked={competenceForm.is_safety_critical}\n                              onChange={(e) => setCompetenceForm({ ...competenceForm, is_safety_critical: e.target.checked })}\n                              data-testid=\"checkbox-edit-safety-critical\"\n                            />\n                            <label htmlFor=\"edit-safety-critical\" className=\"hr-form-label\">Safety Critical</label>\n                          </div>\n                          <div style={{ display: \"flex\", gap: 8, alignItems: \"flex-end\" }}>\n                            <button className=\"hr-button hr-button--primary hr-button--sm\" onClick={handleSaveCompetence} data-testid=\"button-save-edit-competence\">\n                              <Check size={14} /> Save\n                            </button>\n                            <button className=\"hr-button hr-button--ghost hr-button--sm\" onClick={cancelEditCompetence}>\n                              <X size={14} /> Cancel\n                            </button>\n                          </div>\n                        </div>\n                      </td>\n                    ) : (\n                      <>\n                        <td>\n                          <div style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\n                            {comp.is_safety_critical && <Shield size={14} className=\"hr-icon--warning\" />}\n                            {comp.name}\n                          </div>\n                        </td>\n                        <td>{comp.code || \"-\"}</td>\n                        <td>{getGroupName(comp.group_id)}</td>\n                        <td>{comp.is_safety_critical ? \"Yes\" : \"No\"}</td>\n                        <td>\n                          <button\n                            className={`hr-toggle ${comp.active ? \"hr-toggle--on\" : \"hr-toggle--off\"}`}\n                            onClick={() => handleToggleActive(comp)}\n                            data-testid={`toggle-active-${comp.id}`}\n                            title={comp.active ? \"Active\" : \"Inactive\"}\n                          >\n                            {comp.active ? <Check size={12} /> : <X size={12} />}\n                          </button>\n                        </td>\n                        <td>\n                          <button\n                            className=\"hr-button hr-button--ghost hr-button--sm\"\n                            onClick={() => startEditCompetence(comp)}\n                            data-testid={`button-edit-competence-${comp.id}`}\n                          >\n                            <Pencil size={14} />\n                          </button>\n                        </td>\n                      </>\n                    )}\n                  </tr>\n                ))}\n                {filteredCompetences.length === 0 && !showAddCompetence && (\n                  <tr>\n                    <td colSpan={6} className=\"hr-muted\" style={{ textAlign: \"center\", padding: 24 }}>\n                      No competences found.\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n\n            {showAddCompetence ? (\n              <div style={{ marginTop: 16, padding: 16, background: \"var(--hr-bg-secondary)\", borderRadius: 8 }}>\n                <h4 className=\"hr-section__title\" style={{ marginBottom: 12 }}>Add Competence</h4>\n                <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12 }}>\n                  <div className=\"hr-form-field\">\n                    <label className=\"hr-form-label\">Name *</label>\n                    <input\n                      type=\"text\"\n                      className=\"hr-input\"\n                      value={competenceForm.name}\n                      onChange={(e) => setCompetenceForm({ ...competenceForm, name: e.target.value })}\n                      data-testid=\"input-new-competence-name\"\n                    />\n                  </div>\n                  <div className=\"hr-form-field\">\n                    <label className=\"hr-form-label\">Code</label>\n                    <input\n                      type=\"text\"\n                      className=\"hr-input\"\n                      value={competenceForm.code}\n                      onChange={(e) => setCompetenceForm({ ...competenceForm, code: e.target.value })}\n                      placeholder=\"e.g., CNC, WLD\"\n                      data-testid=\"input-new-competence-code\"\n                    />\n                  </div>\n                  <div className=\"hr-form-field\">\n                    <label className=\"hr-form-label\">Group</label>\n                    <select\n                      className=\"hr-select\"\n                      value={competenceForm.group_id}\n                      onChange={(e) => setCompetenceForm({ ...competenceForm, group_id: e.target.value })}\n                      data-testid=\"select-new-competence-group\"\n                    >\n                      <option value=\"\">No Group</option>\n                      {groups.map((g) => (\n                        <option key={g.id} value={g.id}>{g.name}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"hr-form-field\">\n                    <label className=\"hr-form-label\">Description</label>\n                    <input\n                      type=\"text\"\n                      className=\"hr-input\"\n                      value={competenceForm.description}\n                      onChange={(e) => setCompetenceForm({ ...competenceForm, description: e.target.value })}\n                      data-testid=\"input-new-competence-description\"\n                    />\n                  </div>\n                  <div className=\"hr-form-field hr-form-field--inline\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"new-safety-critical\"\n                      checked={competenceForm.is_safety_critical}\n                      onChange={(e) => setCompetenceForm({ ...competenceForm, is_safety_critical: e.target.checked })}\n                      data-testid=\"checkbox-new-safety-critical\"\n                    />\n                    <label htmlFor=\"new-safety-critical\" className=\"hr-form-label\">Safety Critical</label>\n                  </div>\n                  <div style={{ display: \"flex\", gap: 8, alignItems: \"flex-end\" }}>\n                    <button className=\"hr-button hr-button--primary hr-button--sm\" onClick={handleSaveCompetence} data-testid=\"button-save-new-competence\">\n                      <Check size={14} /> Add\n                    </button>\n                    <button className=\"hr-button hr-button--ghost hr-button--sm\" onClick={() => { setShowAddCompetence(false); setCompetenceForm({ name: \"\", code: \"\", group_id: \"\", description: \"\", is_safety_critical: false }); }}>\n                      <X size={14} /> Cancel\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <button\n                className=\"hr-button hr-button--primary hr-button--sm\"\n                onClick={() => setShowAddCompetence(true)}\n                style={{ marginTop: 16 }}\n                data-testid=\"button-new-competence\"\n              >\n                <Plus size={14} /> Add Competence\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}