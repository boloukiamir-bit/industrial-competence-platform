{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/button.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive: \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline: \"border [border-color:var(--button-outline)] shadow-xs active:shadow-none\",\n        secondary: \"border bg-secondary text-secondary-foreground border-secondary-border\",\n        ghost: \"border border-transparent\",\n      },\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,sTACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;QACT;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n        outline: \"border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n      size: {\n        default: \"\",\n        sm: \"text-[10px] px-2 py-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, size, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant, size }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,wMACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAmB;IAC/D,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;YAAS;QAAK,IAAI;QAAa,GAAG,KAAK;;;;;;AAE9E"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/gdpr.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\n\nexport async function logEmployeeAccess(\n  employeeId: string,\n  accessType: 'view_profile' | 'export_data' | 'download_document' | 'update_profile' | 'delete_profile',\n  metadata?: Record<string, unknown>\n): Promise<void> {\n  await supabase.from(\"gdpr_access_logs\").insert({\n    employee_id: employeeId,\n    access_type: accessType,\n    metadata: metadata || null,\n  });\n}\n\nexport async function exportEmployeeData(employeeId: string): Promise<Record<string, unknown>> {\n  const [\n    employeeResult,\n    skillsResult,\n    eventsResult,\n    salaryRecordsResult,\n    salaryRevisionsResult,\n    documentsResult,\n    reviewsResult,\n    equipmentResult,\n  ] = await Promise.all([\n    supabase.from(\"employees\").select(\"*\").eq(\"id\", employeeId).single(),\n    supabase.from(\"employee_skills\").select(\"*, skills(*)\").eq(\"employee_id\", employeeId),\n    supabase.from(\"person_events\").select(\"*\").eq(\"employee_id\", employeeId),\n    supabase.from(\"salary_records\").select(\"*\").eq(\"employee_id\", employeeId).order(\"effective_from\", { ascending: false }),\n    supabase.from(\"salary_revisions\").select(\"*\").eq(\"employee_id\", employeeId).order(\"revision_date\", { ascending: false }),\n    supabase.from(\"documents\").select(\"id, title, type, created_at, valid_to\").eq(\"employee_id\", employeeId),\n    supabase.from(\"employee_reviews\").select(\"*\").eq(\"employee_id\", employeeId).order(\"review_date\", { ascending: false }),\n    supabase.from(\"employee_equipment\").select(\"*, equipment(*)\").eq(\"employee_id\", employeeId),\n  ]);\n\n  await logEmployeeAccess(employeeId, \"export_data\", { exported_at: new Date().toISOString() });\n\n  return {\n    exportedAt: new Date().toISOString(),\n    employee: employeeResult.data || null,\n    skills: (skillsResult.data || []).map((s: Record<string, unknown>) => ({\n      skillName: (s.skills as Record<string, unknown>)?.name,\n      skillCode: (s.skills as Record<string, unknown>)?.code,\n      level: s.level,\n    })),\n    personEvents: (eventsResult.data || []).map((e: Record<string, unknown>) => ({\n      category: e.category,\n      title: e.title,\n      dueDate: e.due_date,\n      completedDate: e.completed_date,\n      status: e.status,\n    })),\n    salaryRecords: (salaryRecordsResult.data || []).map((s: Record<string, unknown>) => ({\n      effectiveFrom: s.effective_from,\n      salaryAmountSek: s.salary_amount_sek,\n      salaryType: s.salary_type,\n      positionTitle: s.position_title,\n    })),\n    salaryRevisions: (salaryRevisionsResult.data || []).map((s: Record<string, unknown>) => ({\n      revisionDate: s.revision_date,\n      previousSalarySek: s.previous_salary_sek,\n      newSalarySek: s.new_salary_sek,\n      reason: s.reason,\n    })),\n    documents: (documentsResult.data || []).map((d: Record<string, unknown>) => ({\n      title: d.title,\n      type: d.type,\n      createdAt: d.created_at,\n      validTo: d.valid_to,\n    })),\n    reviews: (reviewsResult.data || []).map((r: Record<string, unknown>) => ({\n      reviewDate: r.review_date,\n      periodStart: r.period_start,\n      periodEnd: r.period_end,\n      overallRating: r.overall_rating,\n      summary: r.summary,\n    })),\n    equipment: (equipmentResult.data || []).map((e: Record<string, unknown>) => ({\n      equipmentName: (e.equipment as Record<string, unknown>)?.name,\n      serialNumber: (e.equipment as Record<string, unknown>)?.serial_number,\n      assignedDate: e.assigned_date,\n      status: e.status,\n    })),\n  };\n}\n\nexport async function anonymizeEmployee(employeeId: string): Promise<void> {\n  await supabase\n    .from(\"employees\")\n    .update({\n      name: \"Anonymiserad\",\n      first_name: null,\n      last_name: null,\n      email: null,\n      phone: null,\n      address: null,\n      postal_code: null,\n      city: null,\n      date_of_birth: null,\n      updated_at: new Date().toISOString(),\n    })\n    .eq(\"id\", employeeId);\n\n  await logEmployeeAccess(employeeId, \"delete_profile\", { anonymized_at: new Date().toISOString() });\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,eAAe,kBACpB,UAAkB,EAClB,UAAsG,EACtG,QAAkC;IAElC,MAAM,iIAAQ,CAAC,IAAI,CAAC,oBAAoB,MAAM,CAAC;QAC7C,aAAa;QACb,aAAa;QACb,UAAU,YAAY;IACxB;AACF;AAEO,eAAe,mBAAmB,UAAkB;IACzD,MAAM,CACJ,gBACA,cACA,cACA,qBACA,uBACA,iBACA,eACA,gBACD,GAAG,MAAM,QAAQ,GAAG,CAAC;QACpB,iIAAQ,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC,KAAK,EAAE,CAAC,MAAM,YAAY,MAAM;QAClE,iIAAQ,CAAC,IAAI,CAAC,mBAAmB,MAAM,CAAC,gBAAgB,EAAE,CAAC,eAAe;QAC1E,iIAAQ,CAAC,IAAI,CAAC,iBAAiB,MAAM,CAAC,KAAK,EAAE,CAAC,eAAe;QAC7D,iIAAQ,CAAC,IAAI,CAAC,kBAAkB,MAAM,CAAC,KAAK,EAAE,CAAC,eAAe,YAAY,KAAK,CAAC,kBAAkB;YAAE,WAAW;QAAM;QACrH,iIAAQ,CAAC,IAAI,CAAC,oBAAoB,MAAM,CAAC,KAAK,EAAE,CAAC,eAAe,YAAY,KAAK,CAAC,iBAAiB;YAAE,WAAW;QAAM;QACtH,iIAAQ,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC,yCAAyC,EAAE,CAAC,eAAe;QAC7F,iIAAQ,CAAC,IAAI,CAAC,oBAAoB,MAAM,CAAC,KAAK,EAAE,CAAC,eAAe,YAAY,KAAK,CAAC,eAAe;YAAE,WAAW;QAAM;QACpH,iIAAQ,CAAC,IAAI,CAAC,sBAAsB,MAAM,CAAC,mBAAmB,EAAE,CAAC,eAAe;KACjF;IAED,MAAM,kBAAkB,YAAY,eAAe;QAAE,aAAa,IAAI,OAAO,WAAW;IAAG;IAE3F,OAAO;QACL,YAAY,IAAI,OAAO,WAAW;QAClC,UAAU,eAAe,IAAI,IAAI;QACjC,QAAQ,CAAC,aAAa,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAA+B,CAAC;gBACrE,WAAY,EAAE,MAAM,EAA8B;gBAClD,WAAY,EAAE,MAAM,EAA8B;gBAClD,OAAO,EAAE,KAAK;YAChB,CAAC;QACD,cAAc,CAAC,aAAa,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAA+B,CAAC;gBAC3E,UAAU,EAAE,QAAQ;gBACpB,OAAO,EAAE,KAAK;gBACd,SAAS,EAAE,QAAQ;gBACnB,eAAe,EAAE,cAAc;gBAC/B,QAAQ,EAAE,MAAM;YAClB,CAAC;QACD,eAAe,CAAC,oBAAoB,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAA+B,CAAC;gBACnF,eAAe,EAAE,cAAc;gBAC/B,iBAAiB,EAAE,iBAAiB;gBACpC,YAAY,EAAE,WAAW;gBACzB,eAAe,EAAE,cAAc;YACjC,CAAC;QACD,iBAAiB,CAAC,sBAAsB,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAA+B,CAAC;gBACvF,cAAc,EAAE,aAAa;gBAC7B,mBAAmB,EAAE,mBAAmB;gBACxC,cAAc,EAAE,cAAc;gBAC9B,QAAQ,EAAE,MAAM;YAClB,CAAC;QACD,WAAW,CAAC,gBAAgB,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAA+B,CAAC;gBAC3E,OAAO,EAAE,KAAK;gBACd,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,UAAU;gBACvB,SAAS,EAAE,QAAQ;YACrB,CAAC;QACD,SAAS,CAAC,cAAc,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAA+B,CAAC;gBACvE,YAAY,EAAE,WAAW;gBACzB,aAAa,EAAE,YAAY;gBAC3B,WAAW,EAAE,UAAU;gBACvB,eAAe,EAAE,cAAc;gBAC/B,SAAS,EAAE,OAAO;YACpB,CAAC;QACD,WAAW,CAAC,gBAAgB,IAAI,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAA+B,CAAC;gBAC3E,eAAgB,EAAE,SAAS,EAA8B;gBACzD,cAAe,EAAE,SAAS,EAA8B;gBACxD,cAAc,EAAE,aAAa;gBAC7B,QAAQ,EAAE,MAAM;YAClB,CAAC;IACH;AACF;AAEO,eAAe,kBAAkB,UAAkB;IACxD,MAAM,iIAAQ,CACX,IAAI,CAAC,aACL,MAAM,CAAC;QACN,MAAM;QACN,YAAY;QACZ,WAAW;QACX,OAAO;QACP,OAAO;QACP,SAAS;QACT,aAAa;QACb,MAAM;QACN,eAAe;QACf,YAAY,IAAI,OAAO,WAAW;IACpC,GACC,EAAE,CAAC,MAAM;IAEZ,MAAM,kBAAkB,YAAY,kBAAkB;QAAE,eAAe,IAAI,OAAO,WAAW;IAAG;AAClG"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/calendar.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\n\nexport interface IcsEventInput {\n  id: string;\n  scheduled_at: string;\n  duration_minutes?: number;\n  employee_name: string;\n  manager_name: string;\n  employee_email: string;\n  manager_email: string;\n  location?: string;\n}\n\nfunction formatIcsDate(date: Date): string {\n  return date\n    .toISOString()\n    .replace(/[-:]/g, \"\")\n    .replace(/\\.\\d{3}/, \"\");\n}\n\nfunction escapeIcsText(text: string): string {\n  return text\n    .replace(/\\\\/g, \"\\\\\\\\\")\n    .replace(/;/g, \"\\\\;\")\n    .replace(/,/g, \"\\\\,\")\n    .replace(/\\n/g, \"\\\\n\");\n}\n\nexport function generateIcsForOneToOne(meeting: IcsEventInput): string {\n  const startDate = new Date(meeting.scheduled_at);\n  const durationMs = (meeting.duration_minutes || 60) * 60 * 1000;\n  const endDate = new Date(startDate.getTime() + durationMs);\n\n  const uid = `meeting-${meeting.id}@industrialcompetence.app`;\n  const dtstamp = formatIcsDate(new Date());\n  const dtstart = formatIcsDate(startDate);\n  const dtend = formatIcsDate(endDate);\n\n  const baseUrl = process.env.NEXT_PUBLIC_APP_URL || \"https://industrial-competence.replit.app\";\n  const summary = escapeIcsText(`1:1 meeting – ${meeting.employee_name} & ${meeting.manager_name}`);\n  const description = escapeIcsText(\n    `1:1 meeting between ${meeting.employee_name} and ${meeting.manager_name}.\\n\\nView details: ${baseUrl}/app/one-to-ones/${meeting.id}`\n  );\n  const location = meeting.location ? escapeIcsText(meeting.location) : \"\";\n\n  const lines = [\n    \"BEGIN:VCALENDAR\",\n    \"VERSION:2.0\",\n    \"PRODID:-//Industrial Competence Platform//EN\",\n    \"CALSCALE:GREGORIAN\",\n    \"METHOD:REQUEST\",\n    \"BEGIN:VEVENT\",\n    `UID:${uid}`,\n    `DTSTAMP:${dtstamp}`,\n    `DTSTART:${dtstart}`,\n    `DTEND:${dtend}`,\n    `SUMMARY:${summary}`,\n    `DESCRIPTION:${description}`,\n    location ? `LOCATION:${location}` : \"\",\n    `ORGANIZER;CN=${escapeIcsText(meeting.manager_name)}:mailto:${meeting.manager_email}`,\n    `ATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;CN=${escapeIcsText(meeting.manager_name)}:mailto:${meeting.manager_email}`,\n    `ATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;CN=${escapeIcsText(meeting.employee_name)}:mailto:${meeting.employee_email}`,\n    \"STATUS:CONFIRMED\",\n    \"SEQUENCE:0\",\n    \"END:VEVENT\",\n    \"END:VCALENDAR\",\n  ].filter(Boolean);\n\n  return lines.join(\"\\r\\n\");\n}\n\nexport async function enqueueCalendarInviteEmails(meeting: IcsEventInput): Promise<number> {\n  const oneDayAgo = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString();\n\n  const { data: existingInvite } = await supabase\n    .from(\"email_outbox\")\n    .select(\"id\")\n    .filter(\"meta->>meeting_id\", \"eq\", String(meeting.id))\n    .filter(\"meta->>type\", \"eq\", \"one_to_one_invite\")\n    .gte(\"created_at\", oneDayAgo)\n    .in(\"status\", [\"pending\", \"sent\"])\n    .limit(1);\n\n  if (existingInvite && existingInvite.length > 0) {\n    return 0;\n  }\n\n  const icsContent = generateIcsForOneToOne(meeting);\n  const scheduledDate = new Date(meeting.scheduled_at).toLocaleDateString(\"sv-SE\");\n  const scheduledTime = new Date(meeting.scheduled_at).toLocaleTimeString(\"sv-SE\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n\n  let count = 0;\n\n  const employeeSubject = `1:1 meeting scheduled – ${scheduledDate} ${scheduledTime}`;\n  const employeeBody = `Hello ${meeting.employee_name},\n\nA 1:1 meeting has been scheduled with ${meeting.manager_name}.\n\nDate: ${scheduledDate}\nTime: ${scheduledTime}\nDuration: ${meeting.duration_minutes || 60} minutes\n${meeting.location ? `Location: ${meeting.location}` : \"\"}\n\nPlease add this to your calendar using the attached invite.\n\nBest regards,\nIndustrial Competence Platform`;\n\n  const { error: empError } = await supabase.from(\"email_outbox\").insert({\n    to_email: meeting.employee_email,\n    subject: employeeSubject,\n    body: employeeBody,\n    status: \"pending\",\n    meta: {\n      type: \"one_to_one_invite\",\n      meeting_id: String(meeting.id),\n      recipient_role: \"employee\",\n      ics: icsContent,\n    },\n  });\n\n  if (!empError) count++;\n\n  const managerSubject = `1:1 meeting scheduled with ${meeting.employee_name} – ${scheduledDate} ${scheduledTime}`;\n  const managerBody = `Hello ${meeting.manager_name},\n\nA 1:1 meeting has been scheduled with ${meeting.employee_name}.\n\nDate: ${scheduledDate}\nTime: ${scheduledTime}\nDuration: ${meeting.duration_minutes || 60} minutes\n${meeting.location ? `Location: ${meeting.location}` : \"\"}\n\nPlease add this to your calendar using the attached invite.\n\nBest regards,\nIndustrial Competence Platform`;\n\n  const { error: mgrError } = await supabase.from(\"email_outbox\").insert({\n    to_email: meeting.manager_email,\n    subject: managerSubject,\n    body: managerBody,\n    status: \"pending\",\n    meta: {\n      type: \"one_to_one_invite\",\n      meeting_id: String(meeting.id),\n      recipient_role: \"manager\",\n      ics: icsContent,\n    },\n  });\n\n  if (!mgrError) count++;\n\n  return count;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/services/oneToOne.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabaseClient\";\nimport type { OneToOneMeeting, OneToOneAction, OneToOneMeetingStatus, OneToOneActionOwner } from \"@/types/domain\";\nimport { enqueueCalendarInviteEmails } from \"@/lib/calendar\";\n\nexport async function getAllMeetings(): Promise<OneToOneMeeting[]> {\n  const { data, error } = await supabase\n    .from(\"one_to_one_meetings\")\n    .select(\"*, employee:employee_id(name), manager:manager_id(name)\")\n    .order(\"scheduled_at\", { ascending: false });\n\n  if (error) {\n    console.error(\"Error fetching all meetings:\", error);\n    return [];\n  }\n\n  return (data || []).map((row) => ({\n    id: row.id,\n    employeeId: row.employee_id,\n    employeeName: row.employee?.name || undefined,\n    managerId: row.manager_id || undefined,\n    managerName: row.manager?.name || undefined,\n    scheduledAt: row.scheduled_at,\n    durationMinutes: row.duration_minutes || undefined,\n    location: row.location || undefined,\n    status: row.status as OneToOneMeetingStatus,\n    templateName: row.template_name || undefined,\n    sharedAgenda: row.shared_agenda || undefined,\n    employeeNotesPrivate: row.employee_notes_private || undefined,\n    managerNotesPrivate: row.manager_notes_private || undefined,\n    createdAt: row.created_at,\n    updatedAt: row.updated_at || undefined,\n  }));\n}\n\nexport async function getMeetingsForEmployee(employeeId: string): Promise<OneToOneMeeting[]> {\n  const { data, error } = await supabase\n    .from(\"one_to_one_meetings\")\n    .select(\"*, employee:employee_id(name), manager:manager_id(name)\")\n    .eq(\"employee_id\", employeeId)\n    .order(\"scheduled_at\", { ascending: false });\n\n  if (error) {\n    console.error(\"Error fetching meetings for employee:\", error);\n    return [];\n  }\n\n  return (data || []).map((row) => ({\n    id: row.id,\n    employeeId: row.employee_id,\n    employeeName: row.employee?.name || undefined,\n    managerId: row.manager_id || undefined,\n    managerName: row.manager?.name || undefined,\n    scheduledAt: row.scheduled_at,\n    durationMinutes: row.duration_minutes || undefined,\n    location: row.location || undefined,\n    status: row.status as OneToOneMeetingStatus,\n    templateName: row.template_name || undefined,\n    sharedAgenda: row.shared_agenda || undefined,\n    employeeNotesPrivate: row.employee_notes_private || undefined,\n    managerNotesPrivate: row.manager_notes_private || undefined,\n    createdAt: row.created_at,\n    updatedAt: row.updated_at || undefined,\n  }));\n}\n\nexport async function getMeetingsForManager(managerId: string): Promise<OneToOneMeeting[]> {\n  const { data, error } = await supabase\n    .from(\"one_to_one_meetings\")\n    .select(\"*, employee:employee_id(name), manager:manager_id(name)\")\n    .eq(\"manager_id\", managerId)\n    .order(\"scheduled_at\", { ascending: false });\n\n  if (error) {\n    console.error(\"Error fetching meetings for manager:\", error);\n    return [];\n  }\n\n  return (data || []).map((row) => ({\n    id: row.id,\n    employeeId: row.employee_id,\n    employeeName: row.employee?.name || undefined,\n    managerId: row.manager_id || undefined,\n    managerName: row.manager?.name || undefined,\n    scheduledAt: row.scheduled_at,\n    durationMinutes: row.duration_minutes || undefined,\n    location: row.location || undefined,\n    status: row.status as OneToOneMeetingStatus,\n    templateName: row.template_name || undefined,\n    sharedAgenda: row.shared_agenda || undefined,\n    employeeNotesPrivate: row.employee_notes_private || undefined,\n    managerNotesPrivate: row.manager_notes_private || undefined,\n    createdAt: row.created_at,\n    updatedAt: row.updated_at || undefined,\n  }));\n}\n\nexport async function getMeetingById(id: string): Promise<OneToOneMeeting | null> {\n  const { data, error } = await supabase\n    .from(\"one_to_one_meetings\")\n    .select(\"*, employee:employee_id(name), manager:manager_id(name)\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error || !data) {\n    console.error(\"Error fetching meeting:\", error);\n    return null;\n  }\n\n  return {\n    id: data.id,\n    employeeId: data.employee_id,\n    employeeName: data.employee?.name || undefined,\n    managerId: data.manager_id || undefined,\n    managerName: data.manager?.name || undefined,\n    scheduledAt: data.scheduled_at,\n    durationMinutes: data.duration_minutes || undefined,\n    location: data.location || undefined,\n    status: data.status as OneToOneMeetingStatus,\n    templateName: data.template_name || undefined,\n    sharedAgenda: data.shared_agenda || undefined,\n    employeeNotesPrivate: data.employee_notes_private || undefined,\n    managerNotesPrivate: data.manager_notes_private || undefined,\n    createdAt: data.created_at,\n    updatedAt: data.updated_at || undefined,\n  };\n}\n\nexport type CreateMeetingPayload = {\n  employeeId: string;\n  managerId: string;\n  scheduledAt: string;\n  durationMinutes?: number;\n  location?: string;\n  templateName?: string;\n  sharedAgenda?: string;\n};\n\nexport async function createMeeting(payload: CreateMeetingPayload): Promise<OneToOneMeeting | null> {\n  if (!payload.employeeId || !payload.managerId || !payload.scheduledAt) {\n    console.error(\"Invalid meeting payload: missing required fields\");\n    return null;\n  }\n\n  const { data, error } = await supabase\n    .from(\"one_to_one_meetings\")\n    .insert({\n      employee_id: payload.employeeId,\n      manager_id: payload.managerId,\n      scheduled_at: payload.scheduledAt,\n      duration_minutes: payload.durationMinutes || null,\n      location: payload.location || null,\n      template_name: payload.templateName || null,\n      shared_agenda: payload.sharedAgenda || null,\n      status: \"planned\",\n    })\n    .select()\n    .single();\n\n  if (error || !data) {\n    console.error(\"Error creating meeting:\", error);\n    return null;\n  }\n\n  const { data: employeeData } = await supabase\n    .from(\"employees\")\n    .select(\"name, email\")\n    .eq(\"id\", payload.employeeId)\n    .single();\n\n  const { data: managerData } = await supabase\n    .from(\"employees\")\n    .select(\"name, email\")\n    .eq(\"id\", payload.managerId)\n    .single();\n\n  if (employeeData?.email && managerData?.email) {\n    try {\n      await enqueueCalendarInviteEmails({\n        id: data.id,\n        scheduled_at: data.scheduled_at,\n        duration_minutes: data.duration_minutes || undefined,\n        employee_name: employeeData.name || \"Employee\",\n        manager_name: managerData.name || \"Manager\",\n        employee_email: employeeData.email,\n        manager_email: managerData.email,\n        location: data.location || undefined,\n      });\n    } catch (calendarError) {\n      console.error(\"Error sending calendar invites:\", calendarError);\n    }\n  }\n\n  return {\n    id: data.id,\n    employeeId: data.employee_id,\n    employeeName: employeeData?.name || undefined,\n    managerId: data.manager_id || undefined,\n    managerName: managerData?.name || undefined,\n    scheduledAt: data.scheduled_at,\n    durationMinutes: data.duration_minutes || undefined,\n    location: data.location || undefined,\n    status: data.status as OneToOneMeetingStatus,\n    templateName: data.template_name || undefined,\n    sharedAgenda: data.shared_agenda || undefined,\n    employeeNotesPrivate: data.employee_notes_private || undefined,\n    managerNotesPrivate: data.manager_notes_private || undefined,\n    createdAt: data.created_at,\n    updatedAt: data.updated_at || undefined,\n  };\n}\n\nexport type UpdateMeetingPayload = {\n  status?: OneToOneMeetingStatus;\n  sharedAgenda?: string;\n  employeeNotesPrivate?: string;\n  managerNotesPrivate?: string;\n  scheduledAt?: string;\n  durationMinutes?: number;\n  location?: string;\n};\n\nexport async function updateMeeting(id: string, updates: UpdateMeetingPayload): Promise<boolean> {\n  if (!id) {\n    console.error(\"Invalid updateMeeting: missing meeting id\");\n    return false;\n  }\n\n  const validStatuses: OneToOneMeetingStatus[] = [\"planned\", \"in_progress\", \"completed\", \"cancelled\"];\n  if (updates.status !== undefined && !validStatuses.includes(updates.status)) {\n    console.error(\"Invalid status value:\", updates.status);\n    return false;\n  }\n\n  const updateData: Record<string, unknown> = { updated_at: new Date().toISOString() };\n  \n  if (updates.status !== undefined) updateData.status = updates.status;\n  if (updates.sharedAgenda !== undefined) updateData.shared_agenda = updates.sharedAgenda;\n  if (updates.employeeNotesPrivate !== undefined) updateData.employee_notes_private = updates.employeeNotesPrivate;\n  if (updates.managerNotesPrivate !== undefined) updateData.manager_notes_private = updates.managerNotesPrivate;\n  if (updates.scheduledAt !== undefined) updateData.scheduled_at = updates.scheduledAt;\n  if (updates.durationMinutes !== undefined) updateData.duration_minutes = updates.durationMinutes;\n  if (updates.location !== undefined) updateData.location = updates.location;\n\n  const { error } = await supabase\n    .from(\"one_to_one_meetings\")\n    .update(updateData)\n    .eq(\"id\", id);\n\n  if (error) {\n    console.error(\"Error updating meeting:\", error);\n    return false;\n  }\n\n  return true;\n}\n\nexport async function getActionsForMeeting(meetingId: string): Promise<OneToOneAction[]> {\n  const { data, error } = await supabase\n    .from(\"one_to_one_actions\")\n    .select(\"*\")\n    .eq(\"meeting_id\", meetingId)\n    .order(\"created_at\", { ascending: true });\n\n  if (error) {\n    console.error(\"Error fetching actions:\", error);\n    return [];\n  }\n\n  return (data || []).map((row) => ({\n    id: row.id,\n    meetingId: row.meeting_id,\n    description: row.description,\n    ownerType: row.owner_type as OneToOneActionOwner,\n    isCompleted: row.is_completed,\n    dueDate: row.due_date || undefined,\n    createdAt: row.created_at,\n    completedAt: row.completed_at || undefined,\n  }));\n}\n\nexport type AddActionPayload = {\n  description: string;\n  ownerType: OneToOneActionOwner;\n  dueDate?: string;\n};\n\nexport async function addAction(meetingId: string, payload: AddActionPayload): Promise<OneToOneAction | null> {\n  if (!meetingId || !payload.description || !payload.description.trim()) {\n    console.error(\"Invalid action payload: missing meetingId or description\");\n    return null;\n  }\n\n  const { data, error } = await supabase\n    .from(\"one_to_one_actions\")\n    .insert({\n      meeting_id: meetingId,\n      description: payload.description.trim(),\n      owner_type: payload.ownerType,\n      due_date: payload.dueDate || null,\n    })\n    .select()\n    .single();\n\n  if (error || !data) {\n    console.error(\"Error adding action:\", error);\n    return null;\n  }\n\n  return {\n    id: data.id,\n    meetingId: data.meeting_id,\n    description: data.description,\n    ownerType: data.owner_type as OneToOneActionOwner,\n    isCompleted: data.is_completed,\n    dueDate: data.due_date || undefined,\n    createdAt: data.created_at,\n    completedAt: data.completed_at || undefined,\n  };\n}\n\nexport async function completeAction(actionId: string): Promise<boolean> {\n  const { error } = await supabase\n    .from(\"one_to_one_actions\")\n    .update({\n      is_completed: true,\n      completed_at: new Date().toISOString(),\n    })\n    .eq(\"id\", actionId);\n\n  if (error) {\n    console.error(\"Error completing action:\", error);\n    return false;\n  }\n\n  return true;\n}\n\nexport async function getUpcomingMeetings(daysAhead: number = 7): Promise<OneToOneMeeting[]> {\n  const now = new Date();\n  const futureDate = new Date(now.getTime() + daysAhead * 24 * 60 * 60 * 1000);\n\n  const { data, error } = await supabase\n    .from(\"one_to_one_meetings\")\n    .select(\"*, employee:employee_id(name, email), manager:manager_id(name, email)\")\n    .eq(\"status\", \"planned\")\n    .gte(\"scheduled_at\", now.toISOString())\n    .lte(\"scheduled_at\", futureDate.toISOString())\n    .order(\"scheduled_at\", { ascending: true });\n\n  if (error) {\n    console.error(\"Error fetching upcoming meetings:\", error);\n    return [];\n  }\n\n  return (data || []).map((row) => ({\n    id: row.id,\n    employeeId: row.employee_id,\n    employeeName: row.employee?.name || undefined,\n    managerId: row.manager_id || undefined,\n    managerName: row.manager?.name || undefined,\n    scheduledAt: row.scheduled_at,\n    durationMinutes: row.duration_minutes || undefined,\n    location: row.location || undefined,\n    status: row.status as OneToOneMeetingStatus,\n    templateName: row.template_name || undefined,\n    sharedAgenda: row.shared_agenda || undefined,\n    employeeNotesPrivate: row.employee_notes_private || undefined,\n    managerNotesPrivate: row.manager_notes_private || undefined,\n    createdAt: row.created_at,\n    updatedAt: row.updated_at || undefined,\n  }));\n}\n\nexport async function getOverdueActions(): Promise<(OneToOneAction & { employeeEmail?: string; managerEmail?: string })[]> {\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  const { data, error } = await supabase\n    .from(\"one_to_one_actions\")\n    .select(\"*, meeting:meeting_id(employee:employee_id(email), manager:manager_id(email))\")\n    .eq(\"is_completed\", false)\n    .lt(\"due_date\", today);\n\n  if (error) {\n    console.error(\"Error fetching overdue actions:\", error);\n    return [];\n  }\n\n  return (data || []).map((row) => ({\n    id: row.id,\n    meetingId: row.meeting_id,\n    description: row.description,\n    ownerType: row.owner_type as OneToOneActionOwner,\n    isCompleted: row.is_completed,\n    dueDate: row.due_date || undefined,\n    createdAt: row.created_at,\n    completedAt: row.completed_at || undefined,\n    employeeEmail: row.meeting?.employee?.email || undefined,\n    managerEmail: row.meeting?.manager?.email || undefined,\n  }));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;AAEO,eAAe;IACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,uBACL,MAAM,CAAC,2DACP,KAAK,CAAC,gBAAgB;QAAE,WAAW;IAAM;IAE5C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,EAAE;IACX;IAEA,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAQ,CAAC;YAChC,IAAI,IAAI,EAAE;YACV,YAAY,IAAI,WAAW;YAC3B,cAAc,IAAI,QAAQ,EAAE,QAAQ;YACpC,WAAW,IAAI,UAAU,IAAI;YAC7B,aAAa,IAAI,OAAO,EAAE,QAAQ;YAClC,aAAa,IAAI,YAAY;YAC7B,iBAAiB,IAAI,gBAAgB,IAAI;YACzC,UAAU,IAAI,QAAQ,IAAI;YAC1B,QAAQ,IAAI,MAAM;YAClB,cAAc,IAAI,aAAa,IAAI;YACnC,cAAc,IAAI,aAAa,IAAI;YACnC,sBAAsB,IAAI,sBAAsB,IAAI;YACpD,qBAAqB,IAAI,qBAAqB,IAAI;YAClD,WAAW,IAAI,UAAU;YACzB,WAAW,IAAI,UAAU,IAAI;QAC/B,CAAC;AACH;AAEO,eAAe,uBAAuB,UAAkB;IAC7D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,uBACL,MAAM,CAAC,2DACP,EAAE,CAAC,eAAe,YAClB,KAAK,CAAC,gBAAgB;QAAE,WAAW;IAAM;IAE5C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,yCAAyC;QACvD,OAAO,EAAE;IACX;IAEA,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAQ,CAAC;YAChC,IAAI,IAAI,EAAE;YACV,YAAY,IAAI,WAAW;YAC3B,cAAc,IAAI,QAAQ,EAAE,QAAQ;YACpC,WAAW,IAAI,UAAU,IAAI;YAC7B,aAAa,IAAI,OAAO,EAAE,QAAQ;YAClC,aAAa,IAAI,YAAY;YAC7B,iBAAiB,IAAI,gBAAgB,IAAI;YACzC,UAAU,IAAI,QAAQ,IAAI;YAC1B,QAAQ,IAAI,MAAM;YAClB,cAAc,IAAI,aAAa,IAAI;YACnC,cAAc,IAAI,aAAa,IAAI;YACnC,sBAAsB,IAAI,sBAAsB,IAAI;YACpD,qBAAqB,IAAI,qBAAqB,IAAI;YAClD,WAAW,IAAI,UAAU;YACzB,WAAW,IAAI,UAAU,IAAI;QAC/B,CAAC;AACH;AAEO,eAAe,sBAAsB,SAAiB;IAC3D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,uBACL,MAAM,CAAC,2DACP,EAAE,CAAC,cAAc,WACjB,KAAK,CAAC,gBAAgB;QAAE,WAAW;IAAM;IAE5C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,wCAAwC;QACtD,OAAO,EAAE;IACX;IAEA,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAQ,CAAC;YAChC,IAAI,IAAI,EAAE;YACV,YAAY,IAAI,WAAW;YAC3B,cAAc,IAAI,QAAQ,EAAE,QAAQ;YACpC,WAAW,IAAI,UAAU,IAAI;YAC7B,aAAa,IAAI,OAAO,EAAE,QAAQ;YAClC,aAAa,IAAI,YAAY;YAC7B,iBAAiB,IAAI,gBAAgB,IAAI;YACzC,UAAU,IAAI,QAAQ,IAAI;YAC1B,QAAQ,IAAI,MAAM;YAClB,cAAc,IAAI,aAAa,IAAI;YACnC,cAAc,IAAI,aAAa,IAAI;YACnC,sBAAsB,IAAI,sBAAsB,IAAI;YACpD,qBAAqB,IAAI,qBAAqB,IAAI;YAClD,WAAW,IAAI,UAAU;YACzB,WAAW,IAAI,UAAU,IAAI;QAC/B,CAAC;AACH;AAEO,eAAe,eAAe,EAAU;IAC7C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,uBACL,MAAM,CAAC,2DACP,EAAE,CAAC,MAAM,IACT,MAAM;IAET,IAAI,SAAS,CAAC,MAAM;QAClB,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;IAEA,OAAO;QACL,IAAI,KAAK,EAAE;QACX,YAAY,KAAK,WAAW;QAC5B,cAAc,KAAK,QAAQ,EAAE,QAAQ;QACrC,WAAW,KAAK,UAAU,IAAI;QAC9B,aAAa,KAAK,OAAO,EAAE,QAAQ;QACnC,aAAa,KAAK,YAAY;QAC9B,iBAAiB,KAAK,gBAAgB,IAAI;QAC1C,UAAU,KAAK,QAAQ,IAAI;QAC3B,QAAQ,KAAK,MAAM;QACnB,cAAc,KAAK,aAAa,IAAI;QACpC,cAAc,KAAK,aAAa,IAAI;QACpC,sBAAsB,KAAK,sBAAsB,IAAI;QACrD,qBAAqB,KAAK,qBAAqB,IAAI;QACnD,WAAW,KAAK,UAAU;QAC1B,WAAW,KAAK,UAAU,IAAI;IAChC;AACF;AAYO,eAAe,cAAc,OAA6B;IAC/D,IAAI,CAAC,QAAQ,UAAU,IAAI,CAAC,QAAQ,SAAS,IAAI,CAAC,QAAQ,WAAW,EAAE;QACrE,QAAQ,KAAK,CAAC;QACd,OAAO;IACT;IAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,uBACL,MAAM,CAAC;QACN,aAAa,QAAQ,UAAU;QAC/B,YAAY,QAAQ,SAAS;QAC7B,cAAc,QAAQ,WAAW;QACjC,kBAAkB,QAAQ,eAAe,IAAI;QAC7C,UAAU,QAAQ,QAAQ,IAAI;QAC9B,eAAe,QAAQ,YAAY,IAAI;QACvC,eAAe,QAAQ,YAAY,IAAI;QACvC,QAAQ;IACV,GACC,MAAM,GACN,MAAM;IAET,IAAI,SAAS,CAAC,MAAM;QAClB,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;IAEA,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,iIAAQ,CAC1C,IAAI,CAAC,aACL,MAAM,CAAC,eACP,EAAE,CAAC,MAAM,QAAQ,UAAU,EAC3B,MAAM;IAET,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,iIAAQ,CACzC,IAAI,CAAC,aACL,MAAM,CAAC,eACP,EAAE,CAAC,MAAM,QAAQ,SAAS,EAC1B,MAAM;IAET,IAAI,cAAc,SAAS,aAAa,OAAO;QAC7C,IAAI;YACF,MAAM,IAAA,8IAA2B,EAAC;gBAChC,IAAI,KAAK,EAAE;gBACX,cAAc,KAAK,YAAY;gBAC/B,kBAAkB,KAAK,gBAAgB,IAAI;gBAC3C,eAAe,aAAa,IAAI,IAAI;gBACpC,cAAc,YAAY,IAAI,IAAI;gBAClC,gBAAgB,aAAa,KAAK;gBAClC,eAAe,YAAY,KAAK;gBAChC,UAAU,KAAK,QAAQ,IAAI;YAC7B;QACF,EAAE,OAAO,eAAe;YACtB,QAAQ,KAAK,CAAC,mCAAmC;QACnD;IACF;IAEA,OAAO;QACL,IAAI,KAAK,EAAE;QACX,YAAY,KAAK,WAAW;QAC5B,cAAc,cAAc,QAAQ;QACpC,WAAW,KAAK,UAAU,IAAI;QAC9B,aAAa,aAAa,QAAQ;QAClC,aAAa,KAAK,YAAY;QAC9B,iBAAiB,KAAK,gBAAgB,IAAI;QAC1C,UAAU,KAAK,QAAQ,IAAI;QAC3B,QAAQ,KAAK,MAAM;QACnB,cAAc,KAAK,aAAa,IAAI;QACpC,cAAc,KAAK,aAAa,IAAI;QACpC,sBAAsB,KAAK,sBAAsB,IAAI;QACrD,qBAAqB,KAAK,qBAAqB,IAAI;QACnD,WAAW,KAAK,UAAU;QAC1B,WAAW,KAAK,UAAU,IAAI;IAChC;AACF;AAYO,eAAe,cAAc,EAAU,EAAE,OAA6B;IAC3E,IAAI,CAAC,IAAI;QACP,QAAQ,KAAK,CAAC;QACd,OAAO;IACT;IAEA,MAAM,gBAAyC;QAAC;QAAW;QAAe;QAAa;KAAY;IACnG,IAAI,QAAQ,MAAM,KAAK,aAAa,CAAC,cAAc,QAAQ,CAAC,QAAQ,MAAM,GAAG;QAC3E,QAAQ,KAAK,CAAC,yBAAyB,QAAQ,MAAM;QACrD,OAAO;IACT;IAEA,MAAM,aAAsC;QAAE,YAAY,IAAI,OAAO,WAAW;IAAG;IAEnF,IAAI,QAAQ,MAAM,KAAK,WAAW,WAAW,MAAM,GAAG,QAAQ,MAAM;IACpE,IAAI,QAAQ,YAAY,KAAK,WAAW,WAAW,aAAa,GAAG,QAAQ,YAAY;IACvF,IAAI,QAAQ,oBAAoB,KAAK,WAAW,WAAW,sBAAsB,GAAG,QAAQ,oBAAoB;IAChH,IAAI,QAAQ,mBAAmB,KAAK,WAAW,WAAW,qBAAqB,GAAG,QAAQ,mBAAmB;IAC7G,IAAI,QAAQ,WAAW,KAAK,WAAW,WAAW,YAAY,GAAG,QAAQ,WAAW;IACpF,IAAI,QAAQ,eAAe,KAAK,WAAW,WAAW,gBAAgB,GAAG,QAAQ,eAAe;IAChG,IAAI,QAAQ,QAAQ,KAAK,WAAW,WAAW,QAAQ,GAAG,QAAQ,QAAQ;IAE1E,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC7B,IAAI,CAAC,uBACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM;IAEZ,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;IAEA,OAAO;AACT;AAEO,eAAe,qBAAqB,SAAiB;IAC1D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,KAAK,CAAC,cAAc;QAAE,WAAW;IAAK;IAEzC,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACX;IAEA,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAQ,CAAC;YAChC,IAAI,IAAI,EAAE;YACV,WAAW,IAAI,UAAU;YACzB,aAAa,IAAI,WAAW;YAC5B,WAAW,IAAI,UAAU;YACzB,aAAa,IAAI,YAAY;YAC7B,SAAS,IAAI,QAAQ,IAAI;YACzB,WAAW,IAAI,UAAU;YACzB,aAAa,IAAI,YAAY,IAAI;QACnC,CAAC;AACH;AAQO,eAAe,UAAU,SAAiB,EAAE,OAAyB;IAC1E,IAAI,CAAC,aAAa,CAAC,QAAQ,WAAW,IAAI,CAAC,QAAQ,WAAW,CAAC,IAAI,IAAI;QACrE,QAAQ,KAAK,CAAC;QACd,OAAO;IACT;IAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,sBACL,MAAM,CAAC;QACN,YAAY;QACZ,aAAa,QAAQ,WAAW,CAAC,IAAI;QACrC,YAAY,QAAQ,SAAS;QAC7B,UAAU,QAAQ,OAAO,IAAI;IAC/B,GACC,MAAM,GACN,MAAM;IAET,IAAI,SAAS,CAAC,MAAM;QAClB,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;IAEA,OAAO;QACL,IAAI,KAAK,EAAE;QACX,WAAW,KAAK,UAAU;QAC1B,aAAa,KAAK,WAAW;QAC7B,WAAW,KAAK,UAAU;QAC1B,aAAa,KAAK,YAAY;QAC9B,SAAS,KAAK,QAAQ,IAAI;QAC1B,WAAW,KAAK,UAAU;QAC1B,aAAa,KAAK,YAAY,IAAI;IACpC;AACF;AAEO,eAAe,eAAe,QAAgB;IACnD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC7B,IAAI,CAAC,sBACL,MAAM,CAAC;QACN,cAAc;QACd,cAAc,IAAI,OAAO,WAAW;IACtC,GACC,EAAE,CAAC,MAAM;IAEZ,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACT;IAEA,OAAO;AACT;AAEO,eAAe,oBAAoB,YAAoB,CAAC;IAC7D,MAAM,MAAM,IAAI;IAChB,MAAM,aAAa,IAAI,KAAK,IAAI,OAAO,KAAK,YAAY,KAAK,KAAK,KAAK;IAEvE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,uBACL,MAAM,CAAC,yEACP,EAAE,CAAC,UAAU,WACb,GAAG,CAAC,gBAAgB,IAAI,WAAW,IACnC,GAAG,CAAC,gBAAgB,WAAW,WAAW,IAC1C,KAAK,CAAC,gBAAgB;QAAE,WAAW;IAAK;IAE3C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,EAAE;IACX;IAEA,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAQ,CAAC;YAChC,IAAI,IAAI,EAAE;YACV,YAAY,IAAI,WAAW;YAC3B,cAAc,IAAI,QAAQ,EAAE,QAAQ;YACpC,WAAW,IAAI,UAAU,IAAI;YAC7B,aAAa,IAAI,OAAO,EAAE,QAAQ;YAClC,aAAa,IAAI,YAAY;YAC7B,iBAAiB,IAAI,gBAAgB,IAAI;YACzC,UAAU,IAAI,QAAQ,IAAI;YAC1B,QAAQ,IAAI,MAAM;YAClB,cAAc,IAAI,aAAa,IAAI;YACnC,cAAc,IAAI,aAAa,IAAI;YACnC,sBAAsB,IAAI,sBAAsB,IAAI;YACpD,qBAAqB,IAAI,qBAAqB,IAAI;YAClD,WAAW,IAAI,UAAU;YACzB,WAAW,IAAI,UAAU,IAAI;QAC/B,CAAC;AACH;AAEO,eAAe;IACpB,MAAM,QAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAEpD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,sBACL,MAAM,CAAC,iFACP,EAAE,CAAC,gBAAgB,OACnB,EAAE,CAAC,YAAY;IAElB,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO,EAAE;IACX;IAEA,OAAO,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAQ,CAAC;YAChC,IAAI,IAAI,EAAE;YACV,WAAW,IAAI,UAAU;YACzB,aAAa,IAAI,WAAW;YAC5B,WAAW,IAAI,UAAU;YACzB,aAAa,IAAI,YAAY;YAC7B,SAAS,IAAI,QAAQ,IAAI;YACzB,WAAW,IAAI,UAAU;YACzB,aAAa,IAAI,YAAY,IAAI;YACjC,eAAe,IAAI,OAAO,EAAE,UAAU,SAAS;YAC/C,cAAc,IAAI,OAAO,EAAE,SAAS,SAAS;QAC/C,CAAC;AACH"}},
    {"offset": {"line": 769, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/employees/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport {\n  User,\n  Mail,\n  Phone,\n  MapPin,\n  Calendar,\n  Briefcase,\n  ArrowLeft,\n  FileText,\n  Package,\n  AlertTriangle,\n  Star,\n  Banknote,\n  Plus,\n  Download,\n  Shield,\n  MessageSquare,\n  Building2,\n} from \"lucide-react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport type {\n  Employee,\n  EmployeeSkill,\n  PersonEvent,\n  Document,\n  EmployeeEquipment,\n  EmployeeReview,\n  SalaryRecord,\n  SalaryRevision,\n  OneToOneMeeting,\n} from \"@/types/domain\";\nimport { logEmployeeAccess } from \"@/services/gdpr\";\nimport { getMeetingsForEmployee } from \"@/services/oneToOne\";\n\ntype TabId = \"personal\" | \"contact\" | \"organisation\" | \"employment\" | \"compensation\" | \"competence\" | \"one-to-ones\" | \"documents\" | \"events\" | \"equipment\";\n\ntype EmployeeData = {\n  employee: Employee | null;\n  skills: EmployeeSkill[];\n  events: PersonEvent[];\n  documents: Document[];\n  equipment: EmployeeEquipment[];\n  reviews: EmployeeReview[];\n  currentSalary: SalaryRecord | null;\n  salaryRevisions: SalaryRevision[];\n  meetings: OneToOneMeeting[];\n};\n\nfunction InfoRow({ icon: Icon, label, value }: { icon: React.ElementType; label: string; value: string }) {\n  return (\n    <div className=\"flex items-start gap-3\" data-testid={`info-${label.toLowerCase().replace(/\\s+/g, \"-\")}`}>\n      <Icon className=\"h-4 w-4 text-muted-foreground mt-0.5\" />\n      <div>\n        <p className=\"text-sm text-muted-foreground\">{label}</p>\n        <p className=\"font-medium\">{value}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default function EmployeeDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const id = params.id as string;\n\n  const [data, setData] = useState<EmployeeData>({\n    employee: null,\n    skills: [],\n    events: [],\n    documents: [],\n    equipment: [],\n    reviews: [],\n    currentSalary: null,\n    salaryRevisions: [],\n    meetings: [],\n  });\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<TabId>(\"personal\");\n\n  useEffect(() => {\n    async function loadData() {\n      const [\n        employeeRes,\n        skillsRes,\n        eventsRes,\n        docsRes,\n        equipRes,\n        reviewsRes,\n        salaryRes,\n        revisionsRes,\n        meetingsData,\n      ] = await Promise.all([\n        supabase.from(\"employees\").select(\"*, manager:manager_id(name)\").eq(\"id\", id).single(),\n        supabase.from(\"employee_skills\").select(\"*, skills(*)\").eq(\"employee_id\", id),\n        supabase.from(\"person_events\").select(\"*\").eq(\"employee_id\", id).order(\"due_date\"),\n        supabase.from(\"documents\").select(\"*\").eq(\"employee_id\", id).order(\"created_at\", { ascending: false }),\n        supabase.from(\"employee_equipment\").select(\"*, equipment(*)\").eq(\"employee_id\", id).eq(\"status\", \"assigned\"),\n        supabase.from(\"employee_reviews\").select(\"*, manager:manager_id(name), template:template_id(name)\").eq(\"employee_id\", id).order(\"review_date\", { ascending: false }),\n        supabase.from(\"salary_records\").select(\"*\").eq(\"employee_id\", id).order(\"effective_from\", { ascending: false }).limit(1),\n        supabase.from(\"salary_revisions\").select(\"*, manager:decided_by_manager_id(name)\").eq(\"employee_id\", id).order(\"revision_date\", { ascending: false }),\n        getMeetingsForEmployee(id),\n      ]);\n\n      if (employeeRes.data) {\n        try {\n          await logEmployeeAccess(id, \"view_profile\");\n        } catch (e) {\n          console.error(\"Error logging access:\", e);\n        }\n      }\n\n      const empData = employeeRes.data;\n      const managerData = empData?.manager as { name: string } | null;\n      \n      setData({\n        employee: empData\n          ? {\n              id: empData.id,\n              name: empData.name || \"\",\n              firstName: empData.first_name || undefined,\n              lastName: empData.last_name || undefined,\n              employeeNumber: empData.employee_number || \"\",\n              email: empData.email || undefined,\n              phone: empData.phone || undefined,\n              dateOfBirth: empData.date_of_birth || undefined,\n              role: empData.role || \"\",\n              line: empData.line || \"\",\n              team: empData.team || \"\",\n              employmentType: empData.employment_type || \"permanent\",\n              startDate: empData.start_date || undefined,\n              contractEndDate: empData.contract_end_date || undefined,\n              managerId: empData.manager_id || undefined,\n              managerName: managerData?.name || undefined,\n              address: empData.address || undefined,\n              city: empData.city || undefined,\n              postalCode: empData.postal_code || undefined,\n              country: empData.country || \"Sweden\",\n              isActive: empData.is_active ?? true,\n            }\n          : null,\n        skills: (skillsRes.data || []).map((row) => {\n          const skill = row.skills as { name: string; code: string; category: string } | null;\n          return {\n            employeeId: row.employee_id,\n            skillId: row.skill_id,\n            level: row.level,\n            skillName: skill?.name,\n            skillCode: skill?.code,\n            skillCategory: skill?.category,\n          };\n        }),\n        events: (eventsRes.data || []).map((row) => ({\n          id: row.id,\n          employeeId: row.employee_id,\n          category: row.category,\n          title: row.title,\n          description: row.description,\n          dueDate: row.due_date,\n          completedDate: row.completed_date,\n          recurrence: row.recurrence,\n          ownerManagerId: row.owner_manager_id,\n          status: row.status,\n          notes: row.notes,\n        })),\n        documents: (docsRes.data || []).map((row) => ({\n          id: row.id,\n          employeeId: row.employee_id,\n          title: row.title,\n          type: row.type,\n          url: row.url,\n          createdAt: row.created_at,\n          validTo: row.valid_to,\n        })),\n        equipment: (equipRes.data || []).map((row) => {\n          const equip = row.equipment as { name: string; serial_number: string } | null;\n          return {\n            id: row.id,\n            employeeId: row.employee_id,\n            equipmentId: row.equipment_id,\n            equipmentName: equip?.name,\n            serialNumber: equip?.serial_number,\n            assignedDate: row.assigned_date,\n            returnDate: row.return_date,\n            status: row.status,\n          };\n        }),\n        reviews: (reviewsRes.data || []).map((row) => {\n          const manager = row.manager as { name: string } | null;\n          const template = row.template as { name: string } | null;\n          return {\n            id: row.id,\n            employeeId: row.employee_id,\n            managerId: row.manager_id,\n            managerName: manager?.name,\n            templateId: row.template_id,\n            templateName: template?.name,\n            reviewDate: row.review_date,\n            periodStart: row.period_start,\n            periodEnd: row.period_end,\n            overallRating: row.overall_rating,\n            summary: row.summary,\n            goals: row.goals,\n            notes: row.notes,\n            createdAt: row.created_at,\n            updatedAt: row.updated_at,\n          };\n        }),\n        currentSalary:\n          salaryRes.data && salaryRes.data.length > 0\n            ? {\n                id: salaryRes.data[0].id,\n                employeeId: salaryRes.data[0].employee_id,\n                effectiveFrom: salaryRes.data[0].effective_from,\n                salaryAmountSek: parseFloat(salaryRes.data[0].salary_amount_sek) || 0,\n                salaryType: salaryRes.data[0].salary_type || \"monthly\",\n                positionTitle: salaryRes.data[0].position_title || undefined,\n                notes: salaryRes.data[0].notes || undefined,\n                createdAt: salaryRes.data[0].created_at,\n                createdBy: salaryRes.data[0].created_by || undefined,\n              }\n            : null,\n        salaryRevisions: (revisionsRes.data || []).map((row) => {\n          const manager = row.manager as { name: string } | null;\n          return {\n            id: row.id,\n            employeeId: row.employee_id,\n            revisionDate: row.revision_date,\n            previousSalarySek: parseFloat(row.previous_salary_sek) || 0,\n            newSalarySek: parseFloat(row.new_salary_sek) || 0,\n            salaryType: row.salary_type || \"monthly\",\n            reason: row.reason || undefined,\n            decidedByManagerId: row.decided_by_manager_id || undefined,\n            decidedByManagerName: manager?.name || undefined,\n            documentId: row.document_id,\n            createdAt: row.created_at,\n          };\n        }),\n        meetings: meetingsData,\n      });\n      setLoading(false);\n    }\n    if (id) loadData();\n  }, [id]);\n\n  async function handleExportData() {\n    const response = await fetch(`/api/gdpr/export-employee-data?employee_id=${id}`);\n    const exportData = await response.json();\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `employee-data-${data.employee?.employeeNumber || id}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-muted rounded w-48\" />\n          <div className=\"h-64 bg-muted rounded\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (!data.employee) {\n    return (\n      <div className=\"p-6\">\n        <p className=\"text-muted-foreground\">Employee not found</p>\n        <Link href=\"/app/employees\" className=\"text-primary hover:underline mt-2 inline-block\">\n          Back to employees\n        </Link>\n      </div>\n    );\n  }\n\n  const { employee, skills, events, documents, equipment, reviews, currentSalary, salaryRevisions, meetings } = data;\n\n  const navItems: { id: TabId; label: string; icon: React.ElementType; count?: number }[] = [\n    { id: \"personal\", label: \"Personal Data\", icon: User },\n    { id: \"contact\", label: \"Contact Information\", icon: Mail },\n    { id: \"organisation\", label: \"Organisation\", icon: Building2 },\n    { id: \"employment\", label: \"Job & Employment\", icon: Briefcase },\n    { id: \"compensation\", label: \"Compensation\", icon: Banknote },\n    { id: \"competence\", label: \"Competence\", icon: Star, count: skills.length },\n    { id: \"one-to-ones\", label: \"1:1 / Medarbetarsamtal\", icon: MessageSquare, count: meetings.length },\n    { id: \"documents\", label: \"Documents\", icon: FileText, count: documents.length },\n    { id: \"events\", label: \"People Risk & Tasks\", icon: AlertTriangle, count: events.filter((e) => e.status !== \"completed\").length },\n    { id: \"equipment\", label: \"Equipment\", icon: Package, count: equipment.length },\n  ];\n\n  const levelLabels = [\"Not trained\", \"In training\", \"Can assist\", \"Trained\", \"Can train others\"];\n\n  const categoryLabels: Record<string, string> = {\n    contract: \"Contract\",\n    medical_check: \"Medical Check\",\n    training: \"Training\",\n    onboarding: \"Onboarding\",\n    offboarding: \"Offboarding\",\n    work_env_delegation: \"Work Env Delegation\",\n    equipment: \"Equipment\",\n  };\n\n  const statusVariants: Record<string, \"default\" | \"secondary\" | \"destructive\" | \"outline\"> = {\n    upcoming: \"outline\",\n    due_soon: \"default\",\n    overdue: \"destructive\",\n    completed: \"secondary\",\n  };\n\n  return (\n    <div className=\"flex h-full\">\n      <aside className=\"w-64 border-r bg-muted/30 p-4 flex flex-col\">\n        <div className=\"mb-6\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => router.push(\"/app/employees\")} data-testid=\"button-back\">\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n        </div>\n        \n        <div className=\"mb-6 px-2\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center\">\n              <User className=\"h-6 w-6 text-primary\" />\n            </div>\n            <div>\n              <h2 className=\"font-semibold\" data-testid=\"text-employee-name\">{employee.name}</h2>\n              <p className=\"text-sm text-muted-foreground\">{employee.role || \"No role\"}</p>\n            </div>\n          </div>\n          <p className=\"text-xs text-muted-foreground px-1\">{employee.employeeNumber}</p>\n        </div>\n\n        <nav className=\"flex-1 space-y-1\">\n          {navItems.map((item) => {\n            const Icon = item.icon;\n            const isActive = activeTab === item.id;\n            return (\n              <button\n                key={item.id}\n                onClick={() => setActiveTab(item.id)}\n                className={`w-full flex items-center justify-between gap-2 px-3 py-2 text-sm rounded-md transition-colors ${\n                  isActive\n                    ? \"bg-primary text-primary-foreground\"\n                    : \"text-muted-foreground hover-elevate\"\n                }`}\n                data-testid={`nav-${item.id}`}\n              >\n                <span className=\"flex items-center gap-2\">\n                  <Icon className=\"h-4 w-4\" />\n                  {item.label}\n                </span>\n                {item.count !== undefined && item.count > 0 && (\n                  <Badge variant={isActive ? \"secondary\" : \"outline\"} className=\"text-xs\">\n                    {item.count}\n                  </Badge>\n                )}\n              </button>\n            );\n          })}\n        </nav>\n\n        <div className=\"mt-4 pt-4 border-t\">\n          <Button variant=\"outline\" size=\"sm\" className=\"w-full\" onClick={handleExportData} data-testid=\"button-export-gdpr\">\n            <Shield className=\"h-4 w-4 mr-2\" />\n            Export Data (GDPR)\n          </Button>\n        </div>\n      </aside>\n\n      <main className=\"flex-1 overflow-auto p-6\">\n        {activeTab === \"personal\" && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Personal Data</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <InfoRow icon={User} label=\"Full Name\" value={employee.name} />\n                <InfoRow icon={User} label=\"First Name\" value={employee.firstName || \"-\"} />\n                <InfoRow icon={User} label=\"Last Name\" value={employee.lastName || \"-\"} />\n                <InfoRow icon={Calendar} label=\"Date of Birth\" value={employee.dateOfBirth ? new Date(employee.dateOfBirth).toLocaleDateString(\"sv-SE\") : \"-\"} />\n                <InfoRow icon={User} label=\"Employee Number\" value={employee.employeeNumber} />\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"contact\" && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Contact Information</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <InfoRow icon={Mail} label=\"Email\" value={employee.email || \"-\"} />\n                <InfoRow icon={Phone} label=\"Phone\" value={employee.phone || \"-\"} />\n                <InfoRow icon={MapPin} label=\"Address\" value={employee.address || \"-\"} />\n                <InfoRow icon={MapPin} label=\"City\" value={employee.city || \"-\"} />\n                <InfoRow icon={MapPin} label=\"Postal Code\" value={employee.postalCode || \"-\"} />\n                <InfoRow icon={MapPin} label=\"Country\" value={employee.country || \"Sweden\"} />\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"organisation\" && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Organisation</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <InfoRow icon={Building2} label=\"Line\" value={employee.line || \"-\"} />\n                <InfoRow icon={Building2} label=\"Team\" value={employee.team || \"-\"} />\n                <InfoRow icon={User} label=\"Manager\" value={employee.managerName || \"-\"} />\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"employment\" && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Job & Employment</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <InfoRow icon={Briefcase} label=\"Role\" value={employee.role || \"-\"} />\n                <InfoRow icon={Briefcase} label=\"Employment Type\" value={employee.employmentType} />\n                <InfoRow icon={Calendar} label=\"Start Date\" value={employee.startDate ? new Date(employee.startDate).toLocaleDateString(\"sv-SE\") : \"-\"} />\n                <InfoRow icon={Calendar} label=\"Contract End Date\" value={employee.contractEndDate ? new Date(employee.contractEndDate).toLocaleDateString(\"sv-SE\") : \"-\"} />\n                <InfoRow icon={User} label=\"Status\" value={employee.isActive ? \"Active\" : \"Inactive\"} />\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"compensation\" && (\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n                <CardTitle>Current Salary</CardTitle>\n                <Link href={`/app/employees/${id}/salary/new`}>\n                  <Button size=\"sm\" data-testid=\"button-new-salary\">\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    New Revision\n                  </Button>\n                </Link>\n              </CardHeader>\n              <CardContent>\n                {currentSalary ? (\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                    <div>\n                      <p className=\"text-sm text-muted-foreground\">Amount</p>\n                      <p className=\"text-2xl font-bold\">{currentSalary.salaryAmountSek.toLocaleString(\"sv-SE\")} SEK</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-muted-foreground\">Type</p>\n                      <p className=\"font-medium capitalize\">{currentSalary.salaryType}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-muted-foreground\">Effective From</p>\n                      <p className=\"font-medium\">{new Date(currentSalary.effectiveFrom).toLocaleDateString(\"sv-SE\")}</p>\n                    </div>\n                  </div>\n                ) : (\n                  <p className=\"text-muted-foreground\">No salary record</p>\n                )}\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Salary History</CardTitle>\n              </CardHeader>\n              <CardContent>\n                {salaryRevisions.length === 0 ? (\n                  <p className=\"text-muted-foreground text-center py-4\">No salary revisions</p>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {salaryRevisions.map((rev) => (\n                      <div key={rev.id} className=\"flex items-center justify-between p-3 border rounded-md\">\n                        <div>\n                          <p className=\"font-medium\">\n                            {rev.previousSalarySek.toLocaleString(\"sv-SE\")} → {rev.newSalarySek.toLocaleString(\"sv-SE\")} SEK\n                          </p>\n                          <p className=\"text-sm text-muted-foreground\">{rev.reason || \"No reason\"}</p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"text-sm\">{new Date(rev.revisionDate).toLocaleDateString(\"sv-SE\")}</p>\n                          {rev.decidedByManagerName && (\n                            <p className=\"text-xs text-muted-foreground\">by {rev.decidedByManagerName}</p>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {activeTab === \"competence\" && (\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n              <CardTitle>Competence</CardTitle>\n              <Link href={`/app/employees/${id}/competence`} className=\"hr-link\" data-testid=\"link-competence-profile\">\n                Visa kompetensprofil →\n              </Link>\n            </CardHeader>\n            <CardContent>\n              {skills.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">No competencies registered</p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {skills.map((skill) => (\n                    <div key={skill.skillId} className=\"flex items-center justify-between p-3 border rounded-md\">\n                      <div>\n                        <p className=\"font-medium\">{skill.skillName || \"Unknown\"}</p>\n                        <p className=\"text-sm text-muted-foreground\">{skill.skillCategory || \"Uncategorized\"}</p>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"flex gap-1\">\n                          {[0, 1, 2, 3, 4].map((l) => (\n                            <div\n                              key={l}\n                              className={`w-3 h-3 rounded-full ${l <= skill.level ? \"bg-primary\" : \"bg-muted\"}`}\n                            />\n                          ))}\n                        </div>\n                        <span className=\"text-sm text-muted-foreground w-24 text-right\">\n                          {levelLabels[skill.level]}\n                        </span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"one-to-ones\" && (\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n              <CardTitle>1:1 Meetings / Medarbetarsamtal</CardTitle>\n              <Link href={`/app/employees/${id}/one-to-ones`}>\n                <Button size=\"sm\" data-testid=\"button-view-all-meetings\">\n                  View All\n                </Button>\n              </Link>\n            </CardHeader>\n            <CardContent>\n              {meetings.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <p className=\"text-muted-foreground mb-4\">No 1:1 meetings scheduled</p>\n                  <Link href={`/app/employees/${id}/one-to-ones`}>\n                    <Button data-testid=\"button-schedule-meeting\">\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Schedule Meeting\n                    </Button>\n                  </Link>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {meetings.slice(0, 5).map((meeting) => (\n                    <Link key={meeting.id} href={`/app/one-to-ones/${meeting.id}`}>\n                      <div className=\"flex items-center justify-between p-3 border rounded-md hover-elevate cursor-pointer\">\n                        <div>\n                          <p className=\"font-medium\">{meeting.templateName || \"1:1 Meeting\"}</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {new Date(meeting.scheduledAt).toLocaleDateString(\"sv-SE\")} with {meeting.managerName}\n                          </p>\n                        </div>\n                        <Badge variant={statusVariants[meeting.status] || \"outline\"}>\n                          {meeting.status.replace(\"_\", \" \")}\n                        </Badge>\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"documents\" && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Documents</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {documents.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">No documents</p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {documents.map((doc) => (\n                    <div key={doc.id} className=\"flex items-center justify-between p-3 border rounded-md\">\n                      <div className=\"flex items-center gap-3\">\n                        <FileText className=\"h-5 w-5 text-muted-foreground\" />\n                        <div>\n                          <p className=\"font-medium\">{doc.title}</p>\n                          <p className=\"text-sm text-muted-foreground capitalize\">{doc.type.replace(\"_\", \" \")}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        {doc.validTo && (\n                          <span className=\"text-sm text-muted-foreground\">\n                            Valid to: {new Date(doc.validTo).toLocaleDateString(\"sv-SE\")}\n                          </span>\n                        )}\n                        <a href={doc.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                          <Button size=\"icon\" variant=\"ghost\">\n                            <Download className=\"h-4 w-4\" />\n                          </Button>\n                        </a>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"events\" && (\n          <Card>\n            <CardHeader>\n              <CardTitle>People Risk & Tasks</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {events.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">No events or tasks</p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {events.map((event) => (\n                    <div key={event.id} className=\"flex items-center justify-between p-3 border rounded-md\">\n                      <div>\n                        <p className=\"font-medium\">{event.title}</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {categoryLabels[event.category] || event.category} &middot; Due: {new Date(event.dueDate).toLocaleDateString(\"sv-SE\")}\n                        </p>\n                      </div>\n                      <Badge variant={statusVariants[event.status] || \"outline\"}>\n                        {event.status.replace(\"_\", \" \")}\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {activeTab === \"equipment\" && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Equipment</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {equipment.length === 0 ? (\n                <p className=\"text-muted-foreground text-center py-8\">No equipment assigned</p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {equipment.map((eq) => (\n                    <div key={eq.id} className=\"flex items-center justify-between p-3 border rounded-md\">\n                      <div className=\"flex items-center gap-3\">\n                        <Package className=\"h-5 w-5 text-muted-foreground\" />\n                        <div>\n                          <p className=\"font-medium\">{eq.equipmentName || \"Unknown\"}</p>\n                          <p className=\"text-sm text-muted-foreground\">{eq.serialNumber}</p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <Badge variant=\"secondary\">{eq.status}</Badge>\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                          Assigned: {new Date(eq.assignedDate).toLocaleDateString(\"sv-SE\")}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}